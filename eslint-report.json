[{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\TileManager.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of type `any[][]` to a variable of type `TileMapLayer`.","line":78,"column":9,"nodeType":"Property","messageId":"unsafeAssignment","endLine":78,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":78,"column":52,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":78,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of type `any[][]` to a variable of type `TileMapLayer`.","line":79,"column":9,"nodeType":"Property","messageId":"unsafeAssignment","endLine":79,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":79,"column":53,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":79,"endColumn":75}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { beforeEach, describe, expect, it, vi } from 'vitest';\r\nimport type { GameStateApi, TileDefinition, TileFrame, TileMap } from '../runtime/domain/definitions/tileTypes';\r\nimport { TileManager } from '../runtime/services/TileManager';\r\n\r\nconst makeFrame = (value: string): TileFrame =>\r\n  Array.from({ length: 8 }, () => Array.from({ length: 8 }, () => value));\r\n\r\nconst createGameState = (overrides?: Partial<GameStateApi>): GameStateApi => ({\r\n  game: {\r\n    tileset: {\r\n      tiles: [],\r\n      maps: [],\r\n      map: { ground: [], overlay: [] }\r\n    },\r\n    roomSize: 8,\r\n    world: { rows: 1, cols: 1 }\r\n  },\r\n  ...overrides\r\n});\r\n\r\nlet presets: TileDefinition[] = [];\r\n\r\nvi.mock('../runtime/domain/definitions/tilePresets', () => ({\r\n  get TILE_PRESETS_SOURCE() {\r\n    return presets;\r\n  },\r\n}));\r\n\r\ndescribe('TileManager business rules', () => {\r\n  beforeEach(() => {\r\n    presets = [\r\n      {\r\n        id: 1,\r\n        name: 'Grass',\r\n        collision: false,\r\n        pixels: makeFrame('green'),\r\n        category: 'Nature'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Wall',\r\n        collision: true,\r\n        pixels: makeFrame('gray'),\r\n        category: 'Structure'\r\n      }\r\n    ] as TileDefinition[];\r\n  });\r\n\r\n  it('initializes default tiles and maps when empty', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n\r\n    manager.ensureDefaultTiles();\r\n\r\n    expect(gameState.game.tileset.tiles.length).toBe(2);\r\n    expect(gameState.game.tileset.maps.length).toBe(1);\r\n    expect(gameState.game.tileset.maps[0].ground.length).toBe(8);\r\n    expect(gameState.game.tileset.maps[0].overlay.length).toBe(8);\r\n    expect(gameState.game.tileset.maps[0].ground[0][0]).toBe(1);\r\n  });\r\n\r\n  it('always uses room size 8 for tile maps', () => {\r\n    const gameState = createGameState();\r\n    gameState.game.roomSize = 12;\r\n    const manager = new TileManager(gameState);\r\n\r\n    manager.ensureDefaultTiles();\r\n\r\n    expect(gameState.game.tileset.maps[0].ground.length).toBe(8);\r\n    expect(gameState.game.tileset.maps[0].ground[0].length).toBe(8);\r\n  });\r\n\r\n  it('fills an existing empty map with the default tile', () => {\r\n    const gameState = createGameState();\r\n    const size = 8;\r\n    gameState.game.tileset.maps = [\r\n      {\r\n        ground: Array.from({ length: size }, () => Array(size).fill(null)),\r\n        overlay: Array.from({ length: size }, () => Array(size).fill(null))\r\n      }\r\n    ] as TileMap[];\r\n    const manager = new TileManager(gameState);\r\n\r\n    manager.ensureDefaultTiles();\r\n\r\n    expect(gameState.game.tileset.maps[0].ground[0][0]).toBe(1);\r\n  });\r\n\r\n  it('generates a tile id', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n\r\n    const id = manager.generateTileId();\r\n    expect(typeof id).toBe('string');\r\n    expect(id.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  it('prefers crypto.randomUUID when available', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    const globalWithCrypto = globalThis as GlobalWithCrypto;\r\n    const originalCrypto = globalWithCrypto.crypto;\r\n    if (originalCrypto?.randomUUID) {\r\n      const spy = vi.spyOn(originalCrypto, 'randomUUID').mockReturnValue('uuid-123');\r\n      expect(manager.generateTileId()).toBe('uuid-123');\r\n      spy.mockRestore();\r\n      return;\r\n    }\r\n\r\n    Object.defineProperty(globalThis, 'crypto', {\r\n      value: { randomUUID: () => 'uuid-123' },\r\n      configurable: true\r\n    });\r\n    expect(manager.generateTileId()).toBe('uuid-123');\r\n\r\n    if (originalCrypto) {\r\n      Object.defineProperty(globalThis, 'crypto', {\r\n        value: originalCrypto,\r\n        configurable: true\r\n      });\r\n    } else {\r\n      delete globalWithCrypto.crypto;\r\n    }\r\n  });\r\n\r\n  it('builds preset tiles using the configured presets', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n\r\n    const builtPresets = manager.buildPresetTiles();\r\n    expect(builtPresets.length).toBe(2);\r\n    expect(builtPresets[0].name).toBe('Grass');\r\n  });\r\n\r\n  it('sorts preset tiles by id when ids are strings', () => {\r\n    presets = [\r\n      { id: 'b', name: 'B', pixels: makeFrame('b') },\r\n      { id: 'a', name: 'A', pixels: makeFrame('a') }\r\n    ] as TileDefinition[];\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n\r\n    const builtPresets = manager.buildPresetTiles();\r\n    expect(builtPresets[0].id).toBe('a');\r\n  });\r\n\r\n  it('clones tiles without mutating the source', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    const source = { id: 1, pixels: makeFrame('green') } as TileDefinition;\r\n\r\n    const cloned = manager.cloneTile(source);\r\n    cloned.pixels?.[0]?.splice(0, 1, 'mutated');\r\n\r\n    expect(source.pixels?.[0]?.[0]).toBe('green');\r\n  });\r\n\r\n  it('preserves existing tiles and maps when provided', () => {\r\n    const gameState = createGameState({\r\n      game: {\r\n        tileset: {\r\n          tiles: [\r\n            { id: 10, name: 'Custom', pixels: makeFrame('red') },\r\n            { name: 'Missing id', pixels: makeFrame('blue') }\r\n          ],\r\n          maps: [\r\n            {\r\n              ground: [[10, 999], [null, 10]],\r\n              overlay: [[null, 10], [999, null]]\r\n            }\r\n          ],\r\n          map: { ground: [], overlay: [] }\r\n        },\r\n        roomSize: 2,\r\n        world: { rows: 1, cols: 1 }\r\n      }\r\n    });\r\n\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    const tiles = gameState.game.tileset.tiles;\r\n    expect(tiles[1].id).toBeUndefined();\r\n    expect(gameState.game.tileset.maps[0].ground).toEqual([\r\n      [10, 999],\r\n      [null, 10]\r\n    ]);\r\n    expect(gameState.game.tileset.maps[0].overlay).toEqual([\r\n      [null, 10],\r\n      [999, null]\r\n    ]);\r\n  });\r\n\r\n  it('returns preset tile names', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n\r\n    expect(manager.getPresetTileNames()).toEqual(['Grass', 'Wall']);\r\n  });\r\n\r\n  it('returns tiles from game state', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    expect(manager.getTiles().length).toBe(2);\r\n  });\r\n\r\n  it('finds a tile by id', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    expect(manager.getTile(1)?.name).toBe('Grass');\r\n  });\r\n\r\n  it('updates tiles using the payload values', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.updateTile(1, { name: 'New Name', collision: true, category: 'Test' });\r\n\r\n    const updated = manager.getTile(1);\r\n    expect(updated?.name).toBe('New Name');\r\n    expect(updated?.collision).toBe(true);\r\n    expect(updated?.category).toBe('Test');\r\n  });\r\n\r\n  it('clears frames and animation when pixels are updated', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.updateTile(1, { frames: [makeFrame('a'), makeFrame('b')] });\r\n    manager.updateTile(1, { pixels: makeFrame('c') });\r\n\r\n    const updated = manager.getTile(1);\r\n    expect(updated?.frames).toBeUndefined();\r\n    expect(updated?.animated).toBe(false);\r\n    expect(updated?.pixels?.[0]?.[0]).toBe('c');\r\n  });\r\n\r\n  it('routes map writes to ground or overlay based on collision', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.setMapTile(1, 1, 1);\r\n    manager.setMapTile(2, 2, 2);\r\n\r\n    const map = manager.getTileMap();\r\n    expect(map.ground[1][1]).toBe(1);\r\n    expect(map.overlay[1][1]).toBeNull();\r\n    expect(map.overlay[2][2]).toBe(2);\r\n  });\r\n\r\n  it('ignores map writes that are out of bounds', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.setMapTile(99, 99, 1);\r\n\r\n    const map = manager.getTileMap();\r\n    expect(map.ground[0][0]).toBe(1);\r\n  });\r\n\r\n  it('clears both layers when tileId is null', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.setMapTile(0, 0, 1);\r\n    manager.setMapTile(0, 0, null);\r\n\r\n    const map = manager.getTileMap();\r\n    expect(map.ground[0][0]).toBeNull();\r\n    expect(map.overlay[0][0]).toBeNull();\r\n  });\r\n\r\n  it('returns a room map by index', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    expect(manager.getTileMap(0)).toBe(gameState.game.tileset.maps[0]);\r\n  });\r\n\r\n  it('falls back to tileset.map when room index is missing', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    expect(manager.getTileMap(99)).toBe(gameState.game.tileset.map);\r\n  });\r\n\r\n  it('refreshes animation metadata based on frames', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.updateTile(1, { frames: [makeFrame('a'), makeFrame('b'), makeFrame('c')] });\r\n    manager.refreshAnimationMetadata();\r\n\r\n    expect(manager.getAnimationFrameCount()).toBe(3);\r\n  });\r\n\r\n  it('tracks animation frame bounds', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.updateTile(1, { frames: [makeFrame('a'), makeFrame('b')] });\r\n\r\n    expect(manager.getAnimationFrameCount()).toBe(2);\r\n    expect(manager.setAnimationFrameIndex(3)).toBe(1);\r\n    expect(manager.advanceAnimationFrame()).toBe(0);\r\n  });\r\n\r\n  it('returns the current animation frame index', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.updateTile(1, { frames: [makeFrame('a'), makeFrame('b')] });\r\n    manager.setAnimationFrameIndex(1);\r\n    expect(manager.getAnimationFrameIndex()).toBe(1);\r\n  });\r\n\r\n  it('returns normalized tile pixels for a given frame', () => {\r\n    const gameState = createGameState();\r\n    const manager = new TileManager(gameState);\r\n    manager.ensureDefaultTiles();\r\n\r\n    manager.updateTile(1, { frames: [makeFrame('a'), makeFrame('b')] });\r\n\r\n    const pixels = manager.getTilePixels(1, 1);\r\n    expect(pixels?.[0]?.[0]).toBe('b');\r\n  });\r\n});\r\n\r\ntype GlobalWithCrypto = typeof globalThis & {\r\n  crypto?: Crypto & { randomUUID?: () => string };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\engine\\InteractionManager.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":62,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":62,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .effect on an `any` value.","line":62,"column":65,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":62,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":63,"column":5,"nodeType":"Identifier","messageId":"unsafeCall","endLine":63,"endColumn":11}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { beforeEach, describe, expect, it, vi } from 'vitest';\r\nimport { itemCatalog } from '../../runtime/domain/services/ItemCatalog';\nimport { InteractionManager } from '../../runtime/services/engine/InteractionManager';\r\nimport { TextResources } from '../../runtime/adapters/TextResources';\r\n\r\ndescribe('InteractionManager', () => {\r\n  const getDefinitionSpy = vi.spyOn(itemCatalog, 'getItemDefinition');\n  const getDurabilitySpy = vi.spyOn(itemCatalog, 'getSwordDurability');\n  const getSpy = vi.spyOn(TextResources, 'get');\r\n  const formatSpy = vi.spyOn(TextResources, 'format');\r\n  const dialogManager = { showDialog: vi.fn() };\r\n  const baseGameState = () =>\r\n    ({\r\n      getGame: () => ({ items: [], sprites: [], exits: [], rooms: [] }),\r\n      getPlayer: () => ({ roomIndex: 0, x: 0, y: 0 }),\r\n      getObjectsForRoom: () => [],\r\n      getPlayerEndText: () => 'The End',\r\n      setActiveEndingText: vi.fn(),\r\n      normalizeVariableId: (id: string | null) => id,\r\n      isVariableOn: vi.fn(),\r\n      setVariableValue: vi.fn((_id: string, _value: boolean, _persist?: boolean) => [true, false] as [boolean, boolean?]),\r\n      addKeys: vi.fn(),\r\n      getLives: vi.fn(),\r\n      getMaxLives: vi.fn(),\r\n      hasSkill: vi.fn(),\r\n      healPlayerToFull: vi.fn(),\r\n      addLife: vi.fn(),\r\n      getExperienceToNext: vi.fn(),\r\n      addExperience: vi.fn(),\r\n      getSwordType: vi.fn(),\r\n      addDamageShield: vi.fn(),\r\n      showPickupOverlay: vi.fn(),\r\n      setPlayerPosition: vi.fn(),\r\n      getRoomIndex: vi.fn(),\r\n    }) satisfies ConstructorParameters<typeof InteractionManager>[0];\r\n\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n    getDefinitionSpy.mockImplementation((type: string) => ({\n      type,\n      id: `${type}-id`,\n      name: `Name:${type}`,\n      nameKey: `objects.${type}`,\n      behavior: { order: 0, tags: [] },\n      sprite: [],\n    }));\n    getDurabilitySpy.mockImplementation(() => 2);\r\n    getSpy.mockImplementation((_key: string, fallback = '') => fallback || 'fallback');\r\n    formatSpy.mockImplementation((_key: string, _params?: Record<string, unknown>, fallback = '') => fallback || 'formatted');\r\n  });\r\n\r\n  it('collects keys and triggers pickup overlay', () => {\r\n    const gameState = baseGameState();\r\n    const manager = new InteractionManager(gameState, dialogManager);\r\n    const key = { type: 'key', collected: false, roomIndex: 0, x: 0, y: 0 };\r\n\r\n    const handled = manager.handleCollectibleObject(key);\r\n    expect(handled).toBe(true);\r\n    expect(key.collected).toBe(true);\r\n    expect(gameState.showPickupOverlay).toHaveBeenCalled();\r\n\r\n    const effect = gameState.showPickupOverlay.mock.calls[0][0].effect;\r\n    effect?.();\r\n    expect(gameState.addKeys).toHaveBeenCalledWith(1);\r\n  });\r\n\r\n  it('toggles switches and shows dialog', () => {\r\n    const gameState = baseGameState();\r\n    const manager = new InteractionManager(gameState, dialogManager);\r\n    const object = { type: 'switch', on: false, variableId: 'var-1', roomIndex: 0, x: 0, y: 0 };\r\n\r\n    const handled = manager.handleSwitch(object);\r\n\r\n    expect(handled).toBe(true);\r\n    expect(object.on).toBe(true);\r\n    expect(gameState.setVariableValue).toHaveBeenCalledWith('var-1', true);\r\n    expect(dialogManager.showDialog).toHaveBeenCalled();\r\n  });\r\n\r\n  it('uses conditional NPC dialog when variable is active', () => {\r\n    const gameState = baseGameState();\r\n    gameState.isVariableOn.mockReturnValue(true);\r\n    const manager = new InteractionManager(gameState, dialogManager);\r\n\r\n    const text = manager.getNpcDialogText({\r\n      conditionVariableId: 'var-1',\r\n      conditionText: 'Conditional',\r\n      text: 'Default',\r\n      roomIndex: 0,\r\n      x: 0,\r\n      y: 0,\r\n    });\r\n\r\n    expect(text).toBe('Conditional');\r\n  });\r\n\r\n  it('moves player through room exits', () => {\r\n    const gameState = baseGameState();\r\n    gameState.getRoomIndex.mockReturnValue(0);\r\n    const manager = new InteractionManager(gameState, dialogManager);\r\n    const player = { roomIndex: 0, x: 1, y: 1 };\r\n    const exits = [{ roomIndex: 0, x: 1, y: 1, targetRoomIndex: 0, targetX: 2, targetY: 3 }];\r\n    const rooms = [{}];\r\n\r\n    manager.checkRoomExits(exits, rooms, player);\r\n\r\n    expect(gameState.setPlayerPosition).toHaveBeenCalledWith(2, 3, 0);\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\renderer\\Renderer.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":154,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":154,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3754,3757],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3754,3757],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":155,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":155,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3828,3831],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3828,3831],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, expect, it, vi } from 'vitest';\r\nimport { Renderer } from '../../runtime/adapters/Renderer';\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererPalette', () => ({\r\n  RendererPalette: class {\r\n    getColor() {\r\n      return '#000';\r\n    }\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererSpriteFactory', () => ({\r\n  RendererSpriteFactory: class {\r\n    getPlayerSprite() {\r\n      return [[null]];\r\n    }\r\n    getNpcSprites() {\r\n      return {};\r\n    }\r\n    getEnemySprites() {\r\n      return {};\r\n    }\r\n    getEnemySprite() {\r\n      return [[null]];\r\n    }\r\n    getObjectSprites() {\r\n      return {};\r\n    }\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererCanvasHelper', () => ({\r\n  RendererCanvasHelper: class {\r\n    getTilePixelSize() {\r\n      return 8;\r\n    }\r\n    drawCustomTile() {}\r\n    drawSprite() {}\r\n    drawTileOnCanvas() {}\r\n    drawTilePreview() {}\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererTileRenderer', () => ({\r\n  RendererTileRenderer: class {\r\n    clearCanvas() {}\r\n    drawBackground() {}\r\n    drawTiles() {}\r\n    drawWalls() {}\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererEntityRenderer', () => ({\r\n  RendererEntityRenderer: class {\r\n    setViewportOffset() {}\r\n    drawObjects() {}\r\n    drawItems() {}\r\n    drawNPCs() {}\r\n    drawEnemies() {}\r\n    drawPlayer() {}\r\n    drawTileIconOnPlayer() {}\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererDialogRenderer', () => ({\r\n  RendererDialogRenderer: class {\r\n    drawDialog() {}\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererHudRenderer', () => ({\r\n  RendererHudRenderer: class {\r\n    drawHUD() {}\r\n    drawInventory() {}\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererEffectsManager', () => ({\r\n  RendererEffectsManager: class {\r\n    drawEdgeFlash() {}\r\n    flashEdge() {}\r\n    showCombatIndicator() {}\r\n    flashScreen() {}\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererTransitionManager', () => ({\r\n  RendererTransitionManager: class {\r\n    isActive() {\r\n      return false;\r\n    }\r\n    start() {\r\n      return true;\r\n    }\r\n    drawFrame() {}\r\n  },\r\n}));\r\n\r\nvi.mock('../../runtime/adapters/renderer/RendererOverlayRenderer', () => ({\r\n  RendererOverlayRenderer: class {\r\n    setIntroData() {}\r\n    drawIntroOverlay() {}\r\n    drawLevelUpCelebrationOverlay() {}\r\n    drawPickupOverlay() {}\r\n    drawGameOverScreen() {}\r\n    drawLevelUpOverlayFull() {}\r\n  },\r\n}));\r\n\r\ndescribe('Renderer', () => {\r\n  it('advances tile animations and dispatches events', () => {\r\n    vi.useFakeTimers();\r\n\r\n    const ctx = {\r\n      imageSmoothingEnabled: true,\r\n      clearRect: vi.fn(),\r\n      save: vi.fn(),\r\n      translate: vi.fn(),\r\n      fillRect: vi.fn(),\r\n      restore: vi.fn(),\r\n      fillText: vi.fn(),\r\n      strokeRect: vi.fn(),\r\n    } as CanvasRenderingContext2D;\r\n\r\n    const canvas = {\r\n      width: 64,\r\n      height: 64,\r\n      getContext: () => ctx,\r\n    } as HTMLCanvasElement;\r\n\r\n    const tileManager = {\r\n      getAnimationFrameCount: vi.fn(() => 2),\r\n      advanceAnimationFrame: vi.fn(() => 1),\r\n    };\r\n\r\n    const gameState = {\r\n      isGameOver: () => false,\r\n      isEditorModeActive: () => false,\r\n    };\r\n\r\n    const dispatchEvent = vi.fn();\r\n    const originalDispatchEvent = globalThis.dispatchEvent;\r\n    const originalCustomEvent = globalThis.CustomEvent;\r\n    const originalEvent = globalThis.Event;\r\n\r\n    globalThis.dispatchEvent = dispatchEvent;\r\n    globalThis.Event = class Event {\r\n      type: string;\r\n      constructor(type: string) {\r\n        this.type = type;\r\n      }\r\n    } as typeof Event;\r\n    globalThis.CustomEvent = class CustomEvent extends globalThis.Event {\r\n      detail: Record<string, any>;\r\n      constructor(type: string, params?: { detail?: Record<string, any> }) {\r\n        super(type);\r\n        this.detail = params?.detail ?? {};\r\n      }\r\n    } as typeof CustomEvent;\r\n\r\n    const startLoopSpy = vi.spyOn(Renderer.prototype, 'startTileAnimationLoop').mockImplementation(() => {});\r\n\r\n    try {\r\n      const renderer = new Renderer(canvas, gameState, tileManager, {});\r\n      renderer.draw = vi.fn();\r\n\r\n      renderer.tickTileAnimation();\r\n\r\n      expect(tileManager.advanceAnimationFrame).toHaveBeenCalledTimes(1);\r\n      expect(renderer.draw).toHaveBeenCalledTimes(1);\r\n      expect(dispatchEvent).toHaveBeenCalledTimes(1);\r\n    } finally {\r\n      startLoopSpy.mockRestore();\r\n      globalThis.dispatchEvent = originalDispatchEvent;\r\n      globalThis.CustomEvent = originalCustomEvent;\r\n      globalThis.Event = originalEvent;\r\n      vi.clearAllTimers();\r\n      vi.useRealTimers();\r\n    }\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\share\\ShareBase64.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":11,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":11,"endColumn":51}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { beforeAll, describe, expect, it, vi } from 'vitest';\nimport { setupShareGlobals, ShareBase64 } from './shareTestUtils';\n\ndescribe('ShareBase64', () => {\n  beforeAll(() => {\n    setupShareGlobals();\n  });\n\n  it('roundtrips base64 url encoding', () => {\n    const bytes = Uint8Array.from([0, 1, 2, 254, 255]);\n    const encoded = ShareBase64.toBase64Url(bytes);\n    const decoded = ShareBase64.fromBase64Url(encoded);\n\n    expect(Array.from(decoded)).toEqual(Array.from(bytes));\n  });\n\n  it('returns empty array for invalid input', () => {\n    const warnSpy = vi.spyOn(console, 'warn').mockImplementation(() => {});\n\n    const decoded = ShareBase64.fromBase64Url('@@not-base64@@');\n\n    expect(decoded.length).toBe(0);\n    expect(warnSpy).toHaveBeenCalled();\n\n    warnSpy.mockRestore();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\share\\ShareMatrixCodec.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":23,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":23,"endColumn":58}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { beforeAll, describe, expect, it } from 'vitest';\nimport { setupShareGlobals, ShareConstants, ShareMatrixCodec } from './shareTestUtils';\n\ndescribe('ShareMatrixCodec', () => {\n  beforeAll(() => {\n    setupShareGlobals();\n  });\n\n  it('normalizes ground to the matrix size and clamps values', () => {\n    const matrix = [[999]];\n    const normalized = ShareMatrixCodec.normalizeGround(matrix);\n\n    expect(normalized.length).toBe(ShareConstants.MATRIX_SIZE);\n    expect(normalized[0][0]).toBe(ShareConstants.TILE_VALUE_MAX);\n  });\n\n  it('encodes and decodes ground matrices', () => {\n    const size = ShareConstants.MATRIX_SIZE;\n    const matrix = Array.from({ length: size }, (_, y) =>\n      Array.from({ length: size }, (_, x) => (x === 1 && y === 2 ? 5 : 0))\n    );\n\n    const encoded = ShareMatrixCodec.encodeGround(matrix);\n    const decoded = ShareMatrixCodec.decodeGround(encoded, ShareConstants.VERSION);\n\n    expect(decoded[2][1]).toBe(5);\n  });\n\n  it('encodes and decodes overlay matrices with nulls', () => {\n    const size = ShareConstants.MATRIX_SIZE;\n    const matrix = Array.from({ length: size }, () => Array.from({ length: size }, () => null));\n    matrix[0][0] = 7;\n\n    const { text } = ShareMatrixCodec.encodeOverlay(matrix);\n    const decoded = ShareMatrixCodec.decodeOverlay(text, ShareConstants.VERSION);\n\n    expect(decoded[0][0]).toBe(7);\n    expect(decoded[0][1]).toBeNull();\n  });\n\n  it('collects matrices with a fallback for the first room', () => {\n    const ground = [[1]];\n    const overlay = [[null]];\n    const gameData = { tileset: { maps: [], map: { ground, overlay } } };\n    const matrices = ShareMatrixCodec.collectGroundMatrices(gameData, 2);\n\n    expect(matrices[0]).toEqual(ground);\n    expect(matrices[1]).toEqual([]);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\share\\SharePositionCodec.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":28,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":28,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":30,"column":12,"nodeType":"MemberExpression","messageId":"errorCall","endLine":30,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startsWith on a type that cannot be resolved.","line":30,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":30,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":48,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":48,"endColumn":71}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { beforeAll, describe, expect, it } from 'vitest';\nimport { setupShareGlobals, ShareConstants, SharePositionCodec } from './shareTestUtils';\n\ndescribe('SharePositionCodec', () => {\n  beforeAll(() => {\n    setupShareGlobals({\n      npcDefinitions: [\n        { id: 'npc-1', type: 'npc-a', name: 'Npc A' },\n        { id: 'npc-2', type: 'npc-b', name: 'Npc B' }\n      ],\n      enemyDefinitions: [\n        { type: 'enemy-a' },\n        { type: 'enemy-b' }\n      ]\n    });\n  });\n\n  it('roundtrips position bytes', () => {\n    const encoded = SharePositionCodec.positionToByte({ x: 7, y: 7, roomIndex: 8 });\n    const decoded = SharePositionCodec.byteToPosition(encoded);\n\n    expect(decoded.x).toBe(7);\n    expect(decoded.y).toBe(7);\n    expect(decoded.roomIndex).toBe(0);\n  });\n\n  it('uses wide encoding when room index exceeds 3', () => {\n    const encoded = SharePositionCodec.encodePositions([{ x: 1, y: 2, roomIndex: 4 }]);\n\n    expect(encoded.startsWith(ShareConstants.POSITION_WIDE_PREFIX)).toBe(true);\n    expect(SharePositionCodec.decodePositions(encoded)[0]).toEqual({ x: 1, y: 2, roomIndex: 4 });\n  });\n\n  it('skips encoding npc indexes when sequential', () => {\n    const sprites = [\n      { type: 'npc-a' },\n      { type: 'npc-b' }\n    ];\n\n    expect(SharePositionCodec.encodeNpcTypeIndexes(sprites)).toBe('');\n  });\n\n  it('encodes enemy indexes and pads missing values', () => {\n    const enemies = [\n      { type: 'enemy-b' }\n    ];\n\n    const encoded = SharePositionCodec.encodeEnemyTypeIndexes(enemies);\n    const decoded = SharePositionCodec.decodeEnemyTypeIndexes(encoded, 3);\n\n    expect(decoded.length).toBe(3);\n    expect(decoded[0]).toBe(1);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\share\\ShareTextCodec.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":10,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":10,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":18,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":18,"endColumn":59}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { beforeAll, describe, expect, it } from 'vitest';\nimport { setupShareGlobals, ShareTextCodec } from './shareTestUtils';\n\ndescribe('ShareTextCodec', () => {\n  beforeAll(() => {\n    setupShareGlobals();\n  });\n\n  it('roundtrips text encoding', () => {\n    const encoded = ShareTextCodec.encodeText('ola mundo');\n    const decoded = ShareTextCodec.decodeText(encoded, 'fallback');\n\n    expect(decoded).toBe('ola mundo');\n  });\n\n  it('roundtrips text arrays', () => {\n    const values = ['um', 'dois', 'tres'];\n    const encoded = ShareTextCodec.encodeTextArray(values);\n    const decoded = ShareTextCodec.decodeTextArray(encoded);\n\n    expect(decoded).toEqual(values);\n  });\n\n  it('returns fallbacks for empty inputs', () => {\n    expect(ShareTextCodec.decodeText('', 'fallback')).toBe('fallback');\n    expect(ShareTextCodec.decodeTextArray('')).toEqual([]);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\share\\ShareVariableCodec.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":16,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":16,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":33,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":33,"endColumn":73}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { beforeAll, describe, expect, it } from 'vitest';\nimport { setupShareGlobals, ShareConstants, ShareVariableCodec } from './shareTestUtils';\n\ndescribe('ShareVariableCodec', () => {\n  beforeAll(() => {\n    setupShareGlobals();\n  });\n\n  it('encodes and decodes variable states', () => {\n    const ids = ShareConstants.VARIABLE_IDS;\n    const variables = [\n      { id: ids[0], value: true },\n      { id: ids[1], value: false }\n    ];\n\n    const encoded = ShareVariableCodec.encodeVariables(variables);\n    const decoded = ShareVariableCodec.decodeVariables(encoded);\n\n    expect(decoded[0]).toBe(true);\n    expect(decoded[1]).toBe(false);\n  });\n\n  it('maps variable ids to nibbles and back', () => {\n    const id = ShareConstants.VARIABLE_IDS[0];\n    const nibble = ShareVariableCodec.variableIdToNibble(id);\n\n    expect(nibble).toBe(1);\n    expect(ShareVariableCodec.nibbleToVariableId(nibble)).toBe(id);\n  });\n\n  it('roundtrips nibble arrays', () => {\n    const values = [1, 0, 3, 4, 15];\n    const encoded = ShareVariableCodec.encodeVariableNibbleArray(values);\n    const decoded = ShareVariableCodec.decodeVariableNibbleArray(encoded, values.length);\n\n    expect(decoded).toEqual(values);\n  });\n\n  it('builds variable entries from states', () => {\n    const states = ShareConstants.VARIABLE_IDS.map((_, index) => index === 0);\n    const entries = ShareVariableCodec.buildVariableEntries(states);\n\n    expect(entries.length).toBe(ShareConstants.VARIABLE_IDS.length);\n    expect(entries[0].value).toBe(true);\n    expect(entries[0].name).toBeTruthy();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\__tests__\\state\\StateEnemyManager.test.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":38,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":38,"endColumn":102}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, expect, it } from 'vitest';\r\nimport { StateEnemyManager } from '../../runtime/domain/state/StateEnemyManager';\r\n\r\nconst createWorldManager = () => ({\r\n  clampRoomIndex: (value: number) => {\r\n    const numeric = Number.isFinite(value) ? Math.floor(value) : 0;\r\n    return Math.max(0, Math.min(8, numeric));\r\n  },\r\n  clampCoordinate: (value: number) => {\r\n    const numeric = Number.isFinite(value) ? Math.floor(value) : 0;\r\n    return Math.max(0, Math.min(7, numeric));\r\n  },\r\n});\r\n\r\ndescribe('StateEnemyManager', () => {\r\n  it('keeps only one boss enemy at a time', () => {\r\n    const game = { enemies: [], variables: [] };\r\n    const state = { enemies: [] };\r\n    const manager = new StateEnemyManager(game, state, createWorldManager());\r\n\r\n    manager.addEnemy({ id: 'boss-1', type: 'dragon', roomIndex: 0, x: 1, y: 1 });\r\n    manager.addEnemy({ id: 'boss-2', type: 'dragon', roomIndex: 1, x: 2, y: 2 });\r\n\r\n    expect(game.enemies.length).toBe(1);\r\n    expect(state.enemies.length).toBe(1);\r\n    expect(game.enemies[0].id).toBe('boss-2');\r\n  });\r\n\r\n  it('limits enemies per room', () => {\r\n    const game = { enemies: [], variables: [] };\r\n    const state = { enemies: [] };\r\n    const manager = new StateEnemyManager(game, state, createWorldManager());\r\n\r\n    for (let i = 0; i < 6; i += 1) {\r\n      manager.addEnemy({ id: `enemy-${i}`, type: 'giant-rat', roomIndex: 0, x: i, y: 0 });\r\n    }\r\n\r\n    const rejected = manager.addEnemy({ id: 'enemy-7', type: 'giant-rat', roomIndex: 0, x: 7, y: 0 });\r\n\r\n    expect(rejected).toBe(null);\r\n    expect(game.enemies.length).toBe(6);\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\EditorManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":20,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":20,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":24,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":24,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":24,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":24,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":25,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":25,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":25,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":25,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getContext on a type that cannot be resolved.","line":25,"column":40,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .imageSmoothingEnabled on a type that cannot be resolved.","line":27,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":27,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":52,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":52,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":52,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":52,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":55,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":55,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":55,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":59,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":59,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":59,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":62,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":62,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":62,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":62,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":66,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":66,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":66,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":66,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":69,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":69,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":69,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":73,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":73,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on a type that cannot be resolved.","line":73,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":73,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":76,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":76,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on a type that cannot be resolved.","line":76,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":80,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":80,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":80,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":83,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":83,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":83,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":87,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":87,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":87,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":90,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":90,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":90,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":90,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":94,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":94,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":94,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":94,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":97,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":97,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":97,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":97,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":101,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":101,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":101,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":104,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":104,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":104,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":104,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":108,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":108,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":108,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":108,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":111,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":111,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":111,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":111,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":115,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":115,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPainting on a type that cannot be resolved.","line":115,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":118,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":118,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPainting on a type that cannot be resolved.","line":118,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":118,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":122,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":122,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":126,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":126,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bind on a type that cannot be resolved.","line":126,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":126,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":130,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":130,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileManager on a type that cannot be resolved.","line":130,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":130,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":131,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":131,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":131,"column":23,"nodeType":"MemberExpression","messageId":"errorCall","endLine":131,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTiles on a type that cannot be resolved.","line":131,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":131,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":132,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":132,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":133,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":133,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on a type that cannot be resolved.","line":133,"column":41,"nodeType":"Literal","messageId":"errorMemberExpression","endLine":133,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":137,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":137,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":137,"column":32,"nodeType":"MemberExpression","messageId":"errorCall","endLine":137,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on a type that cannot be resolved.","line":137,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":137,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on a type that cannot be resolved.","line":137,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":137,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":138,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":138,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":138,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":138,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on a type that cannot be resolved.","line":138,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":138,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on a type that cannot be resolved.","line":138,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":138,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":139,"column":69,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":139,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":140,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":140,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on a type that cannot be resolved.","line":140,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":140,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":145,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":145,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pushCurrentState on a type that cannot be resolved.","line":145,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":145,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":149,"column":37,"nodeType":"MemberExpression","messageId":"errorCall","endLine":149,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clearSelection on a type that cannot be resolved.","line":149,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":149,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":150,"column":36,"nodeType":"MemberExpression","messageId":"errorCall","endLine":150,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clearSelection on a type that cannot be resolved.","line":150,"column":53,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":150,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":151,"column":38,"nodeType":"MemberExpression","messageId":"errorCall","endLine":151,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clearSelection on a type that cannot be resolved.","line":151,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":151,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":152,"column":39,"nodeType":"MemberExpression","messageId":"errorCall","endLine":152,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clearSelection on a type that cannot be resolved.","line":152,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":152,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":155,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":155,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTileList on a type that cannot be resolved.","line":155,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":155,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":156,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":156,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateSelectedTilePreview on a type that cannot be resolved.","line":156,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":156,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":159,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":159,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderNpcs on a type that cannot be resolved.","line":159,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":159,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":162,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":162,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemyCatalog on a type that cannot be resolved.","line":162,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":162,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":165,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":165,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":165,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":165,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":172,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":172,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTileList on a type that cannot be resolved.","line":172,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":172,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":173,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":173,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderWorldGrid on a type that cannot be resolved.","line":173,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":173,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":174,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":174,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderNpcs on a type that cannot be resolved.","line":174,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":174,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":175,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":175,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemyCatalog on a type that cannot be resolved.","line":175,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":175,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":176,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":176,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemies on a type that cannot be resolved.","line":176,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":176,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":177,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":177,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":177,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":177,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":178,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":178,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjects on a type that cannot be resolved.","line":178,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":178,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":179,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":179,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEditor on a type that cannot be resolved.","line":179,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":179,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":180,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":180,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateSelectedTilePreview on a type that cannot be resolved.","line":180,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":180,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":185,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":185,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEditor on a type that cannot be resolved.","line":185,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":185,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":189,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":189,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTileList on a type that cannot be resolved.","line":189,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":189,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":193,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":193,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateSelectedTilePreview on a type that cannot be resolved.","line":193,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":193,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":197,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":197,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderNpcs on a type that cannot be resolved.","line":197,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":197,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":201,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":201,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemies on a type that cannot be resolved.","line":201,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":201,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":205,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":205,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemyCatalog on a type that cannot be resolved.","line":205,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":205,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":209,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":209,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":209,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":209,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":213,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":213,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjects on a type that cannot be resolved.","line":213,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":213,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":217,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":217,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderWorldGrid on a type that cannot be resolved.","line":217,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":217,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":221,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":221,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toggleVariablePanel on a type that cannot be resolved.","line":221,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":221,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":225,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":225,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toggleSkillPanel on a type that cannot be resolved.","line":225,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":225,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":229,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":229,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toggleTestPanel on a type that cannot be resolved.","line":229,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":229,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":233,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":233,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setTestStartLevel on a type that cannot be resolved.","line":233,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":233,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":237,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":237,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setTestSkills on a type that cannot be resolved.","line":237,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":237,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":241,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":241,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setGodMode on a type that cannot be resolved.","line":241,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":241,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":245,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":245,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setActiveMobilePanel on a type that cannot be resolved.","line":245,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":245,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":249,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":249,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateMobilePanels on a type that cannot be resolved.","line":249,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":249,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":254,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":254,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startPaint on a type that cannot be resolved.","line":254,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":254,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":258,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":258,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .continuePaint on a type that cannot be resolved.","line":258,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":258,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":262,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":262,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .finishPaint on a type that cannot be resolved.","line":262,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":262,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":267,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":267,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addNpc on a type that cannot be resolved.","line":267,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":267,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":271,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":271,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeSelectedNpc on a type that cannot be resolved.","line":271,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":271,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":275,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":275,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcSelection on a type that cannot be resolved.","line":275,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":275,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcText on a type that cannot be resolved.","line":279,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":279,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":280,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":280,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcText on a type that cannot be resolved.","line":280,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":280,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcText on a type that cannot be resolved.","line":280,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":280,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcConditionalText on a type that cannot be resolved.","line":284,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":284,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":285,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":285,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcConditionalText on a type that cannot be resolved.","line":285,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":285,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcConditionalText on a type that cannot be resolved.","line":285,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":285,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":289,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":289,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcConditionalVariable on a type that cannot be resolved.","line":289,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":289,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":291,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":291,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleConditionVariableChange on a type that cannot be resolved.","line":291,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":291,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on a type that cannot be resolved.","line":291,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":291,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":295,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":295,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcRewardVariable on a type that cannot be resolved.","line":295,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":295,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":297,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":297,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleRewardVariableChange on a type that cannot be resolved.","line":297,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":297,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on a type that cannot be resolved.","line":297,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":297,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":301,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":301,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcConditionalRewardVariable on a type that cannot be resolved.","line":301,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":301,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":303,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":303,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleConditionalRewardVariableChange on a type that cannot be resolved.","line":303,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":303,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on a type that cannot be resolved.","line":303,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":303,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":307,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":307,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeEnemy on a type that cannot be resolved.","line":307,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":307,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":311,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":311,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeObject on a type that cannot be resolved.","line":311,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":311,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":315,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":315,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toggle on a type that cannot be resolved.","line":315,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":315,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":320,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":320,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setActiveRoom on a type that cannot be resolved.","line":320,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":320,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":325,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":325,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":325,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":325,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .generateShareableUrl on a type that cannot be resolved.","line":325,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":325,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":329,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":329,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .saveGame on a type that cannot be resolved.","line":329,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":329,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":333,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":333,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .loadGameFile on a type that cannot be resolved.","line":333,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":333,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":338,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":338,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pushCurrentState on a type that cannot be resolved.","line":338,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":338,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":342,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":342,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .undo on a type that cannot be resolved.","line":342,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":342,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":346,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":346,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .redo on a type that cannot be resolved.","line":346,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":346,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":351,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":351,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateGameMetadata on a type that cannot be resolved.","line":351,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":351,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":355,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":355,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":355,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":355,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":359,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":359,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .syncUI on a type that cannot be resolved.","line":359,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":359,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":365,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":365,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .importGameData on a type that cannot be resolved.","line":365,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":365,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":366,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":366,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileManager on a type that cannot be resolved.","line":366,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":366,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":368,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":368,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":368,"column":23,"nodeType":"MemberExpression","messageId":"errorCall","endLine":368,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTiles on a type that cannot be resolved.","line":368,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":368,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":369,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":369,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":369,"column":30,"nodeType":"MemberExpression","messageId":"errorCall","endLine":369,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":369,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":369,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":369,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":369,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":370,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":370,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on a type that cannot be resolved.","line":370,"column":41,"nodeType":"Literal","messageId":"errorMemberExpression","endLine":370,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":373,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":373,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":373,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":373,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":373,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":373,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":374,"column":14,"nodeType":"MemberExpression","messageId":"errorCall","endLine":374,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":374,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":374,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":374,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":374,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":380,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":380,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `EnemyTypeInput`.","line":381,"column":63,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":381,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":384,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":384,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .some on a type that cannot be resolved.","line":384,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":384,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":384,"column":55,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":384,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":385,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":385,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on a type that cannot be resolved.","line":385,"column":50,"nodeType":"Literal","messageId":"errorMemberExpression","endLine":385,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":389,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":389,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .draw on a type that cannot be resolved.","line":389,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":389,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":392,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":392,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pushCurrentState on a type that cannot be resolved.","line":392,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":392,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":398,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":398,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleCanvasResize on a type that cannot be resolved.","line":398,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":398,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":402,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":402,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleLanguageChange on a type that cannot be resolved.","line":402,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":402,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":406,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":406,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .refreshNpcLocalizedText on a type that cannot be resolved.","line":406,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":406,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":410,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":410,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleKey on a type that cannot be resolved.","line":410,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":410,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":414,"column":66,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":414,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":423,"column":60,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":423,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":424,"column":60,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":424,"endColumn":80}],"suppressedMessages":[],"errorCount":244,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EnemyDefinitions } from '../runtime/domain/definitions/EnemyDefinitions';\r\nimport { EditorConstants } from './modules/EditorConstants';\r\nimport { EditorDomCache } from './modules/EditorDomCache';\r\nimport { EditorEnemyService } from './modules/EditorEnemyService';\r\nimport { EditorHistoryManager } from './modules/EditorHistoryManager';\r\nimport { EditorNpcService } from './modules/EditorNpcService';\r\nimport { EditorObjectService } from './modules/EditorObjectService';\r\nimport { EditorRenderService } from './modules/EditorRenderService';\r\nimport { EditorShareService } from './modules/EditorShareService';\r\nimport { EditorState } from './modules/EditorState';\r\nimport { EditorTileService } from './modules/EditorTileService';\r\nimport { EditorVariableService } from './modules/EditorVariableService';\r\nimport { EditorWorldService } from './modules/EditorWorldService';\r\nimport { EditorEventBinder } from './manager/EditorEventBinder';\r\nimport { EditorInteractionController } from './manager/EditorInteractionController';\r\nimport { EditorUIController } from './manager/EditorUIController';\r\nclass EditorManager {\r\n    constructor(gameEngine) {\r\n        this.gameEngine = gameEngine;\r\n        this.state = new EditorState();\r\n        this.domCache = new EditorDomCache(typeof document !== 'undefined' ? document : null);\r\n\r\n        this.editorCanvas = this.domCache.editorCanvas || null;\r\n        this.ectx = this.editorCanvas?.getContext('2d') ?? null;\r\n        if (this.ectx) {\r\n            this.ectx.imageSmoothingEnabled = false;\r\n        }\r\n\r\n        this.history = new EditorHistoryManager(this);\r\n        this.renderService = new EditorRenderService(this);\r\n        this.tileService = new EditorTileService(this);\r\n        this.shareService = new EditorShareService(this);\r\n        this.npcService = new EditorNpcService(this);\r\n        this.enemyService = new EditorEnemyService(this);\r\n        this.objectService = new EditorObjectService(this);\r\n        this.variableService = new EditorVariableService(this);\r\n        this.worldService = new EditorWorldService(this);\r\n        this.uiController = new EditorUIController(this);\r\n        this.eventBinder = new EditorEventBinder(this);\r\n        this.interactionController = new EditorInteractionController(this);\r\n\r\n        this.bindEvents();\r\n        this.initialize();\r\n        if (typeof document !== 'undefined') {\r\n            document.addEventListener('language-changed', () => this.handleLanguageChange());\r\n        }\r\n    }\r\n\r\n    // State accessors to keep compatibility with legacy references\r\n    get selectedTileId() {\r\n        return this.state.selectedTileId;\r\n    }\r\n    set selectedTileId(value) {\r\n        this.state.selectedTileId = value;\r\n    }\r\n\r\n    get selectedNpcId() {\r\n        return this.state.selectedNpcId;\r\n    }\r\n    set selectedNpcId(value) {\r\n        this.state.selectedNpcId = value;\r\n    }\r\n\r\n    get selectedNpcType() {\r\n        return this.state.selectedNpcType;\r\n    }\r\n    set selectedNpcType(value) {\r\n        this.state.selectedNpcType = value;\r\n    }\r\n\r\n    get activeRoomIndex() {\r\n        return this.state.activeRoomIndex;\r\n    }\r\n    set activeRoomIndex(value) {\r\n        this.state.activeRoomIndex = value;\r\n    }\r\n\r\n    get placingNpc() {\r\n        return this.state.placingNpc;\r\n    }\r\n    set placingNpc(value) {\r\n        this.state.placingNpc = value;\r\n    }\r\n\r\n    get placingEnemy() {\r\n        return this.state.placingEnemy;\r\n    }\r\n    set placingEnemy(value) {\r\n        this.state.placingEnemy = value;\r\n    }\r\n\r\n    get placingObjectType() {\r\n        return this.state.placingObjectType;\r\n    }\r\n    set placingObjectType(value) {\r\n        this.state.placingObjectType = value;\r\n    }\r\n\r\n    get selectedObjectType() {\r\n        return this.state.selectedObjectType;\r\n    }\r\n    set selectedObjectType(value) {\r\n        this.state.selectedObjectType = value;\r\n    }\r\n\r\n    get selectedEnemyType() {\r\n        return this.state.selectedEnemyType;\r\n    }\r\n    set selectedEnemyType(value) {\r\n        this.state.selectedEnemyType = value;\r\n    }\r\n\r\n    get mapPainting() {\r\n        return this.state.mapPainting;\r\n    }\r\n    set mapPainting(value) {\r\n        this.state.mapPainting = value;\r\n    }\r\n\r\n    get dom() {\r\n        return this.domCache;\r\n    }\r\n\r\n    bindEvents() {\r\n        this.eventBinder.bind();\r\n    }\r\n\r\n    initialize() {\r\n        this.gameEngine.tileManager.ensureDefaultTiles();\r\n        const tiles = this.gameEngine.getTiles();\r\n        if (tiles.length > 0) {\r\n            this.selectedTileId = tiles[0].id;\r\n        }\r\n\r\n        this.syncUI();\r\n        const startRoomIndex = this.gameEngine.getGame()?.start?.roomIndex ?? 0;\r\n        const totalRooms = this.gameEngine.getGame()?.rooms?.length || 1;\r\n        this.activeRoomIndex = Math.max(0, Math.min(totalRooms - 1, startRoomIndex));\r\n        this.gameEngine.npcManager?.ensureDefaultNPCs?.();\r\n\r\n        this.renderAll();\r\n        this.updateMobilePanels();\r\n        this.handleCanvasResize(true);\r\n        this.history.pushCurrentState();\r\n    }\r\n\r\n    desselectAllAndRender() {\r\n        const tileCleared = Boolean(this.tileService?.clearSelection?.({ render: false }));\r\n        const npcCleared = Boolean(this.npcService?.clearSelection?.({ render: false }));\r\n        const enemyCleared = Boolean(this.enemyService?.clearSelection?.({ render: false }));\r\n        const objectCleared = Boolean(this.objectService?.clearSelection?.({ render: false }));\r\n\r\n        if (tileCleared) {\r\n            this.renderService.renderTileList();\r\n            this.renderService.updateSelectedTilePreview();\r\n        }\r\n        if (npcCleared) {\r\n            this.renderService.renderNpcs();\r\n        }\r\n        if (enemyCleared) {\r\n            this.renderService.renderEnemyCatalog();\r\n        }\r\n        if (objectCleared) {\r\n            this.renderService.renderObjectCatalog();\r\n        }\r\n\r\n        return tileCleared || npcCleared || enemyCleared || objectCleared;\r\n    }\r\n\r\n    renderAll() {\r\n        this.renderService.renderTileList();\r\n        this.renderService.renderWorldGrid();\r\n        this.renderService.renderNpcs();\r\n        this.renderService.renderEnemyCatalog();\r\n        this.renderService.renderEnemies();\r\n        this.renderService.renderObjectCatalog();\r\n        this.renderService.renderObjects();\r\n        this.renderService.renderEditor();\r\n        this.renderService.updateSelectedTilePreview();\r\n    }\r\n\r\n    // Delegated rendering APIs for backward compatibility\r\n    renderEditor() {\r\n        this.renderService.renderEditor();\r\n    }\r\n\r\n    renderTileList() {\r\n        this.renderService.renderTileList();\r\n    }\r\n\r\n    updateSelectedTilePreview() {\r\n        this.renderService.updateSelectedTilePreview();\r\n    }\r\n\r\n    renderNpcs() {\r\n        this.renderService.renderNpcs();\r\n    }\r\n\r\n    renderEnemies() {\r\n        this.renderService.renderEnemies();\r\n    }\r\n\r\n    renderEnemyCatalog() {\r\n        this.renderService.renderEnemyCatalog();\r\n    }\r\n\r\n    renderObjectCatalog() {\r\n        this.renderService.renderObjectCatalog();\r\n    }\r\n\r\n    renderObjects() {\r\n        this.renderService.renderObjects();\r\n    }\r\n\r\n    renderWorldGrid() {\r\n        this.renderService.renderWorldGrid();\r\n    }\r\n\r\n    toggleVariablePanel() {\r\n        this.uiController.toggleVariablePanel();\r\n    }\r\n\r\n    toggleSkillPanel() {\r\n        this.uiController.toggleSkillPanel();\r\n    }\r\n\r\n    toggleTestPanel() {\r\n        this.uiController.toggleTestPanel();\r\n    }\r\n\r\n    setTestStartLevel(level) {\r\n        this.uiController.setTestStartLevel(level);\r\n    }\r\n\r\n    setTestSkills(skills) {\r\n        this.uiController.setTestSkills(skills);\r\n    }\r\n\r\n    setGodMode(active) {\r\n        this.uiController.setGodMode(active);\r\n    }\r\n\r\n    setActiveMobilePanel(panel) {\r\n        this.uiController.setActiveMobilePanel(panel);\r\n    }\r\n\r\n    updateMobilePanels() {\r\n        this.uiController.updateMobilePanels();\r\n    }\r\n\r\n    // Tile painting delegation\r\n    startMapPaint(ev) {\r\n        this.tileService.startPaint(ev);\r\n    }\r\n\r\n    continueMapPaint(ev) {\r\n        this.tileService.continuePaint(ev);\r\n    }\r\n\r\n    finishMapPaint(ev) {\r\n        this.tileService.finishPaint(ev);\r\n    }\r\n\r\n    // NPC delegation\r\n    addNPC() {\r\n        this.npcService.addNpc();\r\n    }\r\n\r\n    removeSelectedNpc() {\r\n        this.npcService.removeSelectedNpc();\r\n    }\r\n\r\n    updateNpcSelection() {\r\n        this.npcService.updateNpcSelection(this.selectedNpcType, this.selectedNpcId);\r\n    }\r\n\r\n    updateNpcText() {\r\n        if (!this.dom.npcText) return;\r\n        this.npcService.updateNpcText(this.dom.npcText.value);\r\n    }\r\n\r\n    updateNpcConditionalText() {\r\n        if (!this.dom.npcConditionalText) return;\r\n        this.npcService.updateNpcConditionalText(this.dom.npcConditionalText.value);\r\n    }\r\n\r\n    handleNpcConditionVariableChange() {\r\n        const select = this.dom.npcConditionalVariable;\r\n        if (!select) return;\r\n        this.npcService.handleConditionVariableChange(select.value);\r\n    }\r\n\r\n    handleNpcRewardVariableChange() {\r\n        const select = this.dom.npcRewardVariable;\r\n        if (!select) return;\r\n        this.npcService.handleRewardVariableChange(select.value);\r\n    }\r\n\r\n    handleNpcConditionalRewardVariableChange() {\r\n        const select = this.dom.npcConditionalRewardVariable;\r\n        if (!select) return;\r\n        this.npcService.handleConditionalRewardVariableChange(select.value);\r\n    }\r\n\r\n    removeEnemy(enemyId) {\r\n        this.enemyService.removeEnemy(enemyId);\r\n    }\r\n\r\n    removeObject(type, roomIndex) {\r\n        this.objectService.removeObject(type, roomIndex);\r\n    }\r\n\r\n    toggleVariableDefault(variableId, nextValue = null) {\r\n        this.variableService.toggle(variableId, nextValue);\r\n    }\r\n\r\n    // World delegation\r\n    setActiveRoom(index) {\r\n        this.worldService.setActiveRoom(index);\r\n    }\r\n\r\n    // Sharing & persistence\r\n    generateShareableUrl() {\r\n        return this.shareService.generateShareableUrl();\r\n    }\r\n\r\n    saveGame() {\r\n        this.shareService.saveGame();\r\n    }\r\n\r\n    loadGameFile(ev) {\r\n        this.shareService.loadGameFile(ev);\r\n    }\r\n\r\n    // History\r\n    pushHistory() {\r\n        this.history.pushCurrentState();\r\n    }\r\n\r\n    undo() {\r\n        this.history.undo();\r\n    }\r\n\r\n    redo() {\r\n        this.history.redo();\r\n    }\r\n\r\n    // Game title & JSON sync\r\n    updateGameMetadata() {\r\n        this.uiController.updateGameMetadata();\r\n    }\r\n\r\n    updateJSON() {\r\n        this.uiController.updateJSON();\r\n    }\r\n\r\n    syncUI() {\r\n        this.uiController.syncUI();\r\n    }\r\n\r\n    // Restore & import logic\r\n    restore(data, options = {}) {\r\n        const { skipHistory = false } = options;\r\n        this.gameEngine.importGameData(data);\r\n        this.gameEngine.tileManager.ensureDefaultTiles();\r\n\r\n        const tiles = this.gameEngine.getTiles();\r\n        if (tiles.length && !tiles.find((t) => t.id === this.selectedTileId)) {\r\n            this.selectedTileId = tiles[0].id;\r\n        }\r\n\r\n        const npcs = this.gameEngine.getSprites();\r\n        if (!npcs.find((npc) => npc.id === this.selectedNpcId)) {\r\n            this.selectedNpcId = null;\r\n            this.selectedNpcType = null;\r\n            this.placingNpc = false;\r\n        }\r\n\r\n        const definitions = EditorConstants.ENEMY_DEFINITIONS;\r\n        const normalizedType = EnemyDefinitions.normalizeType(this.selectedEnemyType);\r\n        if (normalizedType !== this.selectedEnemyType) {\r\n            this.selectedEnemyType = normalizedType;\r\n        } else if (!definitions.some((entry) => entry.type === this.selectedEnemyType)) {\r\n            this.selectedEnemyType = definitions[0]?.type || 'giant-rat';\r\n        }\r\n\r\n        this.renderAll();\r\n        this.gameEngine.draw();\r\n        this.syncUI();\r\n        if (!skipHistory) {\r\n            this.history.pushCurrentState();\r\n        }\r\n    }\r\n\r\n    // Canvas & keyboard handling\r\n    handleCanvasResize(force = false) {\r\n        this.interactionController.handleCanvasResize(force);\r\n    }\r\n\r\n    handleLanguageChange() {\r\n        this.uiController.handleLanguageChange();\r\n    }\r\n\r\n    refreshNpcLocalizedText() {\r\n        this.uiController.refreshNpcLocalizedText();\r\n    }\r\n\r\n    handleKey(ev) {\r\n        this.interactionController.handleKey(ev);\r\n    }\r\n\r\n    createNewGame() {\r\n        const emptyLayer = () => Array.from({ length: 8 }, () => Array(8).fill(null));\r\n        const data = {\r\n            title: 'Novo Jogo',\r\n            palette: ['#0e0f13', '#2e3140', '#f4f4f8'],\r\n            roomSize: 8,\r\n            rooms: [\r\n                {\r\n                    size: 8,\r\n                    bg: 0,\r\n                    tiles: Array.from({ length: 8 }, () => Array(8).fill(0)),\r\n                    walls: Array.from({ length: 8 }, () => Array(8).fill(false))\r\n                }\r\n            ],\r\n            start: { x: 1, y: 1, roomIndex: 0 },\r\n            sprites: [],\r\n            items: [],\r\n            exits: [],\r\n            objects: [],\r\n            enemies: [],\r\n            variables: [],\r\n            tileset: {\r\n                tiles: [],\r\n                map: {\r\n                    ground: emptyLayer(),\r\n                    overlay: emptyLayer()\r\n                }\r\n            }\r\n        };\r\n        this.restore(data);\r\n    }\r\n}\r\n\r\nexport { EditorManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\manager\\EditorEventBinder.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":5,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":37,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":39,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":39,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":40,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":40,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on a type that cannot be resolved.","line":40,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":40,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":41,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":41,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyService on a type that cannot be resolved.","line":41,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":42,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":42,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectService on a type that cannot be resolved.","line":42,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":42,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":43,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":43,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .shareService on a type that cannot be resolved.","line":43,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":43,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":44,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":44,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileService on a type that cannot be resolved.","line":44,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":45,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":45,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .worldService on a type that cannot be resolved.","line":45,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":45,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":47,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":47,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":47,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":47,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":47,"column":55,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":47,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":47,"column":55,"nodeType":"MemberExpression","messageId":"errorCall","endLine":47,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeSelectedNpc on a type that cannot be resolved.","line":47,"column":66,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":47,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":48,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":48,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":48,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalDialogueExpanded on a type that cannot be resolved.","line":49,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":49,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalDialogueExpanded on a type that cannot be resolved.","line":49,"column":66,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":49,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":50,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":50,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcForm on a type that cannot be resolved.","line":50,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":50,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":53,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":53,"column":57,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":53,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":57,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .generateShareableUrl on a type that cannot be resolved.","line":53,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":54,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":54,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":54,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":54,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":54,"column":50,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":54,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":54,"column":50,"nodeType":"MemberExpression","messageId":"errorCall","endLine":54,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .undo on a type that cannot be resolved.","line":54,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":54,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":55,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":55,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":55,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":55,"column":50,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":55,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":55,"column":50,"nodeType":"MemberExpression","messageId":"errorCall","endLine":55,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .redo on a type that cannot be resolved.","line":55,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":56,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":56,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":56,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":56,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":56,"column":65,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":56,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":56,"column":65,"nodeType":"MemberExpression","messageId":"errorCall","endLine":56,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toggleVariablePanel on a type that cannot be resolved.","line":56,"column":73,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":56,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":57,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":57,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":57,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":57,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":57,"column":62,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":57,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":57,"column":62,"nodeType":"MemberExpression","messageId":"errorCall","endLine":57,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toggleSkillPanel on a type that cannot be resolved.","line":57,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":57,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":58,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":58,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":58,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":58,"column":60,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":58,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":58,"column":60,"nodeType":"MemberExpression","messageId":"errorCall","endLine":58,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toggleTestPanel on a type that cannot be resolved.","line":58,"column":68,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":60,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":60,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":60,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":60,"column":53,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":60,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":60,"column":53,"nodeType":"MemberExpression","messageId":"errorCall","endLine":60,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateGameMetadata on a type that cannot be resolved.","line":60,"column":61,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":61,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":61,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":61,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":61,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":61,"column":54,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":61,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":61,"column":54,"nodeType":"MemberExpression","messageId":"errorCall","endLine":61,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateGameMetadata on a type that cannot be resolved.","line":61,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":61,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":62,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":62,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":62,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":62,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":63,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":63,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":64,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":64,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setTestStartLevel on a type that cannot be resolved.","line":64,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":66,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":66,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":66,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":66,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":67,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":67,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setGodMode on a type that cannot be resolved.","line":67,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":67,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":67,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":67,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":69,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":69,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":69,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":69,"column":56,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":69,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":69,"column":56,"nodeType":"MemberExpression","messageId":"errorCall","endLine":69,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .select on a type that cannot be resolved.","line":69,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":70,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":70,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":70,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":70,"column":56,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":70,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":70,"column":56,"nodeType":"MemberExpression","messageId":"errorCall","endLine":70,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .select on a type that cannot be resolved.","line":70,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":71,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":71,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":71,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":71,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":72,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":72,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":72,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":72,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tagName on an `any` value.","line":73,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":73,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<unknown> | ArrayLike<unknown>`.","line":74,"column":39,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":74,"endColumn":117},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":74,"column":39,"nodeType":"MemberExpression","messageId":"errorCall","endLine":74,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .querySelectorAll on a type that cannot be resolved.","line":74,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":74,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":76,"column":33,"nodeType":"MemberExpression","messageId":"unsafeReturn","endLine":76,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skillId on a type that cannot be resolved.","line":76,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":78,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":78,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setTestSkills on a type that cannot be resolved.","line":78,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":78,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":80,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":80,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":80,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":80,"column":50,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":80,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":80,"column":50,"nodeType":"MemberExpression","messageId":"errorCall","endLine":80,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcText on a type that cannot be resolved.","line":80,"column":61,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on a type that cannot be resolved.","line":80,"column":83,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":81,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":81,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":81,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":81,"column":61,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":81,"endColumn":122},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":81,"column":61,"nodeType":"MemberExpression","messageId":"errorCall","endLine":81,"endColumn":96},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcConditionalText on a type that cannot be resolved.","line":81,"column":72,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":96},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on a type that cannot be resolved.","line":81,"column":116,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":121},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":82,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":82,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":82,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":82,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":82,"column":68,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":82,"endColumn":125},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":82,"column":68,"nodeType":"MemberExpression","messageId":"errorCall","endLine":82,"endColumn":108},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleConditionVariableChange on a type that cannot be resolved.","line":82,"column":79,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":82,"endColumn":108},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":82,"column":112,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":82,"endColumn":118},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":83,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":83,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":83,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":83,"column":63,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":83,"endColumn":117},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":83,"column":63,"nodeType":"MemberExpression","messageId":"errorCall","endLine":83,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleRewardVariableChange on a type that cannot be resolved.","line":83,"column":74,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":83,"column":104,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":83,"endColumn":110},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":84,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":84,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":84,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":84,"column":74,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":84,"endColumn":139},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":84,"column":74,"nodeType":"MemberExpression","messageId":"errorCall","endLine":84,"endColumn":122},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleConditionalRewardVariableChange on a type that cannot be resolved.","line":84,"column":85,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":122},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":84,"column":126,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":84,"endColumn":132},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":87,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":87,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on an `any` value.","line":87,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":87,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":88,"column":27,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":88,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":88,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":88,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":90,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":90,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setVariantFilter on a type that cannot be resolved.","line":90,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":90,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":95,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":95,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":95,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":95,"column":55,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":95,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":95,"column":55,"nodeType":"MemberExpression","messageId":"errorCall","endLine":95,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .loadGameFile on a type that cannot be resolved.","line":95,"column":68,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":97,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":97,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":97,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":97,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":98,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":98,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":98,"column":28,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":98,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":98,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":100,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":100,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":102,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":102,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":103,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":103,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .togglePlacement on a type that cannot be resolved.","line":103,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":103,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":106,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":106,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .desselectAllAndRender on a type that cannot be resolved.","line":106,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":106,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":108,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":108,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":109,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":109,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateSelectedTilePreview on a type that cannot be resolved.","line":109,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":109,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":110,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":110,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTileList on a type that cannot be resolved.","line":110,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":110,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":113,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":113,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":113,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":113,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":114,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":114,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":114,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":114,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":114,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":114,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":116,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":116,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":116,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":116,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":117,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":117,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":117,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":117,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":119,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":119,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .desselectAllAndRender on a type that cannot be resolved.","line":119,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":119,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":120,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":120,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcSelection on a type that cannot be resolved.","line":120,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":120,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":123,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":123,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":123,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":123,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":124,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":124,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":124,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":124,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":124,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":124,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":126,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":126,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":126,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":126,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":129,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":129,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .desselectAllAndRender on a type that cannot be resolved.","line":129,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":129,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":130,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":130,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectObjectType on a type that cannot be resolved.","line":130,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":130,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":133,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":133,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":133,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":133,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":134,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":134,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":134,"column":28,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":134,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":134,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":134,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":136,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":136,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":136,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":136,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .closest on an `any` value.","line":136,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":136,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":138,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":138,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":138,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":138,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":139,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":139,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":141,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":141,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeObject on a type that cannot be resolved.","line":141,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":141,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":144,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":144,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":144,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":144,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":145,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":145,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":145,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":145,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":145,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":145,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":147,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":147,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":147,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":147,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":150,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":150,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .desselectAllAndRender on a type that cannot be resolved.","line":150,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":150,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":151,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":151,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectEnemyType on a type that cannot be resolved.","line":151,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":151,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":154,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":154,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":154,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":154,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":155,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":155,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":155,"column":28,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":155,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":155,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":155,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":157,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":157,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":157,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":157,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":159,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":159,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeEnemy on a type that cannot be resolved.","line":159,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":159,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":162,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":162,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":162,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":162,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":163,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":163,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":163,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":163,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tagName on an `any` value.","line":164,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":164,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":165,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":165,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":165,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":165,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":167,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":167,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":167,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":167,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":168,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":168,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleEnemyVariableChange on a type that cannot be resolved.","line":168,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":168,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":171,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":171,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":171,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":171,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":172,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":172,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":172,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":172,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":172,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":172,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":174,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":174,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":175,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":175,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setActiveRoom on a type that cannot be resolved.","line":175,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":175,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":180,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":180,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on an `any` value.","line":180,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":180,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":181,"column":27,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":181,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":181,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":181,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":183,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":183,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .moveActiveRoom on a type that cannot be resolved.","line":183,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":183,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":189,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":189,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":189,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":189,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":189,"column":66,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":189,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":189,"column":66,"nodeType":"MemberExpression","messageId":"errorCall","endLine":189,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startPaint on a type that cannot be resolved.","line":189,"column":78,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":189,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":190,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":190,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":190,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":190,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":190,"column":66,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":190,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":190,"column":66,"nodeType":"MemberExpression","messageId":"errorCall","endLine":190,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .continuePaint on a type that cannot be resolved.","line":190,"column":78,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":190,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":195,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":195,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on an `any` value.","line":195,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":195,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":196,"column":27,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":196,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":196,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":196,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":198,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":198,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setActiveMobilePanel on a type that cannot be resolved.","line":198,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":198,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":203,"column":60,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":203,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":203,"column":60,"nodeType":"MemberExpression","messageId":"errorCall","endLine":203,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .finishPaint on a type that cannot be resolved.","line":203,"column":72,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":203,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":205,"column":54,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":205,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":205,"column":54,"nodeType":"MemberExpression","messageId":"errorCall","endLine":205,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleKey on a type that cannot be resolved.","line":205,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":205,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":207,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":207,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleCanvasResize on a type that cannot be resolved.","line":207,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":207,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":208,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":208,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateMobilePanels on a type that cannot be resolved.","line":208,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":208,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":212,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":212,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .handleCanvasResize on a type that cannot be resolved.","line":212,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":212,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":213,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":213,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateMobilePanels on a type that cannot be resolved.","line":213,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":213,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":217,"column":60,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":217,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":217,"column":60,"nodeType":"MemberExpression","messageId":"errorCall","endLine":217,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .finishPaint on a type that cannot be resolved.","line":217,"column":72,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":217,"endColumn":83}],"suppressedMessages":[],"errorCount":270,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { EditorManagerModule } from './EditorManagerModule';\nclass EditorEventBinder extends EditorManagerModule {\n    bind() {\n        const {\n            btnNpcDelete,\n            btnGenerateUrl,\n            btnUndo,\n            btnRedo,\n            titleInput,\n            authorInput,\n            npcText,\n            npcConditionalText,\n            npcConditionalVariable,\n            npcRewardVariable,\n            npcConditionalRewardVariable,\n            btnToggleNpcConditional,\n            fileInput,\n            editorCanvas,\n            npcVariantButtons,\n            enemyTypes,\n            enemiesList,\n            objectTypes,\n            objectsList,\n            tileList,\n            npcsList,\n            mapNavButtons,\n            mobileNavButtons,\n            worldGrid,\n            projectVariablesToggle,\n            projectSkillsToggle,\n            projectTestToggle,\n            projectTestStartLevel,\n            projectTestSkillList,\n            projectTestGodMode,\n            shareUrlInput\n        } = this.dom;\n\n        const manager = this.manager;\n        const npcService = manager.npcService;\n        const enemyService = manager.enemyService;\n        const objectService = manager.objectService;\n        const shareService = manager.shareService;\n        const tileService = manager.tileService;\n        const worldService = manager.worldService;\n\n        btnNpcDelete?.addEventListener('click', () => npcService.removeSelectedNpc());\n        btnToggleNpcConditional?.addEventListener('click', () => {\n            this.state.conditionalDialogueExpanded = !this.state.conditionalDialogueExpanded;\n            this.renderService.updateNpcForm();\n        });\n\n        btnGenerateUrl?.addEventListener('click', () => shareService.generateShareableUrl());\n        btnUndo?.addEventListener('click', () => manager.undo());\n        btnRedo?.addEventListener('click', () => manager.redo());\n        projectVariablesToggle?.addEventListener('click', () => manager.toggleVariablePanel());\n        projectSkillsToggle?.addEventListener('click', () => manager.toggleSkillPanel());\n        projectTestToggle?.addEventListener('click', () => manager.toggleTestPanel());\n\n        titleInput?.addEventListener('input', () => manager.updateGameMetadata());\n        authorInput?.addEventListener('input', () => manager.updateGameMetadata());\n        projectTestStartLevel?.addEventListener('change', (ev) => {\n            const value = Number(ev.target.value);\n            manager.setTestStartLevel(value);\n        });\n        projectTestGodMode?.addEventListener('change', (ev) => {\n            manager.setGodMode(ev.target.checked);\n        });\n        shareUrlInput?.addEventListener('focus', () => shareUrlInput.select());\n        shareUrlInput?.addEventListener('click', () => shareUrlInput.select());\n        projectTestSkillList?.addEventListener('change', (ev) => {\n            const target = ev.target;\n            if (!target || target.tagName !== 'INPUT') return;\n            const skills = Array.from(projectTestSkillList.querySelectorAll('input[type=\"checkbox\"][data-skill-id]'))\n                .filter((input) => input.checked)\n                .map((input) => input.dataset.skillId)\n                .filter(Boolean);\n            manager.setTestSkills(skills);\n        });\n        npcText?.addEventListener('input', () => npcService.updateNpcText(npcText.value));\n        npcConditionalText?.addEventListener('input', () => npcService.updateNpcConditionalText(npcConditionalText.value));\n        npcConditionalVariable?.addEventListener('change', (ev) => npcService.handleConditionVariableChange(ev.target.value));\n        npcRewardVariable?.addEventListener('change', (ev) => npcService.handleRewardVariableChange(ev.target.value));\n        npcConditionalRewardVariable?.addEventListener('change', (ev) => npcService.handleConditionalRewardVariableChange(ev.target.value));\n        if (Array.isArray(npcVariantButtons)) {\n            npcVariantButtons.forEach((button) => {\n                button.addEventListener('click', () => {\n                    const variant = button.dataset.npcVariantFilter;\n                    if (!variant) return;\n                    npcService.setVariantFilter(variant);\n                });\n            });\n        }\n\n        fileInput?.addEventListener('change', (ev) => shareService.loadGameFile(ev));\n\n        tileList?.addEventListener('click', (ev) => {\n            const button = ev.target.closest('[data-tile-id]');\n            if (!button) return;\n            const tileId = Number(button.dataset.tileId);\n            if (!Number.isFinite(tileId)) return;\n            if (this.state.placingObjectType) {\n                objectService.togglePlacement(this.state.placingObjectType, true);\n            }\n\n            manager.desselectAllAndRender();\n\n            manager.selectedTileId = tileId;\n            this.renderService.updateSelectedTilePreview();\n            this.renderService.renderTileList();\n        });\n\n        npcsList?.addEventListener('click', (ev) => {\n            const card = ev.target.closest('.npc-card');\n            if (!card) return;\n            const type = card.dataset.type || null;\n            const id = card.dataset.id || null;\n\n            manager.desselectAllAndRender();\n            npcService.updateNpcSelection(type, id);\n        });\n\n        objectTypes?.addEventListener('click', (ev) => {\n            const card = ev.target.closest('.object-type-card');\n            if (!card) return;\n            const type = card.dataset.type || null;\n            if (!type) return;\n\n            manager.desselectAllAndRender();\n            objectService.selectObjectType(type);\n        });\n\n        objectsList?.addEventListener('click', (ev) => {\n            const button = ev.target.closest('.object-remove');\n            if (!button) return;\n            const card = button.closest('.object-card');\n            if (!card) return;\n            const type = card.dataset.type;\n            const room = Number(card.dataset.roomIndex);\n            if (!type || !Number.isFinite(room)) return;\n            objectService.removeObject(type, room);\n        });\n\n        enemyTypes?.addEventListener('click', (ev) => {\n            const card = ev.target.closest('.enemy-card');\n            if (!card) return;\n            const type = card.dataset.type || null;\n            if (!type) return;\n\n            manager.desselectAllAndRender();\n            enemyService.selectEnemyType(type);\n        });\n\n        enemiesList?.addEventListener('click', (ev) => {\n            const button = ev.target.closest('[data-remove-enemy]');\n            if (!button) return;\n            const enemyId = button.dataset.removeEnemy;\n            if (!enemyId) return;\n            enemyService.removeEnemy(enemyId);\n        });\n\n        enemiesList?.addEventListener('change', (ev) => {\n            const target = ev.target;\n            if (!target || target.tagName !== 'SELECT') return;\n            const enemyId = target.dataset.enemyVariable;\n            if (!enemyId) return;\n            const value = target.value || '';\n            enemyService.handleEnemyVariableChange(enemyId, value);\n        });\n\n        worldGrid?.addEventListener('click', (ev) => {\n            const cell = ev.target.closest('[data-room-index]');\n            if (!cell) return;\n            const index = Number(cell.dataset.roomIndex);\n            worldService.setActiveRoom(index);\n        });\n\n        if (Array.isArray(mapNavButtons)) {\n            mapNavButtons.forEach((button) => {\n                button.addEventListener('click', () => {\n                    const direction = button.dataset.direction;\n                    if (!direction) return;\n                    worldService.moveActiveRoom(direction);\n                });\n            });\n        }\n\n        if (editorCanvas) {\n            editorCanvas.addEventListener('pointerdown', (ev) => tileService.startPaint(ev));\n            editorCanvas.addEventListener('pointermove', (ev) => tileService.continuePaint(ev));\n        }\n\n        if (Array.isArray(mobileNavButtons)) {\n            mobileNavButtons.forEach((button) => {\n                button.addEventListener('click', () => {\n                    const target = button.dataset.mobileTarget;\n                    if (!target) return;\n                    manager.setActiveMobilePanel(target);\n                });\n            });\n        }\n\n        globalThis.addEventListener?.('pointerup', (ev) => tileService.finishPaint(ev));\n\n        document.addEventListener('keydown', (ev) => manager.handleKey(ev));\n        globalThis.addEventListener?.('resize', (ev) => {\n            manager.handleCanvasResize(ev);\n            manager.updateMobilePanels();\n        });\n        document.addEventListener('editor-tab-activated', () =>\n            requestAnimationFrame(() => {\n                manager.handleCanvasResize(true);\n                manager.updateMobilePanels();\n            })\n        );\n\n        globalThis.addEventListener?.('pointerup', (ev) => tileService.finishPaint(ev));\n    }\n}\n\nexport { EditorEventBinder };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\manager\\EditorInteractionController.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":5,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":5,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":5,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":5,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":7,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":7,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .parentElement on a type that cannot be resolved.","line":7,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":7,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":10,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":10,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .offsetWidth on a type that cannot be resolved.","line":10,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":10,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clientWidth on a type that cannot be resolved.","line":10,"column":67,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":10,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on a type that cannot be resolved.","line":17,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":17,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .style on a type that cannot be resolved.","line":21,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":21,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on a type that cannot be resolved.","line":22,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":22,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .height on a type that cannot be resolved.","line":23,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":23,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":24,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":24,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEditor on a type that cannot be resolved.","line":24,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":24,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":25,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":25,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemies on a type that cannot be resolved.","line":25,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultPrevented on an `any` value.","line":29,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .key on an `any` value.","line":30,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":30,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":31,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":31,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":31,"column":85,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":32,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":32,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on a type that cannot be resolved.","line":32,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":32,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":33,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":33,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .preventDefault on an `any` value.","line":33,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":33,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":36,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":37,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":37,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyService on a type that cannot be resolved.","line":37,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":38,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":38,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .preventDefault on an `any` value.","line":38,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":38,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":41,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":42,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":42,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectService on a type that cannot be resolved.","line":42,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":42,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":42,"column":71,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":42,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":43,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":43,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .preventDefault on an `any` value.","line":43,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ctrlKey on an `any` value.","line":48,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":48,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .metaKey on an `any` value.","line":48,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":48,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":48,"column":43,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":48,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .key on an `any` value.","line":48,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":48,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":49,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":49,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .preventDefault on an `any` value.","line":49,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .shiftKey on an `any` value.","line":50,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":50,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":51,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":51,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .redo on a type that cannot be resolved.","line":51,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":51,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .undo on a type that cannot be resolved.","line":53,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ctrlKey on an `any` value.","line":57,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":57,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .metaKey on an `any` value.","line":57,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":57,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":57,"column":43,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":57,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .key on an `any` value.","line":57,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":57,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":58,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":58,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .preventDefault on an `any` value.","line":58,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":58,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":59,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":59,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .redo on a type that cannot be resolved.","line":59,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":30}],"suppressedMessages":[],"errorCount":54,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { EditorManagerModule } from './EditorManagerModule';\nclass EditorInteractionController extends EditorManagerModule {\n    handleCanvasResize(force = false) {\n        const canvas = this.manager.editorCanvas;\n        if (!canvas) return;\n        const container = canvas.parentElement;\n        if (!container) return;\n\n        const availableWidth = container.offsetWidth || container.clientWidth || 0;\n\n        const maxCanvasSize = 512;\n        const minCanvasSize = 128;\n        const highestDivisor = Math.floor((availableWidth + minCanvasSize - 1) / minCanvasSize) * minCanvasSize;\n\n        const size = Math.min(Math.max(highestDivisor, minCanvasSize), maxCanvasSize);\n        if (!force && Math.abs(canvas.width - size) < 1) {\n            return;\n        }\n\n        canvas.style.width = `${size}px`;\n        canvas.width = size;\n        canvas.height = size;\n        this.renderService.renderEditor();\n        this.renderService.renderEnemies();\n    }\n\n    handleKey(ev) {\n        if (ev.defaultPrevented) return;\n        if (ev.key === 'Escape') {\n            if (this.state.placingNpc || this.manager.selectedNpcId || this.manager.selectedNpcType) {\n                this.manager.npcService.clearSelection();\n                ev.preventDefault();\n                return;\n            }\n            if (this.state.placingEnemy) {\n                this.manager.enemyService.deactivatePlacement();\n                ev.preventDefault();\n                return;\n            }\n            if (this.state.placingObjectType) {\n                this.manager.objectService.togglePlacement(this.state.placingObjectType, true);\n                ev.preventDefault();\n                return;\n            }\n        }\n\n        if ((ev.ctrlKey || ev.metaKey) && ev.key.toLowerCase() === 'z') {\n            ev.preventDefault();\n            if (ev.shiftKey) {\n                this.manager.redo();\n            } else {\n                this.manager.undo();\n            }\n        }\n\n        if ((ev.ctrlKey || ev.metaKey) && ev.key.toLowerCase() === 'y') {\n            ev.preventDefault();\n            this.manager.redo();\n        }\n    }\n}\n\nexport { EditorInteractionController };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\manager\\EditorManagerModule.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":8,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":8,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":8,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":8,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":12,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":12,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":12,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":12,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":16,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":16,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dom on a type that cannot be resolved.","line":16,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":16,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":20,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":20,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":20,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":20,"endColumn":42}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass EditorManagerModule {\n    constructor(manager) {\n        this.manager = manager;\n    }\n\n    get gameEngine() {\n        return this.manager.gameEngine;\n    }\n\n    get state() {\n        return this.manager.state;\n    }\n\n    get dom() {\n        return this.manager.dom;\n    }\n\n    get renderService() {\n        return this.manager.renderService;\n    }\n}\n\nexport { EditorManagerModule };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\manager\\EditorUIController.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":6,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":6,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":6,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":6,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on a type that cannot be resolved.","line":6,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":6,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .titleInput on a type that cannot be resolved.","line":7,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":7,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .authorInput on a type that cannot be resolved.","line":8,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":8,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .title on a type that cannot be resolved.","line":9,"column":14,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":9,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .author on a type that cannot be resolved.","line":10,"column":14,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":10,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":11,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":11,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .syncDocumentTitle on a type that cannot be resolved.","line":11,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":11,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":12,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":12,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .refreshIntroScreen on a type that cannot be resolved.","line":12,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":12,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .jsonArea on a type that cannot be resolved.","line":17,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":17,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .jsonArea on a type that cannot be resolved.","line":18,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":18,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":18,"column":54,"nodeType":"MemberExpression","messageId":"errorCall","endLine":18,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .exportGameData on a type that cannot be resolved.","line":18,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":18,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":20,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":20,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderVariableUsage on a type that cannot be resolved.","line":20,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":20,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":21,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":21,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderSkillList on a type that cannot be resolved.","line":21,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":21,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":22,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":22,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTestTools on a type that cannot be resolved.","line":22,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":22,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variablePanelCollapsed on a type that cannot be resolved.","line":26,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variablePanelCollapsed on a type that cannot be resolved.","line":26,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":27,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":27,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderVariableUsage on a type that cannot be resolved.","line":27,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":27,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skillPanelCollapsed on a type that cannot be resolved.","line":31,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skillPanelCollapsed on a type that cannot be resolved.","line":31,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":32,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":32,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderSkillList on a type that cannot be resolved.","line":32,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":32,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .testPanelCollapsed on a type that cannot be resolved.","line":36,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .testPanelCollapsed on a type that cannot be resolved.","line":36,"column":53,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":37,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":37,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTestTools on a type that cannot be resolved.","line":37,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":41,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":41,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":41,"column":26,"nodeType":"MemberExpression","messageId":"errorCall","endLine":41,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getMaxPlayerLevel on a type that cannot be resolved.","line":41,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":42,"column":71,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":42,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":42,"column":92,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":42,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":43,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":43,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateTestSettings on a type that cannot be resolved.","line":43,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":43,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":44,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":44,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTestTools on a type that cannot be resolved.","line":44,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":51,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":51,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateTestSettings on a type that cannot be resolved.","line":51,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":51,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":52,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":52,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTestTools on a type that cannot be resolved.","line":52,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":52,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":56,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":56,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateTestSettings on a type that cannot be resolved.","line":56,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":56,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":57,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":57,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTestTools on a type that cannot be resolved.","line":57,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":57,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":61,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":61,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":61,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":61,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on a type that cannot be resolved.","line":61,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":61,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .titleInput on a type that cannot be resolved.","line":62,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":62,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":63,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":63,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .titleInput on a type that cannot be resolved.","line":63,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":63,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .title on a type that cannot be resolved.","line":63,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":63,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .authorInput on a type that cannot be resolved.","line":65,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":66,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":66,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .authorInput on a type that cannot be resolved.","line":66,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":66,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .author on a type that cannot be resolved.","line":66,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":66,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeMobilePanel on a type that cannot be resolved.","line":73,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":73,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":77,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":77,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeMobilePanel on a type that cannot be resolved.","line":77,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":77,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":82,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":82,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeMobilePanel on a type that cannot be resolved.","line":82,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":82,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":83,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":83,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mobileNavButtons on a type that cannot be resolved.","line":83,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mobileNavButtons on a type that cannot be resolved.","line":83,"column":77,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":84,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":84,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":84,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":85,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":85,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":86,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":86,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on an `any` value.","line":86,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":86,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":88,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":88,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mobilePanels on a type that cannot be resolved.","line":88,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":88,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mobilePanels on a type that cannot be resolved.","line":88,"column":72,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":88,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":92,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":92,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":92,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":92,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":95,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":95,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on an `any` value.","line":95,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":95,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dataset on an `any` value.","line":98,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":99,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":99,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on an `any` value.","line":99,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":99,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":105,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":105,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameState on a type that cannot be resolved.","line":105,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":107,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":107,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderAll on a type that cannot be resolved.","line":107,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":107,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":112,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":112,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":112,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":112,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":112,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":112,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":114,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":114,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":114,"column":29,"nodeType":"MemberExpression","messageId":"errorCall","endLine":114,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on a type that cannot be resolved.","line":114,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":114,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<readonly [unknown, unknown]> | null | undefined`.","line":115,"column":32,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":115,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":115,"column":32,"nodeType":"MemberExpression","messageId":"errorCall","endLine":115,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on a type that cannot be resolved.","line":115,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":115,"column":57,"nodeType":"ArrayExpression","messageId":"unsafeReturn","endLine":115,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":115,"column":62,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":115,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":117,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":117,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":117,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":117,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":119,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":119,"endColumn":106},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":119,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":119,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":119,"column":61,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":119,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":119,"column":77,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":119,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":119,"column":96,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":119,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":121,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":121,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":122,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":122,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":122,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":122,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":122,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":122,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":122,"column":61,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":122,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":122,"column":65,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":122,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":122,"column":84,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":122,"endColumn":88}],"suppressedMessages":[],"errorCount":113,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { TextResources } from '../../runtime/adapters/TextResources';\r\nimport { EditorManagerModule } from './EditorManagerModule';\r\nclass EditorUIController extends EditorManagerModule {\r\n    updateGameMetadata() {\r\n        const game = this.gameEngine.getGame();\r\n        const title = this.normalizeTitle(this.dom.titleInput?.value || '');\r\n        const author = this.normalizeAuthor(this.dom.authorInput?.value || '');\r\n        game.title = title;\r\n        game.author = author;\r\n        this.gameEngine.syncDocumentTitle();\r\n        this.gameEngine.refreshIntroScreen();\r\n        this.updateJSON();\r\n    }\r\n\r\n    updateJSON() {\r\n        if (this.dom.jsonArea) {\r\n            this.dom.jsonArea.value = JSON.stringify(this.gameEngine.exportGameData(), null, 2);\r\n        }\r\n        this.renderService.renderVariableUsage();\r\n        this.renderService.renderSkillList();\r\n        this.renderService.renderTestTools();\r\n    }\r\n\r\n    toggleVariablePanel() {\r\n        this.state.variablePanelCollapsed = !this.state.variablePanelCollapsed;\r\n        this.renderService.renderVariableUsage();\r\n    }\r\n\r\n    toggleSkillPanel() {\r\n        this.state.skillPanelCollapsed = !this.state.skillPanelCollapsed;\r\n        this.renderService.renderSkillList();\r\n    }\r\n\r\n    toggleTestPanel() {\r\n        this.state.testPanelCollapsed = !this.state.testPanelCollapsed;\r\n        this.renderService.renderTestTools();\r\n    }\r\n\r\n    setTestStartLevel(level) {\r\n        const maxLevel = this.gameEngine.getMaxPlayerLevel?.() ?? 1;\r\n        const numeric = Number.isFinite(level) ? Math.max(1, Math.min(maxLevel, Math.floor(level))) : 1;\r\n        this.gameEngine.updateTestSettings?.({ startLevel: numeric });\r\n        this.renderService.renderTestTools();\r\n    }\r\n\r\n    setTestSkills(skills) {\r\n        const normalized = Array.isArray(skills)\r\n            ? Array.from(new Set(skills.filter((id) => typeof id === 'string' && id)))\r\n            : [];\r\n        this.gameEngine.updateTestSettings?.({ skills: normalized });\r\n        this.renderService.renderTestTools();\r\n    }\r\n\r\n    setGodMode(active = false) {\r\n        this.gameEngine.updateTestSettings?.({ godMode: Boolean(active) });\r\n        this.renderService.renderTestTools();\r\n    }\r\n\r\n    syncUI() {\r\n        const game = this.gameEngine.getGame();\r\n        if (this.dom.titleInput) {\r\n            this.dom.titleInput.value = game.title || '';\r\n        }\r\n        if (this.dom.authorInput) {\r\n            this.dom.authorInput.value = game.author || '';\r\n        }\r\n        this.updateJSON();\r\n    }\r\n\r\n    setActiveMobilePanel(panel) {\r\n        if (!panel) return;\r\n        if (this.state.activeMobilePanel === panel) {\r\n            this.updateMobilePanels();\r\n            return;\r\n        }\r\n        this.state.activeMobilePanel = panel;\r\n        this.updateMobilePanels();\r\n    }\r\n\r\n    updateMobilePanels() {\r\n        const current = this.state.activeMobilePanel || 'tiles';\r\n        const buttons = Array.isArray(this.dom.mobileNavButtons) ? this.dom.mobileNavButtons : [];\r\n        buttons.forEach((button) => {\r\n            const match = button.dataset.mobileTarget === current;\r\n            button.classList.toggle('active', match);\r\n        });\r\n        const panels = Array.isArray(this.dom.mobilePanels) ? this.dom.mobilePanels : [];\r\n        const isMobile = typeof globalThis.matchMedia === 'function'\r\n            ? globalThis.matchMedia('(max-width: 920px)').matches\r\n            : false;\r\n        panels.forEach((section) => {\r\n            if (!section) return;\r\n            if (!isMobile) {\r\n                section.classList.remove('is-mobile-active');\r\n                return;\r\n            }\r\n            const match = section.dataset.mobilePanel === current;\r\n            section.classList.toggle('is-mobile-active', match);\r\n        });\r\n    }\r\n\r\n    handleLanguageChange() {\r\n        TextResources.apply();\r\n        this.gameEngine?.gameState?.variableManager?.refreshPresetNames?.();\r\n        this.refreshNpcLocalizedText();\r\n        this.manager.renderAll();\r\n        this.updateJSON();\r\n    }\r\n\r\n    refreshNpcLocalizedText() {\r\n        const sprites = this.gameEngine?.getSprites?.();\r\n        if (!Array.isArray(sprites)) return;\r\n        const definitions = this.gameEngine?.npcManager?.getDefinitions?.() || [];\r\n        const byType = new Map(definitions.map((def) => [def.type, def]));\r\n        sprites.forEach((npc) => {\r\n            const def = npc?.type ? byType.get(npc.type) : null;\r\n            if (def?.nameKey) {\r\n                npc.name = TextResources.get?.(def.nameKey, def.name || npc.name || '') || npc.name || '';\r\n            }\r\n            if (npc?.textKey) {\r\n                npc.text = TextResources.get?.(npc.textKey, npc.text || '') || npc.text || '';\r\n            }\r\n        });\r\n    }\r\n\r\n    normalizeTitle(raw) {\r\n        const text = String(raw || '').slice(0, 18).replace(/\\s+/g, ' ').trim();\r\n        return text || 'Tiny RPG Studio';\r\n    }\r\n\r\n    normalizeAuthor(raw) {\r\n        const text = String(raw || '').slice(0, 18).replace(/\\s+/g, ' ').trim();\r\n        return text;\r\n    }\r\n}\r\n\r\nexport { EditorUIController };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorConstants.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":11,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":11,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":15,"column":64,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":15,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":18,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":18,"endColumn":45}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EnemyDefinitions } from '../../runtime/domain/definitions/EnemyDefinitions';\r\nimport { ItemDefinitions } from '../../runtime/domain/definitions/ItemDefinitions';\nimport { itemCatalog } from '../../runtime/domain/services/ItemCatalog';\n\r\nclass EditorConstants {\r\n    static get OBJECT_DEFINITIONS() {\r\n        if (!this._objectDefinitions) {\r\n            this._objectDefinitions = ItemDefinitions.definitions || [];\r\n        }\r\n        return this._objectDefinitions;\r\n    }\r\n\r\n    static get ENEMY_DEFINITIONS() {\r\n        if (!this._enemyDefinitions || !this._enemyDefinitions.length) {\r\n            this._enemyDefinitions = EnemyDefinitions.definitions || [];\r\n        }\r\n        return this._enemyDefinitions || [];\r\n    }\r\n\r\n    static get OBJECT_TYPE_ORDER() {\n        return itemCatalog.getEditorTypeOrder();\n    }\n}\n\r\nexport { EditorConstants };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorDomCache.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":29,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":29,"endColumn":59}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nclass EditorDomCache {\r\n    constructor(root = document) {\r\n        this.root = root;\r\n        this.editorCanvas = root.getElementById('editor-canvas');\r\n        this.mapPosition = root.getElementById('editor-map-position');\r\n        this.mapNavButtons = Array.from(root.querySelectorAll('.map-nav-button'));\r\n        this.mobileNavButtons = Array.from(root.querySelectorAll('.editor-mobile-nav-button'));\r\n        this.mobilePanels = Array.from(root.querySelectorAll('.editor-section[data-mobile-panel]'));\r\n        this.selectedTilePreview = root.getElementById('selected-tile-preview');\r\n        this.tileSummary = root.getElementById('tile-preset-summary');\r\n        this.tileList = root.getElementById('tile-list');\r\n        this.npcsList = root.getElementById('npcs-list');\r\n        this.npcText = root.getElementById('npc-text');\r\n        this.npcConditionalText = root.getElementById('npc-conditional-text');\r\n        this.npcConditionalVariable = root.getElementById('npc-conditional-variable');\r\n        this.npcRewardVariable = root.getElementById('npc-reward-variable');\r\n        this.npcConditionalRewardVariable = root.getElementById('npc-conditional-reward-variable');\r\n        this.btnToggleNpcConditional = root.getElementById('btn-toggle-npc-conditional');\r\n        this.npcConditionalSection = root.getElementById('npc-conditional-section');\r\n        this.npcVariantButtons = Array.from(root.querySelectorAll('[data-npc-variant-filter]'));\r\n        this.worldGrid = root.getElementById('world-grid');\r\n        this.titleInput = root.getElementById('game-title');\r\n        this.authorInput = root.getElementById('game-author');\r\n        this.fileInput = root.getElementById('file-input');\r\n        this.objectTypes = root.getElementById('object-types');\r\n        this.objectsList = root.getElementById('objects-list');\r\n        this.btnNpcDelete = root.getElementById('npc-delete');\r\n        this.npcEditor = root.querySelector('.npc-editor');\r\n        this.btnGenerateUrl = root.getElementById('btn-generate-url');\r\n        this.shareUrlInput = root.getElementById('project-share-url');\r\n        this.btnUndo = root.getElementById('btn-undo');\r\n        this.btnRedo = root.getElementById('btn-redo');\r\n        this.enemyTypes = root.getElementById('enemy-types');\r\n        this.enemiesList = root.getElementById('enemies-list');\r\n        this.projectVariablesContainer = root.getElementById('project-variables-container');\r\n        this.projectVariablesToggle = root.getElementById('project-variables-toggle');\r\n        this.projectVariableList = root.getElementById('project-variable-usage-list');\r\n        this.projectVariableSummary = root.getElementById('project-variable-usage-summary');\r\n        this.projectSkillsContainer = root.getElementById('project-skills-container');\r\n        this.projectSkillsToggle = root.getElementById('project-skills-toggle');\r\n        this.projectSkillsList = root.getElementById('project-skills-list');\r\n        this.projectTestContainer = root.getElementById('project-test-container');\r\n        this.projectTestToggle = root.getElementById('project-test-toggle');\r\n        this.projectTestPanel = root.getElementById('project-test-panel');\r\n        this.projectTestStartLevel = root.getElementById('project-test-start-level');\r\n        this.projectTestSkillList = root.getElementById('project-test-skill-list');\r\n        this.projectTestGodMode = root.getElementById('project-test-god-mode');\r\n    }\r\n}\r\n\r\nexport { EditorDomCache };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorEnemyService.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":7,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":7,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":13,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":13,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .domCache on a type that cannot be resolved.","line":13,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":13,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":17,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":17,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":17,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":17,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":21,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":21,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":21,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":21,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":25,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":25,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `null`.","line":25,"column":52,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":25,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":25,"column":65,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":27,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":27,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":29,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":29,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on a type that cannot be resolved.","line":29,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":29,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":30,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":30,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":31,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":31,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectService on a type that cannot be resolved.","line":31,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":31,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":34,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":35,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":36,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":38,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":38,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":39,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":39,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":44,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":45,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":45,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":46,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":46,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":46,"column":81,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":47,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":47,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":52,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":52,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on a type that cannot be resolved.","line":52,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":52,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":53,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":55,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":26,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getEnemyDefinitions on a type that cannot be resolved.","line":53,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":53,"column":74,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":54,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":54,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":54,"column":64,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":54,"column":75,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":54,"column":87,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":59,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":59,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":59,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":59,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getActiveEnemies on a type that cannot be resolved.","line":59,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":60,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":62,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":60,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":60,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .reduce on a type that cannot be resolved.","line":60,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":61,"column":13,"nodeType":"ConditionalExpression","messageId":"unsafeReturn","endLine":61,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":61,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":61,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":67,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":67,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `null`.","line":67,"column":52,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":67,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":67,"column":63,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":67,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":68,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":68,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on a type that cannot be resolved.","line":68,"column":60,"nodeType":"Literal","messageId":"errorMemberExpression","endLine":68,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":69,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":69,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":69,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":70,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":75,"endColumn":11},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":70,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":70,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEnemy on a type that cannot be resolved.","line":70,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":71,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":71,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":71,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":72,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":72,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":72,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":72,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":73,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":73,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":74,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":74,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":79,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":79,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":79,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":79,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":80,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":80,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":80,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":81,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":81,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":81,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":82,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":82,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":82,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":82,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":83,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":83,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":83,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":84,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":84,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":84,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":85,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":85,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":85,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":85,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":89,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":89,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeEnemy on a type that cannot be resolved.","line":89,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":89,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":90,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":90,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":90,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":90,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":91,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":91,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":91,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":91,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":92,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":92,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":92,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":92,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":93,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":93,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":93,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":93,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":94,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":94,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":94,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":94,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":95,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":95,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":95,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":96,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":96,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":96,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":96,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":103,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":103,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":103,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":103,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setEnemyVariable on a type that cannot be resolved.","line":103,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":105,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":105,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":105,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":106,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":106,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":106,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":106,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":107,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":107,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":107,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":107,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":108,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":108,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":108,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":108,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":112,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":112,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `null`.","line":112,"column":52,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":112,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":114,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":114,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":114,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":114,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":115,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":115,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":115,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":115,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":116,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":116,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemyCatalog on a type that cannot be resolved.","line":116,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":116,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":122,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":122,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":122,"column":83,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":122,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":124,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":124,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":127,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":127,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemyCatalog on a type that cannot be resolved.","line":127,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":127,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":133,"column":35,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":133,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":146,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":146,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number | undefined`.","line":148,"column":26,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":148,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":152,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":152,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textContent on a type that cannot be resolved.","line":152,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":152,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":153,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":153,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on a type that cannot be resolved.","line":153,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":153,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":154,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":154,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setAttribute on a type that cannot be resolved.","line":154,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":154,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .offsetWidth on a type that cannot be resolved.","line":155,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":155,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":156,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":156,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on a type that cannot be resolved.","line":156,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":156,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":157,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":157,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setAttribute on a type that cannot be resolved.","line":157,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":157,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":159,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":159,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on a type that cannot be resolved.","line":159,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":159,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":160,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":160,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setAttribute on a type that cannot be resolved.","line":160,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":160,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textContent on a type that cannot be resolved.","line":161,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":161,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":166,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":166,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on a type that cannot be resolved.","line":166,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":166,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":170,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":170,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":170,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":170,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .trim on a type that cannot be resolved.","line":170,"column":75,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":170,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":171,"column":22,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":171,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":176,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":178,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on a type that cannot be resolved.","line":178,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":178,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `EnemyTypeInput`.","line":179,"column":64,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":179,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":183,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":183,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":184,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":186,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":184,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":184,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":184,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":184,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":184,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":184,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":185,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":185,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":185,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":185,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":185,"column":41,"nodeType":"LogicalExpression","messageId":"unsafeReturn","endLine":185,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .aliases on an `any` value.","line":185,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":185,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":185,"column":73,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":185,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .aliases on an `any` value.","line":185,"column":79,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":185,"endColumn":86}],"suppressedMessages":[],"errorCount":158,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EnemyDefinitions } from '../../runtime/domain/definitions/EnemyDefinitions';\r\nimport { TextResources } from '../../runtime/adapters/TextResources';\r\nimport { EditorConstants } from './EditorConstants';\r\nclass EditorEnemyService {\r\n    constructor(editorManager) {\r\n        this.manager = editorManager;\r\n        this.editorIndicator = null;\r\n        this.editorIndicatorTimeout = null;\r\n    }\r\n\r\n    get dom() {\r\n        return this.manager.domCache;\r\n    }\r\n\r\n    get state() {\r\n        return this.manager.state;\r\n    }\r\n\r\n    get gameEngine() {\r\n        return this.manager.gameEngine;\r\n    }\r\n\r\n    activatePlacement() {\r\n        const definition = this.getEnemyDefinition(this.manager.selectedEnemyType);\r\n        if (!definition) return;\r\n        if (this.state.placingEnemy) return;\r\n\r\n        this.manager.npcService?.clearSelection?.();\r\n        if (this.state.placingObjectType) {\r\n            this.manager.objectService?.togglePlacement?.(this.state.placingObjectType, true);\r\n        }\r\n\r\n        this.state.placingEnemy = true;\r\n        this.state.placingNpc = false;\r\n        this.state.placingObjectType = null;\r\n\r\n        if (this.dom.editorCanvas) {\r\n            this.dom.editorCanvas.style.cursor = 'crosshair';\r\n        }\r\n    }\r\n\r\n    deactivatePlacement() {\r\n        if (!this.state.placingEnemy) return;\r\n        this.state.placingEnemy = false;\r\n        if (!this.state.placingNpc && !this.state.placingObjectType && this.dom.editorCanvas) {\r\n            this.dom.editorCanvas.style.cursor = 'default';\r\n        }\r\n    }\r\n\r\n    placeEnemyAt(coord) {\r\n        const roomIndex = this.state.activeRoomIndex;\r\n        const existing = (this.gameEngine.getEnemyDefinitions?.() ?? []).find((enemy) =>\r\n            enemy.roomIndex === roomIndex && enemy.x === coord.x && enemy.y === coord.y\r\n        );\r\n        if (existing) {\r\n            return;\r\n        }\r\n        const enemies = this.gameEngine.getActiveEnemies?.() ?? [];\r\n        const currentRoomCount = enemies.reduce((count, enemy) => (\r\n            enemy.roomIndex === roomIndex ? count + 1 : count\r\n        ), 0);\r\n        if (currentRoomCount >= 6) {\r\n            this.showEnemyLimitFeedback();\r\n            return;\r\n        }\r\n        const definition = this.getEnemyDefinition(this.state.selectedEnemyType);\r\n        const fallback = EditorConstants.ENEMY_DEFINITIONS[0]?.type || 'giant-rat';\r\n        const type = definition?.type || fallback;\r\n        const id = this.gameEngine.addEnemy({\r\n            x: coord.x,\r\n            y: coord.y,\r\n            roomIndex,\r\n            type\r\n        });\r\n        if (!id) {\r\n            return;\r\n        }\r\n        this.manager.renderService.renderEnemies();\r\n        this.manager.renderService.renderEnemyCatalog();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    removeEnemy(enemyId) {\r\n        this.gameEngine.removeEnemy(enemyId);\r\n        this.manager.renderService.renderEnemies();\r\n        this.manager.renderService.renderEnemyCatalog();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    handleEnemyVariableChange(enemyId, variableId) {\r\n        const normalizedId = typeof variableId === 'string' && variableId.trim().length\r\n            ? variableId\r\n            : null;\r\n        const changed = this.gameEngine.setEnemyVariable(enemyId, normalizedId);\r\n        if (!changed) return;\r\n        this.manager.renderService.renderEnemies();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    selectEnemyType(type) {\r\n        const definition = this.getEnemyDefinition(type);\r\n        if (!definition) return;\r\n        if (this.state.selectedEnemyType !== definition.type) {\r\n            this.manager.selectedEnemyType = definition.type;\r\n            this.manager.renderEnemyCatalog();\r\n        }\r\n        this.activatePlacement();\r\n    }\r\n\r\n    clearSelection({ render = true } = {}) {\r\n        const hadSelection = Boolean(this.manager.selectedEnemyType || this.state.placingEnemy);\r\n        if (!hadSelection) return false;\r\n        this.manager.selectedEnemyType = null;\r\n        this.deactivatePlacement();\r\n        if (render) {\r\n            this.manager.renderEnemyCatalog();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    getEditorIndicator() {\r\n        if (this.editorIndicator) return this.editorIndicator;\r\n        const container = document?.querySelector?.('.editor-map-wrapper');\r\n        if (!container) return null;\r\n        const indicator = document.createElement('div');\r\n        indicator.className = 'combat-indicator';\r\n        indicator.setAttribute('aria-live', 'polite');\r\n        indicator.setAttribute('aria-atomic', 'true');\r\n        container.appendChild(indicator);\r\n        this.editorIndicator = indicator;\r\n        return indicator;\r\n    }\r\n\r\n    showEnemyLimitFeedback() {\r\n        const indicator = this.getEditorIndicator();\r\n        if (this.editorIndicatorTimeout) {\r\n            clearTimeout(this.editorIndicatorTimeout);\r\n            this.editorIndicatorTimeout = null;\r\n        }\r\n        if (indicator) {\r\n            indicator.textContent = this.getEnemyLimitMessage();\r\n            indicator.classList.remove('visible');\r\n            indicator.setAttribute('data-visible', 'false');\r\n            void indicator.offsetWidth;\r\n            indicator.classList.add('visible');\r\n            indicator.setAttribute('data-visible', 'true');\r\n            this.editorIndicatorTimeout = setTimeout(() => {\r\n                indicator.classList.remove('visible');\r\n                indicator.setAttribute('data-visible', 'false');\r\n                indicator.textContent = '';\r\n                this.editorIndicatorTimeout = null;\r\n            }, 700);\r\n            return;\r\n        }\r\n        this.gameEngine?.renderer?.showCombatIndicator?.(this.getEnemyLimitMessage(), { duration: 700 });\r\n    }\r\n\r\n    getEnemyLimitMessage() {\r\n        const message = TextResources?.get?.('enemies.limitReached', '')?.trim?.();\r\n        if (message) return message;\r\n        return 'Max enemies reached';\r\n    }\r\n\r\n    getEnemyDefinition(type = null) {\r\n        const target = typeof type === 'string' && type.length > 0\r\n            ? type\r\n            : this.state.selectedEnemyType;\r\n        const definition = EnemyDefinitions.getEnemyDefinition(target);\r\n        if (definition) {\r\n            return definition;\r\n        }\r\n        const definitions = EditorConstants.ENEMY_DEFINITIONS;\r\n        return definitions.find((entry) => entry.type === target) ||\r\n            definitions.find((entry) => Array.isArray(entry.aliases) && entry.aliases.includes(target)) ||\r\n            null;\r\n    }\r\n\r\n}\r\n\r\nexport { EditorEnemyService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorExportService.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":9,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":9,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .addEventListener on a type that cannot be resolved.","line":9,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":9,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":237,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":237,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":238,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":243,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":238,"column":31,"nodeType":"MemberExpression","messageId":"errorCall","endLine":243,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":238,"column":31,"nodeType":"MemberExpression","messageId":"errorCall","endLine":242,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":238,"column":31,"nodeType":"MemberExpression","messageId":"errorCall","endLine":241,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":238,"column":31,"nodeType":"MemberExpression","messageId":"errorCall","endLine":240,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":238,"column":31,"nodeType":"MemberExpression","messageId":"errorCall","endLine":239,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalize on a type that cannot be resolved.","line":239,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":239,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":240,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":240,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":241,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":241,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":242,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":242,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toLowerCase on a type that cannot be resolved.","line":243,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":243,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":244,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":246,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .VERSION on a type that cannot be resolved.","line":244,"column":91,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":244,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .VERSION on a type that cannot be resolved.","line":245,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":245,"endColumn":41}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { getTinyRpgApi } from '../../runtime/infra/TinyRpgApi';\r\nimport { ShareUtils } from '../../runtime/infra/share/ShareUtils';\r\nimport { TextResources } from '../../runtime/adapters/TextResources';\r\nclass EditorExportService {\r\n    constructor() {\r\n        this.btn = typeof document !== 'undefined' ? document.getElementById('btn-generate-html') : null;\r\n        if (this.btn) {\r\n            this.btn.addEventListener('click', (_ev) => {\r\n                setTimeout(() => this.exportProjectAsHtml(), 0);\r\n            });\r\n        }\r\n    }\r\n\r\n    async exportProjectAsHtml() {\r\n        try {\r\n            const api = getTinyRpgApi();\r\n            const gameData = api?.exportGameData ? api.exportGameData() : null;\r\n\r\n            if (!gameData) {\r\n                alert('Unable to read current project data.');\r\n                return;\r\n            }\r\n\r\n            const code = ShareUtils?.encode ? ShareUtils.encode(gameData) : '';\r\n            const downloadError = 'Unable to download project assets. Please run Tiny RPG Studio from an HTTP/HTTPS server (not file://) to export HTML.';\r\n\r\n            let cssText = '';\r\n            const linkEl = document.querySelector('link[rel=\"stylesheet\"][href]');\r\n            if (linkEl) {\r\n                const href = linkEl.getAttribute('href');\r\n                try {\r\n                    const resp = await fetch(href);\r\n                    if (resp.ok) {\r\n                        cssText = await resp.text();\r\n                    } else {\r\n                        alert(downloadError);\r\n                        return;\r\n                    }\r\n                } catch {\r\n                    alert(downloadError);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const scripts = {};\r\n            const skippedScripts = [];\r\n            let bundleSource = '';\r\n            const bundleSrc = 'export.bundle.js';\r\n            try {\r\n                const bundleResp = await fetch(bundleSrc);\r\n                if (bundleResp.ok) {\r\n                    bundleSource = await bundleResp.text();\r\n                    scripts[bundleSrc] = bundleSource;\r\n                }\r\n            } catch {\r\n                // fallback handled below\r\n            }\r\n            const locale = TextResources?.getLocale?.() || 'en-US';\r\n            const legacyIndexPath = 'legacy/index.html';\r\n            const fallbackScriptSrcs = [\r\n                'js/runtime/adapters/TextResources.js',\r\n                'js/runtime/domain/definitions/SkillDefinitions.js',\r\n                'js/runtime/domain/state/StateWorldManager.js',\r\n                'js/runtime/domain/state/StateSkillManager.js',\r\n                'js/runtime/domain/state/StatePlayerManager.js',\r\n                'js/runtime/domain/state/StateDialogManager.js',\r\n                'js/runtime/domain/state/StateVariableManager.js',\r\n                'js/runtime/domain/state/StateEnemyManager.js',\r\n                'js/runtime/domain/state/StateObjectManager.js',\r\n                'js/runtime/domain/state/StateItemManager.js',\r\n                'js/runtime/domain/state/GameStateLifecycle.js',\r\n                'js/runtime/domain/state/GameStateScreenManager.js',\r\n                'js/runtime/domain/state/GameStateWorldFacade.js',\r\n                'js/runtime/domain/state/GameStateDataFacade.js',\r\n                'js/runtime/domain/state/StateDataManager.js',\r\n                'js/runtime/domain/GameState.js',\r\n                'js/runtime/domain/sprites/PlayerSprites.js',\r\n                'js/runtime/domain/sprites/NpcSprites.js',\r\n                'js/runtime/domain/sprites/EnemySprites.js',\r\n                'js/runtime/domain/sprites/ObjectSprites.js',\r\n                'js/runtime/domain/sprites/SpriteMatrixRegistry.js',\r\n                'js/runtime/adapters/renderer/RendererConstants.js',\r\n                'js/runtime/adapters/renderer/RendererPalette.js',\r\n                'js/runtime/adapters/renderer/RendererSpriteFactory.js',\r\n                'js/runtime/adapters/renderer/RendererCanvasHelper.js',\r\n                'js/runtime/adapters/renderer/RendererTileRenderer.js',\r\n                'js/runtime/adapters/renderer/RendererEntityRenderer.js',\r\n                'js/runtime/adapters/renderer/RendererDialogRenderer.js',\r\n                'js/runtime/adapters/renderer/RendererHudRenderer.js',\r\n                'js/runtime/adapters/renderer/RendererMinimapRenderer.js',\r\n                'js/runtime/adapters/renderer/RendererModuleBase.js',\r\n                'js/runtime/adapters/renderer/RendererEffectsManager.js',\r\n                'js/runtime/adapters/renderer/RendererTransitionManager.js',\r\n                'js/runtime/adapters/renderer/RendererOverlayRenderer.js',\r\n                'js/runtime/infra/share/ShareConstants.js',\r\n                'js/runtime/infra/share/ShareMath.js',\r\n                'js/runtime/infra/share/ShareBase64.js',\r\n                'js/runtime/infra/share/ShareTextCodec.js',\r\n                'js/runtime/infra/share/ShareVariableCodec.js',\r\n                'js/runtime/infra/share/ShareMatrixCodec.js',\r\n                'js/runtime/infra/share/SharePositionCodec.js',\r\n                'js/runtime/infra/share/ShareDataNormalizer.js',\r\n                'js/runtime/infra/share/ShareEncoder.js',\r\n                'js/runtime/infra/share/ShareDecoder.js',\r\n                'js/runtime/infra/share/ShareUrlHelper.js',\r\n                'js/runtime/domain/definitions/TileDefinitions.js',\r\n                'js/runtime/domain/definitions/NPCDefinitions.js',\r\n                'js/runtime/domain/definitions/EnemyDefinitions.js',\r\n                'js/runtime/domain/definitions/ItemDefinitions.js',\r\n                'js/editor/modules/EditorConstants.js',\r\n                'js/editor/modules/EditorDomCache.js',\r\n                'js/editor/modules/EditorState.js',\r\n                'js/editor/modules/EditorHistoryManager.js',\r\n                'js/editor/modules/EditorShareService.js',\r\n                'js/editor/manager/EditorManagerModule.js',\r\n                'js/editor/manager/EditorEventBinder.js',\r\n                'js/editor/manager/EditorUIController.js',\r\n                'js/editor/manager/EditorInteractionController.js',\r\n                'js/editor/modules/renderers/EditorRendererBase.js',\r\n                'js/editor/modules/renderers/EditorCanvasRenderer.js',\r\n                'js/editor/modules/renderers/EditorTilePanelRenderer.js',\r\n                'js/editor/modules/renderers/EditorNpcRenderer.js',\r\n                'js/editor/modules/renderers/EditorEnemyRenderer.js',\r\n                'js/editor/modules/renderers/EditorObjectRenderer.js',\r\n                'js/editor/modules/renderers/EditorWorldRenderer.js',\r\n                'js/editor/modules/EditorRenderService.js',\r\n                'js/editor/modules/EditorTileService.js',\r\n                'js/editor/modules/EditorNpcService.js',\r\n                'js/editor/modules/EditorEnemyService.js',\r\n                'js/editor/modules/EditorObjectService.js',\r\n                'js/editor/modules/EditorVariableService.js',\r\n                'js/editor/modules/EditorWorldService.js',\r\n                'js/editor/EditorManager.js',\r\n                'js/runtime/infra/share/ShareUtils.js',\r\n                'js/runtime/services/TileManager.js',\r\n                'js/runtime/services/NPCManager.js',\r\n                'js/runtime/adapters/InputManager.js',\r\n                'js/runtime/adapters/Renderer.js',\r\n                'js/runtime/services/engine/DialogManager.js',\r\n                'js/runtime/services/engine/InteractionManager.js',\r\n                'js/runtime/services/engine/EnemyManager.js',\r\n                'js/runtime/services/engine/MovementManager.js',\r\n                'js/runtime/services/GameEngine.js',\r\n                'js/main.js',\r\n                'js/editor/modules/EditorExportService.js'\r\n            ];\r\n            const legacyScriptSrcs = [];\r\n            if (!bundleSource) try {\r\n                const legacyResp = await fetch(legacyIndexPath);\r\n                if (legacyResp.ok) {\r\n                    const legacyHtml = await legacyResp.text();\r\n                    const doc = new DOMParser().parseFromString(legacyHtml, 'text/html');\r\n                    legacyScriptSrcs.push(\r\n                        ...Array.from(doc.querySelectorAll('script[src]'))\r\n                            .filter((script) => script.getAttribute('type') !== 'module')\r\n                            .map((s) => s.getAttribute('src'))\r\n                            .filter((src) =>\r\n                                src &&\r\n                                (src.startsWith('js/') || src.startsWith('./js/')) &&\r\n                                !src.includes('/editor/')\r\n                            )\r\n                    );\r\n                }\r\n            } catch {\r\n                // fallback handled below\r\n            }\r\n\r\n            const scriptSrcs = (legacyScriptSrcs.length && legacyScriptSrcs.some((src) => src.includes('js/main.js'))\r\n                ? legacyScriptSrcs\r\n                : fallbackScriptSrcs);\r\n            for (const src of scriptSrcs) {\r\n                if (bundleSource) break;\r\n                try {\r\n                    const resp = await fetch(src);\r\n                    if (resp.ok) {\r\n                        const text = await resp.text();\r\n                        const hasModuleSyntax = /^(?:\\s*import\\s+[\\w*{]|\\s*export\\s+)/m.test(text);\r\n                        if (hasModuleSyntax) {\r\n                            skippedScripts.push(src);\r\n                        } else {\r\n                            scripts[src] = text;\r\n                        }\r\n                    } else {\r\n                        alert(downloadError);\r\n                        return;\r\n                    }\r\n                } catch {\r\n                    alert(downloadError);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const gameContainer = document.getElementById('game-container');\r\n            if (!gameContainer) {\r\n                alert('game-container not found');\r\n                return;\r\n            }\r\n            const containerClone = gameContainer.cloneNode(true);\r\n\r\n            const allScripts = Object.values(scripts).join('');\r\n\r\n            const html = `<!DOCTYPE html>\r\n                <html lang=\"${locale}\">\r\n                <head>\r\n                <meta charset=\"utf-8\">\r\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n                <title>Tiny RPG</title>\r\n                <style>${cssText}\r\n                #game-container{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#000;overflow:hidden}\r\n                canvas{image-rendering:pixelated;image-rendering:crisp-edges}\r\n                </style>\r\n                <script>\r\n                console.log('[TinyRPG Export] Booting exported build');\r\n                globalThis.__TINY_RPG_EXPORT_MODE = true;\r\n                globalThis.__TINY_RPG_SHARED_CODE = ${JSON.stringify(code)};\r\n                console.log('[TinyRPG Export] Share code ready', { length: (globalThis.__TINY_RPG_SHARED_CODE || '').length });\r\n                if(!location.hash) try{ location.hash = '#' + globalThis.__TINY_RPG_SHARED_CODE; }catch{}\r\n                </script>\r\n                </head>\r\n                <body class=\"game-mode\">\r\n                <div class=\"app\">\r\n                <main>\r\n                <div class=\"tab-content active\" id=\"tab-game\">\r\n                ${containerClone.outerHTML}\r\n                </div>\r\n                </main>\r\n                </div>\r\n                <script>\r\n            console.log('[TinyRPG Export] Loading scripts', { count: ${Object.keys(scripts).length}, requested: ${scriptSrcs.length}, skipped: ${JSON.stringify(skippedScripts)}, bundle: ${Boolean(bundleSource)} });\r\n                ${allScripts}\r\n                console.log('[TinyRPG Export] Scripts executed');\r\n                </script>\r\n                </body>\r\n            </html>`;\r\n\r\n            const rawTitle = typeof gameData?.title === 'string' ? gameData.title : '';\r\n            const safeTitle = rawTitle\r\n                .normalize('NFD')\r\n                .replace(/[\\u0300-\\u036f]/g, '')\r\n                .replace(/[^a-zA-Z0-9]+/g, '-')\r\n                .replace(/^-+|-+$/g, '')\r\n                .toLowerCase();\r\n            const versionValue = typeof ShareConstants !== 'undefined' && ShareConstants?.VERSION\r\n                ? ShareConstants.VERSION\r\n                : 1;\r\n            const filename = `${safeTitle || 'tiny-rpg'}-v${versionValue}.html`;\r\n            const blob = new Blob([html], { type: 'text/html;charset=utf-8' });\r\n            const url = URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = filename;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            a.remove();\r\n            URL.revokeObjectURL(url);\r\n        } catch (error) {\r\n            console.error('Export failed', error);\r\n            alert('Export failed. See console for details.');\r\n        }\r\n    }\r\n}\r\n\r\nexport { EditorExportService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorHistoryManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [this.index] on a type that cannot be resolved.","line":10,"column":24,"nodeType":"MemberExpression","messageId":"errorMemberExpression","endLine":10,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"The type of computed name [this.index] cannot be resolved.","line":10,"column":24,"nodeType":"MemberExpression","messageId":"errorComputedMemberAccess","endLine":10,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":11,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":11,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":11,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":11,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on a type that cannot be resolved.","line":11,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":11,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":12,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":12,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .push on a type that cannot be resolved.","line":12,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":12,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":13,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":13,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":17,"column":41,"nodeType":"MemberExpression","messageId":"errorCall","endLine":17,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":17,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":17,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":26,"column":40,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":42,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":42,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [this.index] on a type that cannot be resolved.","line":42,"column":37,"nodeType":"MemberExpression","messageId":"errorMemberExpression","endLine":42,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"The type of computed name [this.index] cannot be resolved.","line":42,"column":37,"nodeType":"MemberExpression","messageId":"errorComputedMemberAccess","endLine":42,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":44,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":44,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":44,"column":33,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":44,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":45,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":45,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .restore on a type that cannot be resolved.","line":45,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":45,"endColumn":35}],"suppressedMessages":[],"errorCount":19,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass EditorHistoryManager {\n    constructor(editorManager) {\n        this.editorManager = editorManager;\n        this.stack = [];\n        this.index = -1;\n    }\n\n    pushSnapshot(snapshot) {\n        if (this.stack[this.index] === snapshot) return;\n        this.stack = this.stack.slice(0, this.index + 1);\n        this.stack.push(snapshot);\n        this.index = this.stack.length - 1;\n    }\n\n    pushCurrentState() {\n        const snapshot = JSON.stringify(this.editorManager.gameEngine.exportGameData());\n        this.pushSnapshot(snapshot);\n    }\n\n    canUndo() {\n        return this.index > 0;\n    }\n\n    canRedo() {\n        return this.index < this.stack.length - 1;\n    }\n\n    undo() {\n        if (!this.canUndo()) return;\n        this.index -= 1;\n        this.restoreCurrent();\n    }\n\n    redo() {\n        if (!this.canRedo()) return;\n        this.index += 1;\n        this.restoreCurrent();\n    }\n\n    restoreCurrent() {\n        const snapshot = this.stack[this.index];\n        if (!snapshot) return;\n        const data = JSON.parse(snapshot);\n        this.editorManager.restore(data, { skipHistory: true });\n    }\n}\n\nexport { EditorHistoryManager };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorNpcService.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":5,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":5,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":14,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":14,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":15,"column":20,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":15,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":17,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":17,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":21,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":21,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":21,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":21,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":25,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":25,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .domCache on a type that cannot be resolved.","line":25,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":29,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":29,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":29,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":29,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":33,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":33,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on a type that cannot be resolved.","line":33,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":33,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":34,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":34,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":34,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":34,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":34,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":35,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":35,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":35,"column":29,"nodeType":"MemberExpression","messageId":"errorCall","endLine":35,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on a type that cannot be resolved.","line":35,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":36,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":41,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":36,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":41,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":36,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":37,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on a type that cannot be resolved.","line":37,"column":14,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":38,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":38,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":39,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":39,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":39,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":39,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":39,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":39,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":39,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":39,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":39,"column":65,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":39,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":41,"column":14,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npc on an `any` value.","line":41,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":48,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":48,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npc on a type that cannot be resolved.","line":48,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":50,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":50,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":50,"column":29,"nodeType":"MemberExpression","messageId":"errorCall","endLine":50,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on a type that cannot be resolved.","line":50,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":50,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .def on a type that cannot be resolved.","line":50,"column":79,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":50,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":55,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":55,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":55,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":55,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":56,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":56,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":56,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":56,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":56,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":56,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":58,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":58,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":58,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":58,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":59,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":59,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":59,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":59,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":63,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":63,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":63,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":63,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":64,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":64,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":64,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":65,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":65,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":65,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":66,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":66,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":66,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":66,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":67,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":67,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":67,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":67,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":68,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":68,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":68,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":68,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":72,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":72,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":76,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":78,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":78,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyService on a type that cannot be resolved.","line":78,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":78,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":79,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":79,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":80,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":80,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectService on a type that cannot be resolved.","line":80,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":80,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":83,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":84,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":85,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":85,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":87,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":88,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":88,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":93,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":93,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":94,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":94,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":95,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":95,"column":53,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":95,"column":83,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":96,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":96,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":102,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":102,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":103,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":104,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":104,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":106,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":106,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":107,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":107,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalDialogueExpanded on a type that cannot be resolved.","line":108,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":108,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":111,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":111,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":111,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":111,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":117,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":117,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":118,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":118,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":118,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":118,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on a type that cannot be resolved.","line":118,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":118,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":118,"column":76,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":118,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":122,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":122,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":122,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":122,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":123,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":123,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":123,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":123,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":124,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":124,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":124,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":124,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":125,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":125,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":125,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":125,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":126,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":126,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":126,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":126,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":127,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":127,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":127,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":127,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":135,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":135,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on a type that cannot be resolved.","line":135,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":135,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":136,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":136,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":136,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":136,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":137,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":137,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":137,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":137,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":137,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":137,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":137,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":137,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":137,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":137,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":137,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":137,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionText on a type that cannot be resolved.","line":139,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":139,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionVariableId on a type that cannot be resolved.","line":140,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":140,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalRewardVariableId on a type that cannot be resolved.","line":141,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":141,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalDialogueExpanded on a type that cannot be resolved.","line":143,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":143,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":144,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":144,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":144,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":144,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":149,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":149,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":154,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":154,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on a type that cannot be resolved.","line":154,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":154,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":155,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":160,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":155,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":155,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on a type that cannot be resolved.","line":155,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":155,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":156,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":156,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":157,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":157,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":158,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":158,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":165,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":165,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":165,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":165,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":166,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":166,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":166,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":166,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":167,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":167,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":167,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":167,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":168,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":168,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":168,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":168,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":169,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":169,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":169,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":169,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":170,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":170,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":170,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":170,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":175,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":175,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":175,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":175,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getVariableDefinitions on a type that cannot be resolved.","line":175,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":175,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":177,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":177,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":181,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":181,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":182,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":182,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":182,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":182,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":187,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":187,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":188,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":188,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":188,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":188,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":191,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":191,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":191,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":191,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":193,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":193,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":193,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":193,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":194,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":194,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":194,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":194,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":194,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":194,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":195,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":195,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":195,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":195,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":198,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":198,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":202,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":202,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":203,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":203,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":203,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":203,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":203,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":203,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":203,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":203,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":203,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":203,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":203,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":203,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":203,"column":90,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":203,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":206,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":206,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on a type that cannot be resolved.","line":206,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":206,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on a type that cannot be resolved.","line":207,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":207,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":208,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":208,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":208,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":208,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":209,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":209,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":209,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":209,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":214,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":214,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":215,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":215,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":215,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":215,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":215,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":215,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":215,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":215,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":215,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":215,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":215,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":215,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":215,"column":90,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":215,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":217,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":217,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionText on a type that cannot be resolved.","line":217,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":217,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":218,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":218,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":218,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":218,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":219,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":219,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":219,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":219,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcTextUpdateTimer on a type that cannot be resolved.","line":224,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":224,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number | undefined`.","line":225,"column":26,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":225,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcTextUpdateTimer on a type that cannot be resolved.","line":225,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":225,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcTextUpdateTimer on a type that cannot be resolved.","line":227,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":227,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":228,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":228,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":228,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":228,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":233,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":233,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":234,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":234,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":234,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":234,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":234,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":234,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":234,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":234,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":234,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":234,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":234,"column":90,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":236,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":236,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionVariableId on a type that cannot be resolved.","line":236,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":236,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":237,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":237,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":237,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":237,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":238,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":238,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":238,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":238,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":239,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":239,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":239,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":239,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":240,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":240,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":240,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":240,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":244,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":244,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":245,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":245,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":245,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":245,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":245,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":245,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":245,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":245,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":245,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":245,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":245,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":245,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":245,"column":90,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":245,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":247,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":247,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rewardVariableId on a type that cannot be resolved.","line":247,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":247,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":248,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":248,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":248,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":248,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":249,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":249,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":249,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":249,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":250,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":250,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":250,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":250,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":251,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":251,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":251,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":251,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":255,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":255,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":256,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":256,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":256,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":256,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":256,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":256,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on a type that cannot be resolved.","line":256,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":256,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":256,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":256,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":256,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":256,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on a type that cannot be resolved.","line":256,"column":90,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":256,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":258,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":258,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalRewardVariableId on a type that cannot be resolved.","line":258,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":258,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":259,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":259,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":259,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":259,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":260,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":260,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":260,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":260,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":261,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":261,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":261,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":261,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":262,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":262,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":262,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":262,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":267,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":267,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":267,"column":45,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":267,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcVariantFilter on a type that cannot be resolved.","line":268,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":268,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":270,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":270,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcVariantFilter on a type that cannot be resolved.","line":270,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":270,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":271,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":271,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":271,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":271,"endColumn":35}],"suppressedMessages":[],"errorCount":257,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { TextResources } from '../../runtime/adapters/TextResources';\r\nclass EditorNpcService {\r\n    constructor(editorManager) {\r\n        this.manager = editorManager;\r\n    }\r\n\r\n    get text() {\r\n        return TextResources;\r\n    }\r\n\r\n    t(key, fallback = '') {\r\n        const resource = this.text;\r\n        const value = resource?.get?.(key, fallback);\r\n        if (value) return value;\r\n        if (fallback) return fallback;\r\n        return key || '';\r\n    }\r\n\r\n    get gameEngine() {\r\n        return this.manager.gameEngine;\r\n    }\r\n\r\n    get dom() {\r\n        return this.manager.domCache;\r\n    }\r\n\r\n    get state() {\r\n        return this.manager.state;\r\n    }\r\n\r\n    addNpc() {\r\n        this.gameEngine.npcManager?.ensureDefaultNPCs?.();\r\n        const sprites = this.gameEngine.getSprites();\r\n        const definitions = this.gameEngine.npcManager?.getDefinitions?.() ?? [];\r\n        const available = definitions\r\n            .map((def) => ({\r\n                def,\r\n                npc: sprites.find((entry) => entry.type === def.type) || null\r\n            }))\r\n            .find((entry) => !entry.npc?.placed);\r\n\r\n        if (!available) {\r\n            alert(this.t('alerts.npc.full'));\r\n            return;\r\n        }\r\n\r\n        const npc = available.npc;\r\n        if (!npc) {\r\n            const created = this.gameEngine.npcManager?.createNPC?.(available.def.type);\r\n            if (!created) {\r\n                alert(this.t('alerts.npc.createError'));\r\n                return;\r\n            }\r\n            this.state.selectedNpcId = created.id;\r\n            this.state.selectedNpcType = created.type;\r\n        } else {\r\n            this.state.selectedNpcId = npc.id;\r\n            this.state.selectedNpcType = npc.type;\r\n        }\r\n\r\n        this.activatePlacement();\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    activatePlacement() {\r\n        if (!this.state.selectedNpcId) {\r\n            alert(this.t('alerts.npc.selectFirst'));\r\n            return;\r\n        }\r\n        if (this.state.placingNpc) return;\r\n\r\n        this.manager.enemyService?.deactivatePlacement();\r\n        if (this.state.placingObjectType) {\r\n            this.manager.objectService?.togglePlacement?.(this.state.placingObjectType, true);\r\n        }\r\n\r\n        this.state.placingNpc = true;\r\n        this.state.placingEnemy = false;\r\n        this.state.placingObjectType = null;\r\n\r\n        if (this.dom.editorCanvas) {\r\n            this.dom.editorCanvas.style.cursor = 'crosshair';\r\n        }\r\n    }\r\n\r\n    deactivatePlacement() {\r\n        if (!this.state.placingNpc) return;\r\n        this.state.placingNpc = false;\r\n        if (!this.state.placingEnemy && !this.state.placingObjectType && this.dom.editorCanvas) {\r\n            this.dom.editorCanvas.style.cursor = 'default';\r\n        }\r\n    }\r\n\r\n    clearSelection({ render = true } = {}) {\r\n        const hadSelection = Boolean(\r\n            this.state.selectedNpcId ||\r\n            this.state.selectedNpcType ||\r\n            this.state.placingNpc\r\n        );\r\n        this.state.selectedNpcId = null;\r\n        this.state.selectedNpcType = null;\r\n        this.state.conditionalDialogueExpanded = false;\r\n        this.deactivatePlacement();\r\n        if (render && hadSelection) {\r\n            this.manager.renderService.renderNpcs();\r\n        }\r\n        return hadSelection;\r\n    }\r\n\r\n    removeSelectedNpc() {\r\n        if (!this.state.selectedNpcId) return;\r\n        const removed = this.gameEngine.npcManager?.removeNPC?.(this.state.selectedNpcId);\r\n        if (!removed) return;\r\n\r\n        this.clearSelection({ render: false });\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    updateNpcSelection(type, id) {\r\n        if (!id) {\r\n            this.clearSelection();\r\n            return;\r\n        }\r\n        this.state.selectedNpcType = type;\r\n        this.state.selectedNpcId = id;\r\n        const npc = this.gameEngine.getSprites().find((entry) => entry.id === id) || null;\r\n        const hasConditionalData = Boolean(\r\n            npc?.conditionText ||\r\n            npc?.conditionVariableId ||\r\n            npc?.conditionalRewardVariableId\r\n        );\r\n        this.state.conditionalDialogueExpanded = hasConditionalData;\r\n        this.manager.renderService.renderNpcs();\r\n        this.activatePlacement();\r\n    }\r\n\r\n    placeNpcAt(coord) {\r\n        if (!this.state.selectedNpcId) {\r\n            alert(this.t('alerts.npc.selectFirst'));\r\n            this.deactivatePlacement();\r\n            return;\r\n        }\r\n        const roomIndex = this.state.activeRoomIndex;\r\n        const updated = this.gameEngine.npcManager?.setNPCPosition?.(\r\n            this.state.selectedNpcId,\r\n            coord.x,\r\n            coord.y,\r\n            roomIndex\r\n        );\r\n        if (!updated) {\r\n            alert(this.t('alerts.npc.placeError'));\r\n            return;\r\n        }\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    populateVariableSelect(selectElement, selectedId = '', options = {}) {\r\n        if (!selectElement) return;\r\n        const variables = this.gameEngine.getVariableDefinitions();\r\n        const includeBardSkill = Boolean(options.includeBardSkill);\r\n        selectElement.innerHTML = '';\r\n\r\n        const emptyOption = document.createElement('option');\r\n        emptyOption.value = '';\r\n        emptyOption.textContent = this.t('variables.none');\r\n        selectElement.appendChild(emptyOption);\r\n\r\n        if (includeBardSkill) {\r\n            const bardOption = document.createElement('option');\r\n            bardOption.value = 'skill:bard';\r\n            bardOption.textContent = this.t('variables.skill.bard');\r\n            selectElement.appendChild(bardOption);\r\n        }\r\n\r\n        variables.forEach((variable) => {\r\n            const option = document.createElement('option');\r\n            option.value = variable.id;\r\n            option.textContent = variable.name || variable.id;\r\n            selectElement.appendChild(option);\r\n        });\r\n\r\n        selectElement.value = selectedId || '';\r\n    }\r\n\r\n    updateNpcText(text) {\r\n        if (!this.state.selectedNpcId) return;\r\n        const npc = this.gameEngine.getSprites().find((entry) => entry.id === this.state.selectedNpcId);\r\n        if (!npc) return;\r\n\r\n        npc.text = text;\r\n        npc.textKey = null;\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.updateJSON();\r\n        this.scheduleNpcTextUpdate();\r\n    }\r\n\r\n    updateNpcConditionalText(text) {\r\n        if (!this.state.selectedNpcId) return;\r\n        const npc = this.gameEngine.getSprites().find((entry) => entry.id === this.state.selectedNpcId);\r\n        if (!npc) return;\r\n        npc.conditionText = text;\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.updateJSON();\r\n        this.scheduleNpcTextUpdate();\r\n    }\r\n\r\n    scheduleNpcTextUpdate() {\r\n        if (this.state.npcTextUpdateTimer) {\r\n            clearTimeout(this.state.npcTextUpdateTimer);\r\n        }\r\n        this.state.npcTextUpdateTimer = setTimeout(() => {\r\n            this.manager.history.pushCurrentState();\r\n        }, 400);\r\n    }\r\n\r\n    handleConditionVariableChange(variableId) {\r\n        if (!this.state.selectedNpcId) return;\r\n        const npc = this.gameEngine.getSprites().find((entry) => entry.id === this.state.selectedNpcId);\r\n        if (!npc) return;\r\n        npc.conditionVariableId = variableId || null;\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    handleRewardVariableChange(variableId) {\r\n        if (!this.state.selectedNpcId) return;\r\n        const npc = this.gameEngine.getSprites().find((entry) => entry.id === this.state.selectedNpcId);\r\n        if (!npc) return;\r\n        npc.rewardVariableId = variableId || null;\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    handleConditionalRewardVariableChange(variableId) {\r\n        if (!this.state.selectedNpcId) return;\r\n        const npc = this.gameEngine.getSprites().find((entry) => entry.id === this.state.selectedNpcId);\r\n        if (!npc) return;\r\n        npc.conditionalRewardVariableId = variableId || null;\r\n        this.manager.renderService.renderNpcs();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    setVariantFilter(variant) {\r\n        const allowed = ['human', 'elf', 'dwarf', 'fixed'];\r\n        const normalized = allowed.includes(variant) ? variant : 'human';\r\n        if (this.state.npcVariantFilter === normalized) return;\r\n        this.clearSelection({ render: false });\r\n        this.state.npcVariantFilter = normalized;\r\n        this.manager.renderService.renderNpcs();\r\n    }\r\n\r\n}\r\n\r\nexport { EditorNpcService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorObjectService.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":6,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":6,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":10,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":10,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .domCache on a type that cannot be resolved.","line":10,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":10,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":14,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":14,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":14,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":14,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":18,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":18,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":18,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":18,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":22,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":22,"endColumn":123},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":22,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":22,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":22,"column":104,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":22,"endColumn":122},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":24,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":24,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":25,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":26,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":26,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":26,"column":80,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":27,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":27,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":29,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":29,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":29,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":29,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":34,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":35,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":36,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":36,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":36,"column":80,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":37,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":39,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":39,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":39,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":39,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":46,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":46,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":46,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":50,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":50,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":50,"column":24,"nodeType":"MemberExpression","messageId":"errorCall","endLine":50,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setObjectPosition on a type that cannot be resolved.","line":50,"column":40,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":50,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":50,"column":81,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":50,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":50,"column":90,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":50,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":52,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":52,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":52,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":52,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":53,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":54,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":54,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":54,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":54,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":55,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":55,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":55,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":56,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":56,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":56,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":56,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":57,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":57,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":57,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":57,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":58,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":58,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":58,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":62,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":62,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":65,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":65,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .removeObject on a type that cannot be resolved.","line":65,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":66,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":66,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":66,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":66,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":67,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":67,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":67,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":67,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":68,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":68,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":68,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":68,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":69,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":69,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":69,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":70,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":70,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":70,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":71,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":71,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":71,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":71,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":72,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":72,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":72,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":72,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":76,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":76,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":78,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":78,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":79,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":79,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":79,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":79,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `null`.","line":81,"column":32,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":81,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":85,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":85,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":85,"column":68,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":85,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":87,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":87,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on a type that cannot be resolved.","line":87,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":88,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":88,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":89,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":89,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyService on a type that cannot be resolved.","line":89,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":89,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":91,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":91,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":92,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":92,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":92,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":92,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":93,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":93,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":93,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":93,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":94,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":94,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":95,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":97,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":97,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":97,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":97,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":101,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":101,"column":84,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":101},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":103,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on a type that cannot be resolved.","line":104,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":104,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":105,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":105,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":105,"column":76,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":106,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":106,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":109,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":109,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":109,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":109,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":115,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":115,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setPlayerEndText on a type that cannot be resolved.","line":115,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":116,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":116,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":116,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":116,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .playerEndTextUpdateTimer on a type that cannot be resolved.","line":121,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":121,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number | undefined`.","line":122,"column":26,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":122,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .playerEndTextUpdateTimer on a type that cannot be resolved.","line":122,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":122,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .playerEndTextUpdateTimer on a type that cannot be resolved.","line":124,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":124,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":125,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":125,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":125,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":125,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":131,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":131,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":133,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":133,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":133,"column":66,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":133,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":133,"column":82,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":133,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":134,"column":29,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":134,"endColumn":47}],"suppressedMessages":[],"errorCount":110,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { itemCatalog } from '../../runtime/domain/services/ItemCatalog';\nimport { EditorConstants } from './EditorConstants';\r\nclass EditorObjectService {\r\n    constructor(editorManager) {\r\n        this.manager = editorManager;\r\n    }\r\n\r\n    get dom() {\r\n        return this.manager.domCache;\r\n    }\r\n\r\n    get state() {\r\n        return this.manager.state;\r\n    }\r\n\r\n    get gameEngine() {\r\n        return this.manager.gameEngine;\r\n    }\r\n\r\n    togglePlacement(type, forceOff = false) {\r\n        const normalizedType = this.normalizeType(type ?? this.state.placingObjectType ?? this.manager.selectedObjectType);\r\n        if (forceOff) {\r\n            if (!this.state.placingObjectType) return;\r\n            this.state.placingObjectType = null;\r\n            if (!this.state.placingNpc && !this.state.placingEnemy && this.dom.editorCanvas) {\r\n                this.dom.editorCanvas.style.cursor = 'default';\r\n            }\r\n            this.manager.renderObjectCatalog();\r\n            return;\r\n        }\r\n\r\n        if (!normalizedType) return;\r\n        if (this.state.placingObjectType === normalizedType) {\r\n            this.state.placingObjectType = null;\r\n            if (!this.state.placingNpc && !this.state.placingEnemy && this.dom.editorCanvas) {\r\n                this.dom.editorCanvas.style.cursor = 'default';\r\n            }\r\n            this.manager.renderObjectCatalog();\r\n            return;\r\n        }\r\n        this.selectObjectType(normalizedType);\r\n    }\r\n\r\n    updatePlacementButtons() {\r\n        this.manager.renderObjectCatalog();\r\n    }\r\n\r\n    placeObjectAt(type, coord, roomIndex) {\r\n        const object = this.gameEngine.setObjectPosition(type, roomIndex, coord.x, coord.y);\r\n        if (!object) return;\r\n        this.manager.renderService.renderObjects();\r\n        this.manager.renderObjectCatalog();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    removeObject(type, roomIndex) {\r\n        if (this.state.placingObjectType === type) {\r\n            this.togglePlacement(type, true);\r\n        }\r\n        this.gameEngine.removeObject(type, roomIndex);\r\n        this.manager.renderService.renderObjects();\r\n        this.manager.renderObjectCatalog();\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n\r\n    selectObjectType(type) {\r\n        const normalized = this.normalizeType(type);\r\n        if (!normalized) return;\r\n        if (this.manager.selectedObjectType !== normalized) {\r\n            this.manager.selectedObjectType = normalized;\r\n        }\r\n        this.activatePlacement(normalized);\r\n    }\r\n\r\n    activatePlacement(type = null) {\r\n        const targetType = this.normalizeType(type ?? this.manager.selectedObjectType);\r\n        if (!targetType) return;\r\n        this.manager.npcService?.clearSelection?.();\r\n        if (this.state.placingEnemy) {\r\n            this.manager.enemyService.deactivatePlacement();\r\n        }\r\n        this.state.placingNpc = false;\r\n        this.state.placingObjectType = targetType;\r\n        this.manager.selectedObjectType = targetType;\r\n        if (this.dom.editorCanvas) {\r\n            this.dom.editorCanvas.style.cursor = 'crosshair';\r\n        }\r\n        this.manager.renderObjectCatalog();\r\n    }\r\n\r\n    clearSelection({ render = true } = {}) {\r\n        const hadSelection = Boolean(this.manager.selectedObjectType || this.state.placingObjectType);\r\n        if (!hadSelection) return false;\r\n        this.state.placingObjectType = null;\r\n        this.manager.selectedObjectType = null;\r\n        if (!this.state.placingNpc && !this.state.placingEnemy && this.dom.editorCanvas) {\r\n            this.dom.editorCanvas.style.cursor = 'default';\r\n        }\r\n        if (render) {\r\n            this.manager.renderObjectCatalog();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    updatePlayerEndText(roomIndex, text) {\r\n        this.gameEngine.setPlayerEndText(roomIndex, text);\r\n        this.manager.updateJSON();\r\n        this.schedulePlayerEndTextHistory();\r\n    }\r\n\r\n    schedulePlayerEndTextHistory() {\r\n        if (this.state.playerEndTextUpdateTimer) {\r\n            clearTimeout(this.state.playerEndTextUpdateTimer);\r\n        }\r\n        this.state.playerEndTextUpdateTimer = setTimeout(() => {\r\n            this.manager.history.pushCurrentState();\r\n        }, 400);\r\n    }\r\n\r\n    normalizeType(type) {\r\n        if (typeof type !== 'string' || !type.length) return null;\r\n        const definitions = EditorConstants.OBJECT_DEFINITIONS;\r\n        if (Array.isArray(definitions) && definitions.length) {\r\n            const normalized = definitions.find((entry) => entry.type === type)?.type || null;\r\n            if (normalized) return normalized;\r\n        }\r\n        const fallbackTypes = new Set(itemCatalog.getPlaceableTypes());\n        return fallbackTypes.has(type) ? type : null;\n    }\n}\n\r\nexport { EditorObjectService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorRenderService.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":13,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":13,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `EventListenerOrEventListenerObject`.","line":24,"column":63,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":24,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":33,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":33,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":34,"column":20,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":34,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":36,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":36,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":42,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":42,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":44,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":44,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":46,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":46,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":46,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":46,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":46,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":46,"column":62,"nodeType":"LogicalExpression","messageId":"unsafeReturn","endLine":46,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [token] resolves to an `any` value.","line":46,"column":69,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":46,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":50,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":50,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .domCache on a type that cannot be resolved.","line":50,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":50,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":54,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":54,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":54,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":54,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":58,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":58,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":58,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":67,"column":30,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":67,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [raw] resolves to an `any` value.","line":69,"column":28,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":69,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":80,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":80,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEditor on a type that cannot be resolved.","line":80,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":81,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":81,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderMapNavigation on a type that cannot be resolved.","line":81,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":85,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":85,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderTileList on a type that cannot be resolved.","line":85,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":85,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":89,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":89,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderNpcs on a type that cannot be resolved.","line":89,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":89,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":93,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":93,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateNpcForm on a type that cannot be resolved.","line":93,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":93,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":97,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":97,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemies on a type that cannot be resolved.","line":97,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":97,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":101,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":101,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderEnemyCatalog on a type that cannot be resolved.","line":101,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":105,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":105,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjectCatalog on a type that cannot be resolved.","line":105,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":109,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":109,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderObjects on a type that cannot be resolved.","line":109,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":109,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":113,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":113,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderWorldGrid on a type that cannot be resolved.","line":113,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":113,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":117,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":117,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderMapNavigation on a type that cannot be resolved.","line":117,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":117,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":121,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":121,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateMapPosition on a type that cannot be resolved.","line":121,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":121,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":125,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":125,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateSelectedTilePreview on a type that cannot be resolved.","line":125,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":125,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":129,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":129,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectVariableList on a type that cannot be resolved.","line":129,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":129,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":131,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":131,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectVariablesContainer on a type that cannot be resolved.","line":131,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":131,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":132,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":132,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectVariablesToggle on a type that cannot be resolved.","line":132,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":132,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on a type that cannot be resolved.","line":133,"column":14,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":133,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":135,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":135,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":135,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":135,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getVariableDefinitions on a type that cannot be resolved.","line":135,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":135,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":137,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":140,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":137,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":137,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .reduce on a type that cannot be resolved.","line":137,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":137,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":138,"column":34,"nodeType":"BinaryExpression","messageId":"unsafeReturn","endLine":138,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":138,"column":64,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":138,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":141,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":145,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":143,"column":15,"nodeType":"Property","messageId":"anyAssignment","endLine":143,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":143,"column":32,"nodeType":"Property","messageId":"anyAssignment","endLine":143,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":143,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":143,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":144,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":144,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variablePanelCollapsed on a type that cannot be resolved.","line":147,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":147,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":149,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":151,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textContent on a type that cannot be resolved.","line":152,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":152,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":155,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":155,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on a type that cannot be resolved.","line":155,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":155,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":158,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":158,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":163,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":163,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":165,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":165,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on a type that cannot be resolved.","line":165,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":165,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":169,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":169,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":169,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":169,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":175,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":175,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .color on an `any` value.","line":175,"column":69,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":175,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":179,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":179,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":179,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":179,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":179,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":179,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":182,"column":48,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":182,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":184,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":186,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":189,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":189,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on a type that cannot be resolved.","line":189,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":189,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":194,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":194,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectSkillsList on a type that cannot be resolved.","line":194,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":194,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":196,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":196,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectSkillsContainer on a type that cannot be resolved.","line":196,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":196,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":197,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":197,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectSkillsToggle on a type that cannot be resolved.","line":197,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":197,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on a type that cannot be resolved.","line":198,"column":14,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":198,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skillPanelCollapsed on a type that cannot be resolved.","line":203,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":203,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":205,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":207,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":208,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":208,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textContent on a type that cannot be resolved.","line":209,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":209,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":212,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":212,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on a type that cannot be resolved.","line":212,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":212,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":223,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":223,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":225,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":225,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on a type that cannot be resolved.","line":225,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":225,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":235,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":237,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":236,"column":53,"nodeType":"Property","messageId":"anyAssignment","endLine":236,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":238,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":238,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":241,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":241,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on an `any` value.","line":241,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":241,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":247,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":247,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .icon on an `any` value.","line":247,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":247,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":251,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":253,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":251,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":251,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":252,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":252,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":252,"column":45,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":252,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":252,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":252,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":252,"column":65,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":252,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":253,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":253,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":253,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":253,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":254,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":254,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":254,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":254,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":258,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":260,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .descriptionKey on an `any` value.","line":258,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":258,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .descriptionKey on an `any` value.","line":259,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":259,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":259,"column":52,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":259,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .description on an `any` value.","line":259,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":259,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .description on an `any` value.","line":260,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":260,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":261,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":261,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":267,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":267,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on a type that cannot be resolved.","line":267,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":267,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":273,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":273,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":273,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":273,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on a type that cannot be resolved.","line":273,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":273,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":274,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":274,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":274,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":274,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getVariableDefinitions on a type that cannot be resolved.","line":274,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":274,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<unknown> | null | undefined`.","line":275,"column":34,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":275,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":275,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":275,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on a type that cannot be resolved.","line":275,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":275,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":275,"column":62,"nodeType":"MemberExpression","messageId":"unsafeReturn","endLine":275,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":275,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":275,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":284,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":284,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .sprites on a type that cannot be resolved.","line":284,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":284,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .sprites on a type that cannot be resolved.","line":284,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":284,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":285,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":285,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":285,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":285,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionVariableId on an `any` value.","line":287,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":287,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalVariableId on an `any` value.","line":288,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":288,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rewardVariableId on an `any` value.","line":289,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":289,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activateVariableId on an `any` value.","line":290,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":290,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .onCompleteVariableId on an `any` value.","line":291,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":291,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalRewardVariableId on an `any` value.","line":292,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":292,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .alternativeRewardVariableId on an `any` value.","line":293,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":293,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":297,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":297,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":297,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":297,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":297,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":297,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":298,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":298,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":298,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":298,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on an `any` value.","line":298,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":298,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":300,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":300,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":300,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":300,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":300,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":300,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":301,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":301,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":301,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":301,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on an `any` value.","line":301,"column":55,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":301,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":324,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":324,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on an `any` value.","line":324,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":324,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":325,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":325,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":325,"column":27,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":325,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .get on an `any` value.","line":325,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":325,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":325,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":325,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":326,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":326,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":330,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":330,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .push on an `any` value.","line":330,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":330,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":333,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":333,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":334,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":334,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":338,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":338,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":339,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":339,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":344,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":344,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectTestContainer on a type that cannot be resolved.","line":344,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":344,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":345,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":345,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectTestToggle on a type that cannot be resolved.","line":345,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":345,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":346,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":346,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectTestPanel on a type that cannot be resolved.","line":346,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":346,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":347,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":347,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectTestStartLevel on a type that cannot be resolved.","line":347,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":347,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":348,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":348,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectTestSkillList on a type that cannot be resolved.","line":348,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":348,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":349,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":349,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .projectTestGodMode on a type that cannot be resolved.","line":349,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":349,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .testPanelCollapsed on a type that cannot be resolved.","line":352,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":352,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":353,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":353,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":354,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":356,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textContent on a type that cannot be resolved.","line":357,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":357,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":358,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":358,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .classList on a type that cannot be resolved.","line":358,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":358,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":360,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":360,"endColumn":111},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":360,"column":26,"nodeType":"MemberExpression","messageId":"errorCall","endLine":360,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTestSettings on a type that cannot be resolved.","line":360,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":360,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":361,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":361,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":361,"column":26,"nodeType":"MemberExpression","messageId":"errorCall","endLine":361,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getMaxPlayerLevel on a type that cannot be resolved.","line":361,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":361,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":363,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":363,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":363,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":363,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .querySelector on a type that cannot be resolved.","line":363,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":363,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":365,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":368,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textContent on a type that cannot be resolved.","line":365,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":365,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on a type that cannot be resolved.","line":372,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":372,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":376,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":380,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startLevel on a type that cannot be resolved.","line":381,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":381,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":384,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":384,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on a type that cannot be resolved.","line":384,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":384,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .checked on a type that cannot be resolved.","line":389,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":389,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":389,"column":53,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":389,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on a type that cannot be resolved.","line":393,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":393,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<unknown> | null | undefined`.","line":395,"column":38,"nodeType":"ConditionalExpression","messageId":"unsafeArgument","endLine":395,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skills on a type that cannot be resolved.","line":395,"column":61,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":395,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skills on a type that cannot be resolved.","line":395,"column":80,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":395,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":400,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":400,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":401,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":401,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on a type that cannot be resolved.","line":401,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":401,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":420,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":422,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":421,"column":45,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":421,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":426,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":426,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on a type that cannot be resolved.","line":426,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":426,"endColumn":38}],"suppressedMessages":[],"errorCount":223,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { SkillDefinitions } from '../../runtime/domain/definitions/SkillDefinitions';\r\nimport { TextResources } from '../../runtime/adapters/TextResources';\r\nimport { PICO8_COLORS } from '../../runtime/domain/definitions/TileDefinitions';\r\nimport { EditorCanvasRenderer } from './renderers/EditorCanvasRenderer';\r\nimport { EditorEnemyRenderer } from './renderers/EditorEnemyRenderer';\r\nimport { EditorNpcRenderer } from './renderers/EditorNpcRenderer';\r\nimport { EditorObjectRenderer } from './renderers/EditorObjectRenderer';\r\nimport { EditorTilePanelRenderer } from './renderers/EditorTilePanelRenderer';\r\nimport { EditorWorldRenderer } from './renderers/EditorWorldRenderer';\r\nclass EditorRenderService {\r\n    constructor(editorManager) {\r\n        this.manager = editorManager;\r\n        this.canvasRenderer = new EditorCanvasRenderer(this);\r\n        this.tilePanelRenderer = new EditorTilePanelRenderer(this);\r\n        this.npcRenderer = new EditorNpcRenderer(this);\r\n        this.enemyRenderer = new EditorEnemyRenderer(this);\r\n        this.worldRenderer = new EditorWorldRenderer(this);\r\n        this.objectRenderer = new EditorObjectRenderer(this);\r\n        this.handleTileAnimationFrame = () => {\r\n            this.renderEditor();\r\n            this.updateSelectedTilePreview();\r\n        };\r\n        globalThis.addEventListener?.('tile-animation-frame', this.handleTileAnimationFrame);\r\n    }\r\n\r\n    get textResources() {\r\n        return TextResources;\r\n    }\r\n\r\n    t(key, fallback = '') {\r\n        const resource = this.textResources;\r\n        const value = resource?.get?.(key, fallback);\r\n        if (value) return value;\r\n        if (fallback) return fallback;\r\n        return key || '';\r\n    }\r\n\r\n    tf(key, params = {}, fallback = '') {\r\n        const resource = this.textResources;\r\n        if (resource?.format) {\r\n            return resource.format(key, params, fallback);\r\n        }\r\n        const template = this.t(key, fallback);\r\n        if (!template) return '';\r\n        return template.replace(/\\{(\\w+)\\}/g, (_, token) => (params[token] ?? ''));\r\n    }\r\n\r\n    get dom() {\r\n        return this.manager.domCache;\r\n    }\r\n\r\n    get gameEngine() {\r\n        return this.manager.gameEngine;\r\n    }\r\n\r\n    get state() {\r\n        return this.manager.state;\r\n    }\r\n\r\n    get picoPalette() {\r\n        return PICO8_COLORS || [];\r\n    }\r\n\r\n    resolvePicoColor(raw) {\r\n        const palette = this.picoPalette;\r\n        if (!palette.length) return raw || '#000000';\r\n        if (Number.isInteger(raw)) {\r\n            return palette[raw] ?? palette[0];\r\n        }\r\n        if (typeof raw !== 'string') return palette[0];\r\n        const normalize = (value) => String(value || '').replace('#', '').trim().toUpperCase();\r\n        const target = normalize(raw);\r\n        const idx = palette.findIndex((color) => normalize(color) === target);\r\n        if (idx !== -1) return palette[idx];\r\n        return palette[0];\r\n    }\r\n\r\n    renderEditor() {\r\n        this.canvasRenderer.renderEditor();\r\n        this.worldRenderer.renderMapNavigation();\r\n    }\r\n\r\n    renderTileList() {\r\n        this.tilePanelRenderer.renderTileList();\r\n    }\r\n\r\n    renderNpcs() {\r\n        this.npcRenderer.renderNpcs();\r\n    }\r\n\r\n    updateNpcForm() {\r\n        this.npcRenderer.updateNpcForm();\r\n    }\r\n\r\n    renderEnemies() {\r\n        this.enemyRenderer.renderEnemies();\r\n    }\r\n\r\n    renderEnemyCatalog() {\r\n        this.enemyRenderer.renderEnemyCatalog();\r\n    }\r\n\r\n    renderObjectCatalog() {\r\n        this.objectRenderer.renderObjectCatalog();\r\n    }\r\n\r\n    renderObjects() {\r\n        this.objectRenderer.renderObjects();\r\n    }\r\n\r\n    renderWorldGrid() {\r\n        this.worldRenderer.renderWorldGrid();\r\n    }\r\n\r\n    renderMapNavigation() {\r\n        this.worldRenderer.renderMapNavigation();\r\n    }\r\n\r\n    updateMapPosition(col, row) {\r\n        this.worldRenderer.updateMapPosition(col, row);\r\n    }\r\n\r\n    updateSelectedTilePreview() {\r\n        this.tilePanelRenderer.updateSelectedTilePreview();\r\n    }\r\n\r\n    renderVariableUsage() {\r\n        const list = this.dom.projectVariableList;\r\n        if (!list) return;\r\n        const container = this.dom.projectVariablesContainer;\r\n        const toggle = this.dom.projectVariablesToggle;\r\n        list.innerHTML = '';\r\n\r\n        const variables = this.gameEngine?.getVariableDefinitions?.() ?? [];\r\n        const usedSet = this.collectVariableUsage();\r\n        const usedCount = variables.reduce(\r\n            (count, variable) => count + (usedSet.has(variable.id) ? 1 : 0),\r\n            0\r\n        );\r\n        const usageText = this.tf(\r\n            'project.variables.usage',\r\n            { used: usedCount, total: variables.length },\r\n            `${usedCount}/${variables.length}`\r\n        );\r\n\r\n        const collapsed = Boolean(this.state.variablePanelCollapsed);\r\n        if (toggle) {\r\n            const actionText = collapsed\r\n                ? this.t('project.variables.toggle.show', 'Mostrar variveis')\r\n                : this.t('project.variables.toggle.hide', 'Esconder variveis');\r\n            toggle.textContent = `${usageText}  ${actionText}`;\r\n        }\r\n        if (container) {\r\n            container.classList.toggle('is-collapsed', collapsed);\r\n        }\r\n\r\n        if (!variables.length) {\r\n            const empty = document.createElement('div');\r\n            empty.className = 'project-variable-item';\r\n            const label = document.createElement('span');\r\n            label.className = 'project-variable-name';\r\n            label.textContent = this.t('variables.none', 'Nenhuma');\r\n            empty.appendChild(label);\r\n            list.appendChild(empty);\r\n            return;\r\n        }\r\n\r\n        variables.forEach((variable) => {\r\n            const item = document.createElement('div');\r\n            item.className = 'project-variable-item';\r\n\r\n            const color = document.createElement('span');\r\n            color.className = 'project-variable-color';\r\n            color.style.background = this.resolvePicoColor(variable.color);\r\n\r\n            const name = document.createElement('span');\r\n            name.className = 'project-variable-name';\r\n            name.textContent = variable.name || variable.id;\r\n\r\n            const badge = document.createElement('span');\r\n            const inUse = usedSet.has(variable.id);\r\n            badge.className = `project-variable-badge ${inUse ? 'in-use' : 'unused'}`;\r\n            badge.textContent = inUse\r\n                ? this.t('project.variables.used', 'Em uso')\r\n                : this.t('project.variables.unused', 'Sem uso');\r\n\r\n            item.append(color, name, badge);\r\n            list.appendChild(item);\r\n        });\r\n    }\r\n\r\n    renderSkillList() {\r\n        const list = this.dom.projectSkillsList;\r\n        if (!list) return;\r\n        const container = this.dom.projectSkillsContainer;\r\n        const toggle = this.dom.projectSkillsToggle;\r\n        list.innerHTML = '';\r\n\r\n        const skills = SkillDefinitions.getAll?.() || [];\r\n        const levelMap = this.buildSkillLevelMap();\r\n        const grouped = this.groupSkillsByLevel(skills, levelMap);\r\n        const collapsed = Boolean(this.state.skillPanelCollapsed);\r\n        if (toggle) {\r\n            const actionText = collapsed\r\n                ? this.t('project.skills.toggle.show', 'Mostrar skills')\r\n                : this.t('project.skills.toggle.hide', 'Esconder skills');\r\n            const title = this.t('project.skills.title', 'Skills do jogo');\r\n            toggle.textContent = `${title}  ${actionText}`;\r\n        }\r\n        if (container) {\r\n            container.classList.toggle('is-collapsed', collapsed);\r\n        }\r\n        if (collapsed) {\r\n            return;\r\n        }\r\n\r\n        if (!skills.length) {\r\n            const empty = document.createElement('div');\r\n            empty.className = 'project-skill-item';\r\n            const text = document.createElement('span');\r\n            text.className = 'project-skill-name';\r\n            text.textContent = this.t('variables.none', 'Nenhuma');\r\n            empty.appendChild(text);\r\n            list.appendChild(empty);\r\n            return;\r\n        }\r\n\r\n        grouped.forEach(({ level, items }) => {\r\n            const group = document.createElement('div');\r\n            group.className = 'project-skill-group';\r\n\r\n            const title = document.createElement('div');\r\n            title.className = 'project-skill-group-title';\r\n            const label = Number.isFinite(level)\r\n                ? this.tf('project.skills.level', { value: level }, `Nvel ${level}`)\r\n                : this.t('project.skills.level', 'Nvel -');\r\n            title.textContent = label;\r\n            group.appendChild(title);\r\n\r\n            items.forEach((skill) => {\r\n                const item = document.createElement('div');\r\n                item.className = 'project-skill-item';\r\n\r\n                const icon = document.createElement('span');\r\n                icon.className = 'project-skill-icon';\r\n                icon.textContent = skill.icon || '';\r\n\r\n                const name = document.createElement('div');\r\n                name.className = 'project-skill-name';\r\n                const nameText = skill.nameKey\r\n                    ? this.t(skill.nameKey, skill.name || skill.id || '')\r\n                    : (skill.name || skill.id || '');\r\n                name.textContent = nameText || skill.id || '';\r\n\r\n                const desc = document.createElement('div');\r\n                desc.className = 'project-skill-desc';\r\n                const descText = skill.descriptionKey\r\n                    ? this.t(skill.descriptionKey, skill.description || '')\r\n                    : (skill.description || '');\r\n                desc.textContent = descText;\r\n\r\n                item.append(icon, name, desc);\r\n                group.appendChild(item);\r\n            });\r\n\r\n            list.appendChild(group);\r\n        });\r\n    }\r\n\r\n    collectVariableUsage() {\r\n        const used = new Set();\r\n        const game = this.gameEngine?.getGame?.() || {};\r\n        const variables = this.gameEngine?.getVariableDefinitions?.() ?? [];\r\n        const validIds = new Set(variables.map((variable) => variable.id));\r\n        const addIfValid = (id) => {\r\n            if (typeof id !== 'string') return;\r\n            const normalized = id.trim();\r\n            if (normalized && validIds.has(normalized)) {\r\n                used.add(normalized);\r\n            }\r\n        };\r\n\r\n        const sprites = Array.isArray(game.sprites) ? game.sprites : [];\r\n        sprites.forEach((npc) => {\r\n            [\r\n                npc.conditionVariableId,\r\n                npc.conditionalVariableId,\r\n                npc.rewardVariableId,\r\n                npc.activateVariableId,\r\n                npc.onCompleteVariableId,\r\n                npc.conditionalRewardVariableId,\r\n                npc.alternativeRewardVariableId\r\n            ].forEach(addIfValid);\r\n        });\r\n\r\n        const enemies = Array.isArray(game.enemies) ? game.enemies : [];\r\n        enemies.forEach((enemy) => addIfValid(enemy.defeatVariableId));\r\n\r\n        const objects = Array.isArray(game.objects) ? game.objects : [];\r\n        objects.forEach((object) => addIfValid(object.variableId));\r\n\r\n        return used;\r\n    }\r\n\r\n    buildSkillLevelMap() {\r\n        const levelMap = new Map();\r\n        const entries = SkillDefinitions.LEVEL_SKILLS || {};\r\n        Object.entries(entries).forEach(([levelKey, ids]) => {\r\n            const level = Number(levelKey);\r\n            if (!Number.isFinite(level)) return;\r\n            (Array.isArray(ids) ? ids : []).forEach((id) => {\r\n                if (typeof id !== 'string') return;\r\n                if (!levelMap.has(id) || level < levelMap.get(id)) {\r\n                    levelMap.set(id, level);\r\n                }\r\n            });\r\n        });\r\n        return levelMap;\r\n    }\r\n\r\n    groupSkillsByLevel(skills, levelMap) {\r\n        const buckets = new Map();\r\n        skills.forEach((skill) => {\r\n            const level = levelMap.get(skill.id) ?? null;\r\n            const key = Number.isFinite(level) ? level : 'other';\r\n            if (!buckets.has(key)) {\r\n                buckets.set(key, []);\r\n            }\r\n            buckets.get(key).push(skill);\r\n        });\r\n        const sortedKeys = Array.from(buckets.keys()).sort((a, b) => {\r\n            const na = Number.isFinite(a) ? a : Infinity;\r\n            const nb = Number.isFinite(b) ? b : Infinity;\r\n            return na - nb;\r\n        });\r\n        return sortedKeys.map((key) => ({\r\n            level: Number.isFinite(key) ? key : null,\r\n            items: buckets.get(key) || []\r\n        }));\r\n    }\r\n\r\n    renderTestTools() {\r\n        const container = this.dom.projectTestContainer;\r\n        const toggle = this.dom.projectTestToggle;\r\n        const panel = this.dom.projectTestPanel;\r\n        const startLevelSelect = this.dom.projectTestStartLevel;\r\n        const skillList = this.dom.projectTestSkillList;\r\n        const godModeInput = this.dom.projectTestGodMode;\r\n        if (!container || !toggle || !panel) return;\r\n\r\n        const collapsed = Boolean(this.state.testPanelCollapsed);\r\n        const title = this.t('project.test.title', 'Ajuda nos testes');\r\n        const actionText = collapsed\r\n            ? this.t('project.test.toggle.show', 'Mostrar')\r\n            : this.t('project.test.toggle.hide', 'Esconder');\r\n        toggle.textContent = `${title}  ${actionText}`;\r\n        container.classList.toggle('is-collapsed', collapsed);\r\n\r\n        const settings = this.gameEngine?.getTestSettings?.() || { startLevel: 1, skills: [], godMode: false };\r\n        const maxLevel = this.gameEngine?.getMaxPlayerLevel?.() ?? 1;\r\n\r\n        const hint = container.querySelector('.project-test__hint');\r\n        if (hint) {\r\n            hint.textContent = this.t(\r\n                'project.test.hint',\r\n                'Apenas para testar: estas opes no vo para a URL.'\r\n            );\r\n        }\r\n\r\n        if (startLevelSelect) {\r\n            startLevelSelect.innerHTML = '';\r\n            for (let lvl = 1; lvl <= maxLevel; lvl++) {\r\n                const option = document.createElement('option');\r\n                option.value = String(lvl);\r\n                option.textContent = this.tf(\r\n                    'project.test.levelOption',\r\n                    { value: lvl },\r\n                    `Nvel ${lvl}`\r\n                );\r\n                if (lvl === settings.startLevel) {\r\n                    option.selected = true;\r\n                }\r\n                startLevelSelect.appendChild(option);\r\n            }\r\n        }\r\n\r\n        if (godModeInput) {\r\n            godModeInput.checked = Boolean(settings.godMode);\r\n        }\r\n\r\n        if (skillList) {\r\n            skillList.innerHTML = '';\r\n            const skills = SkillDefinitions.getAll?.() || [];\r\n            const selected = new Set(Array.isArray(settings.skills) ? settings.skills : []);\r\n\r\n            if (!skills.length) {\r\n                const empty = document.createElement('div');\r\n                empty.className = 'project-test__skill';\r\n                empty.textContent = this.t('variables.none', 'Nenhuma');\r\n                skillList.appendChild(empty);\r\n                return;\r\n            }\r\n\r\n            skills.forEach((skill) => {\r\n                const wrapper = document.createElement('label');\r\n                wrapper.className = 'project-test__skill';\r\n\r\n                const checkbox = document.createElement('input');\r\n                checkbox.type = 'checkbox';\r\n                checkbox.dataset.skillId = skill.id;\r\n                checkbox.checked = selected.has(skill.id);\r\n\r\n                const label = document.createElement('div');\r\n                label.className = 'project-test__skill-label';\r\n                const icon = document.createElement('span');\r\n                icon.className = 'project-test__skill-icon';\r\n                icon.textContent = skill.icon || '';\r\n                const name = document.createElement('span');\r\n                name.textContent = skill.nameKey\r\n                    ? this.t(skill.nameKey, skill.name || skill.id || '')\r\n                    : (skill.name || skill.id || '');\r\n\r\n                label.append(icon, name);\r\n                wrapper.append(checkbox, label);\r\n                skillList.appendChild(wrapper);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport { EditorRenderService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorShareService.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":7,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":7,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":17,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":17,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":18,"column":20,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":18,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":20,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":20,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":28,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":28,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":28,"column":26,"nodeType":"MemberExpression","messageId":"errorCall","endLine":28,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":28,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":28,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":39,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":39,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dom on a type that cannot be resolved.","line":39,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":39,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":41,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":41,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on a type that cannot be resolved.","line":41,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string | undefined`.","line":54,"column":24,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":54,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":68,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":68,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":69,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":69,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `Record<string, unknown> | null`.","line":71,"column":41,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":71,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":71,"column":51,"nodeType":"Property","messageId":"anyAssignment","endLine":71,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .trackShareUrl on a type that cannot be resolved.","line":75,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":75,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":76,"column":59,"nodeType":"Property","messageId":"anyAssignment","endLine":76,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":77,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":77,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":77,"column":26,"nodeType":"MemberExpression","messageId":"errorCall","endLine":77,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .trackShareUrl on a type that cannot be resolved.","line":77,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":77,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":83,"column":29,"nodeType":"MemberExpression","messageId":"errorCall","endLine":83,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":83,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":97,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":97,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":97,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":97,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":102,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":102,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":103,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":103,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .restore on a type that cannot be resolved.","line":103,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":104,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":104,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":104,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":104,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `Blob`.","line":109,"column":27,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":109,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .target on an `any` value.","line":110,"column":12,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":110,"endColumn":18}],"suppressedMessages":[],"errorCount":32,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { FirebaseShareTracker } from '../../runtime/infra/share/FirebaseShareTracker';\r\nimport { ShareUtils } from '../../runtime/infra/share/ShareUtils';\r\nimport { TextResources } from '../../runtime/adapters/TextResources';\r\nclass EditorShareService {\r\n    constructor(editorManager) {\r\n        this.manager = editorManager;\r\n        this.shareTracker = this.createShareTracker();\r\n    }\r\n\r\n    get text() {\r\n        return TextResources;\r\n    }\r\n\r\n    t(key, fallback = '') {\r\n        const resource = this.text;\r\n        const value = resource?.get?.(key, fallback);\r\n        if (value) return value;\r\n        if (fallback) return fallback;\r\n        return key || '';\r\n    }\r\n\r\n    async buildShareUrl() {\r\n        if (!ShareUtils?.buildShareUrl) {\r\n            alert(this.t('alerts.share.unavailable'));\r\n            return null;\r\n        }\r\n        const gameData = this.manager.gameEngine.exportGameData();\r\n        const url = ShareUtils.buildShareUrl(gameData);\r\n        try {\r\n            globalThis.history?.replaceState?.(null, '', url);\r\n        } catch {\r\n            /* ignore */\r\n        }\r\n        return url;\r\n    }\r\n\r\n    updateShareUrlField(url) {\r\n        const input = this.manager?.dom?.shareUrlInput;\r\n        if (!input) return;\r\n        input.value = url || '';\r\n    }\r\n\r\n    async generateShareableUrl() {\r\n        try {\r\n            const url = await this.buildShareUrl();\r\n            if (!url) return;\r\n            this.updateShareUrlField(url);\r\n\r\n            if (navigator.clipboard?.writeText) {\r\n                await navigator.clipboard.writeText(url);\r\n                alert(this.t('alerts.share.copied'));\r\n            } else {\r\n                prompt(this.t('alerts.share.copyPrompt'), url);\r\n            }\r\n\r\n            void this.trackShareUrl(url);\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(this.t('alerts.share.generateError'));\r\n        }\r\n    }\r\n\r\n    createShareTracker() {\r\n        if (FirebaseShareTracker.fromGlobal) {\r\n            return FirebaseShareTracker.fromGlobal();\r\n        }\r\n        const config = globalThis.TinyRPGFirebaseConfig ?? null;\r\n        const collection = globalThis.TinyRPGFirebaseCollection ?? null;\r\n        if (!config) return null;\r\n        return new FirebaseShareTracker(config, { collection });\r\n    }\r\n\r\n    async trackShareUrl(url) {\r\n        if (!this.shareTracker?.trackShareUrl) return;\r\n        console.info('[TinyRPG] Tracking share URL...', { url });\r\n        const ok = await this.shareTracker.trackShareUrl(url, { source: 'editor' });\r\n        console.info('[TinyRPG] Share URL tracking result:', ok ? 'ok' : 'failed');\r\n    }\r\n\r\n    saveGame() {\r\n        const blob = new Blob(\r\n            [JSON.stringify(this.manager.gameEngine.exportGameData(), null, 2)],\r\n            { type: 'application/json' }\r\n        );\r\n        const url = URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = 'tiny-rpg-maker.json';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        link.remove();\r\n        URL.revokeObjectURL(url);\r\n    }\r\n\r\n    loadGameFile(ev) {\r\n        const file = ev.target?.files?.[0];\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n            try {\r\n                const data = JSON.parse(reader.result);\r\n                this.manager.restore(data, { skipHistory: true });\r\n                this.manager.history.pushCurrentState();\r\n            } catch {\r\n                alert(this.t('alerts.share.loadError'));\r\n            }\r\n        };\r\n        reader.readAsText(file);\r\n        ev.target.value = '';\r\n    }\r\n}\r\n\r\nexport { EditorShareService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorTileService.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":8,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":8,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .domCache on a type that cannot be resolved.","line":8,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":8,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":12,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":12,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":12,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":12,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":16,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":16,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":16,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":16,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":18,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":18,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .preventDefault on an `any` value.","line":18,"column":12,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":18,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPainting on a type that cannot be resolved.","line":19,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":19,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pointerId on an `any` value.","line":20,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":20,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setPointerCapture on a type that cannot be resolved.","line":20,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":20,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":21,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":21,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setPointerCapture on a type that cannot be resolved.","line":21,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":21,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pointerId on an `any` value.","line":21,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":21,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPainting on a type that cannot be resolved.","line":27,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":27,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPainting on a type that cannot be resolved.","line":32,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":32,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPainting on a type that cannot be resolved.","line":33,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":33,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":34,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":34,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":34,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pointerId on an `any` value.","line":35,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":35,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":35,"column":44,"nodeType":"MemberExpression","messageId":"errorCall","endLine":35,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hasPointerCapture on a type that cannot be resolved.","line":35,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pointerId on an `any` value.","line":35,"column":75,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":35,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":36,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":36,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .releasePointerCapture on a type that cannot be resolved.","line":36,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pointerId on an `any` value.","line":36,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":36,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skipMapHistory on a type that cannot be resolved.","line":38,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":38,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skipMapHistory on a type that cannot be resolved.","line":39,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":39,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":42,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":42,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":42,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":42,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":43,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":43,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":43,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":43,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":44,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":44,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on a type that cannot be resolved.","line":44,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":45,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":45,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on a type that cannot be resolved.","line":45,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":45,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":51,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":51,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on a type that cannot be resolved.","line":51,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":51,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on a type that cannot be resolved.","line":53,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":54,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":54,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on a type that cannot be resolved.","line":54,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":54,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skipMapHistory on a type that cannot be resolved.","line":55,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on a type that cannot be resolved.","line":58,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":59,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":59,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyService on a type that cannot be resolved.","line":59,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skipMapHistory on a type that cannot be resolved.","line":60,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":63,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":63,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":64,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":64,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectService on a type that cannot be resolved.","line":64,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingObjectType on a type that cannot be resolved.","line":64,"column":65,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skipMapHistory on a type that cannot be resolved.","line":65,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":69,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":69,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":70,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":70,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":70,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":70,"column":73,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":71,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":71,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":71,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":71,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":72,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":72,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on a type that cannot be resolved.","line":72,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":72,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":76,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":76,"column":79,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on a type that cannot be resolved.","line":78,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":78,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":80,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":80,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":80,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":81,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":81,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderService on a type that cannot be resolved.","line":81,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":87,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":87,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on a type that cannot be resolved.","line":87,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":89,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":89,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":89,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":89,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getBoundingClientRect on a type that cannot be resolved.","line":89,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":89,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on a type that cannot be resolved.","line":90,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":90,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .height on a type that cannot be resolved.","line":90,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":90,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clientX on an `any` value.","line":91,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":91,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .left on a type that cannot be resolved.","line":91,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":91,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on a type that cannot be resolved.","line":91,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":91,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clientY on an `any` value.","line":92,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":92,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .top on a type that cannot be resolved.","line":92,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":92,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .height on a type that cannot be resolved.","line":92,"column":53,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":92,"endColumn":59}],"suppressedMessages":[],"errorCount":81,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass EditorTileService {\n    constructor(editorManager) {\n        this.manager = editorManager;\n    }\n\n    get dom() {\n        return this.manager.domCache;\n    }\n\n    get state() {\n        return this.manager.state;\n    }\n\n    startPaint(ev) {\n        const canvas = this.dom.editorCanvas;\n        if (!canvas) return;\n        ev.preventDefault();\n        this.state.mapPainting = true;\n        if (ev.pointerId !== undefined && canvas.setPointerCapture) {\n            canvas.setPointerCapture(ev.pointerId);\n        }\n        this.applyPaint(ev);\n    }\n\n    continuePaint(ev) {\n        if (!this.state.mapPainting) return;\n        this.applyPaint(ev);\n    }\n\n    finishPaint(ev) {\n        if (!this.state.mapPainting) return;\n        this.state.mapPainting = false;\n        const canvas = this.dom.editorCanvas;\n        if (ev?.pointerId !== undefined && canvas?.hasPointerCapture?.(ev.pointerId)) {\n            canvas.releasePointerCapture(ev.pointerId);\n        }\n        if (this.state.skipMapHistory) {\n            this.state.skipMapHistory = false;\n            return;\n        }\n        this.manager.renderService.renderEditor();\n        this.manager.gameEngine.draw();\n        this.manager.updateJSON();\n        this.manager.history.pushCurrentState();\n    }\n\n    applyPaint(ev) {\n        const coord = this.getTileFromEvent(ev);\n        if (!coord) return;\n        const roomIndex = this.state.activeRoomIndex;\n\n        if (this.state.placingNpc) {\n            this.manager.npcService.placeNpcAt(coord);\n            this.state.skipMapHistory = true;\n            return;\n        }\n        if (this.state.placingEnemy) {\n            this.manager.enemyService.placeEnemyAt(coord);\n            this.state.skipMapHistory = true;\n            return;\n        }\n        if (this.state.placingObjectType) {\n            this.manager.objectService.placeObjectAt(this.state.placingObjectType, coord, roomIndex);\n            this.state.skipMapHistory = true;\n            return;\n        }\n\n        if (this.state.selectedTileId === null || this.state.selectedTileId === undefined) return;\n        this.manager.gameEngine.setMapTile(coord.x, coord.y, this.state.selectedTileId, roomIndex);\n        this.manager.renderService.renderEditor();\n        this.manager.gameEngine.draw();\n    }\n\n    clearSelection({ render = true } = {}) {\n        const hadSelection = this.state.selectedTileId !== null && this.state.selectedTileId !== undefined;\n        if (!hadSelection) return false;\n        this.state.selectedTileId = null;\n        if (render) {\n            this.manager.renderService.renderTileList();\n            this.manager.renderService.updateSelectedTilePreview();\n        }\n        return true;\n    }\n\n    getTileFromEvent(ev) {\n        const canvas = this.dom.editorCanvas;\n        if (!canvas) return null;\n        const rect = canvas.getBoundingClientRect();\n        if (!rect.width || !rect.height) return null;\n        const relX = (ev.clientX - rect.left) / rect.width;\n        const relY = (ev.clientY - rect.top) / rect.height;\n        if (relX < 0 || relX > 1 || relY < 0 || relY > 1) return null;\n        return {\n            x: Math.min(7, Math.floor(relX * 8)),\n            y: Math.min(7, Math.floor(relY * 8))\n        };\n    }\n}\n\nexport { EditorTileService };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorVariableService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[51,54],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[51,54],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[73,76],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[73,76],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":20,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":20,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":24,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":24,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setVariableDefault on an `any` value.","line":28,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":28,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":29,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":29,"endColumn":116},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":29,"column":25,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":29,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":29,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":29,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getVariableDefinitions on an `any` value.","line":29,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on an `any` value.","line":29,"column":76,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":29,"column":98,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":30,"column":89,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":30,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":31,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":31,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":31,"column":25,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":31,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setVariableDefault on an `any` value.","line":31,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":31,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":35,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":35,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .draw on an `any` value.","line":35,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":35,"endColumn":29}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\ntype EditorVariableManagerApi = {\r\n    domCache: any;\r\n    gameEngine: any;\r\n    renderService: { renderObjects: () => void };\r\n    npcService: { updateNpcSelection: (type: unknown, id: unknown) => void };\r\n    state: { selectedNpcType: unknown; selectedNpcId: unknown };\r\n    updateJSON: () => void;\r\n    history: { pushCurrentState: () => void };\r\n};\r\n\r\nclass EditorVariableService {\r\n    manager: EditorVariableManagerApi;\r\n\r\n    constructor(editorManager: EditorVariableManagerApi) {\r\n        this.manager = editorManager;\r\n    }\r\n\r\n    get dom() {\r\n        return this.manager.domCache;\r\n    }\r\n\r\n    get gameEngine() {\r\n        return this.manager.gameEngine;\r\n    }\r\n\r\n    toggle(variableId: string, nextValue: boolean | null = null) {\r\n        if (!variableId || !this.gameEngine.setVariableDefault) return;\r\n        const current = (this.gameEngine.getVariableDefinitions?.() ?? []).find((entry) => entry.id === variableId);\r\n        const targetValue = nextValue !== null ? Boolean(nextValue) : !Boolean(current?.value);\r\n        const changed = this.gameEngine.setVariableDefault(variableId, targetValue);\r\n        if (!changed) return;\r\n        this.manager.renderService.renderObjects();\r\n        this.manager.npcService.updateNpcSelection(this.manager.state.selectedNpcType, this.manager.state.selectedNpcId);\r\n        this.gameEngine.draw();\r\n        this.manager.updateJSON();\r\n        this.manager.history.pushCurrentState();\r\n    }\r\n}\r\n\r\nexport { EditorVariableService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\EditorWorldService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[43,46],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[43,46],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[60,63],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[60,63],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82,85],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82,85],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":25,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":25,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":29,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":29,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":33,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":33,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":39,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":39,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":39,"column":28,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":39,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on an `any` value.","line":39,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":39,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on an `any` value.","line":39,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":39,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":41,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingNpc on an `any` value.","line":43,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on an `any` value.","line":43,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on an `any` value.","line":43,"column":77,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placingEnemy on an `any` value.","line":46,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":46,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":49,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":60,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":60,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":60,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":60,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on an `any` value.","line":60,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":60,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":61,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":61,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":62,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":62,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":63,"column":40,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":63,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on an `any` value.","line":63,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":63,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":66,"column":67,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":66,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":66,"column":78,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":66,"endColumn":93}],"suppressedMessages":[],"errorCount":25,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\ntype EditorManagerApi = {\r\n    domCache: any;\r\n    state: any;\r\n    gameEngine: any;\r\n    npcService: { clearSelection: () => void };\r\n    enemyService: { deactivatePlacement: () => void };\r\n    renderService: {\r\n        renderWorldGrid: () => void;\r\n        renderObjects: () => void;\r\n        renderEditor: () => void;\r\n        renderEnemies: () => void;\r\n    };\r\n    renderObjectCatalog: () => void;\r\n};\r\n\r\nclass EditorWorldService {\r\n    manager: EditorManagerApi;\r\n\r\n    constructor(editorManager: EditorManagerApi) {\r\n        this.manager = editorManager;\r\n    }\r\n\r\n    get dom() {\r\n        return this.manager.domCache;\r\n    }\r\n\r\n    get state() {\r\n        return this.manager.state;\r\n    }\r\n\r\n    get gameEngine() {\r\n        return this.manager.gameEngine;\r\n    }\r\n\r\n    setActiveRoom(index: number | string) {\r\n        const target = Number(index);\r\n        if (!Number.isFinite(target)) return;\r\n        const totalRooms = this.gameEngine.getGame().rooms?.length || 1;\r\n        const clamped = Math.max(0, Math.min(totalRooms - 1, Math.floor(target)));\r\n        if (clamped === this.state.activeRoomIndex) return;\r\n\r\n        if (this.state.placingNpc || this.state.selectedNpcId || this.state.selectedNpcType) {\r\n            this.manager.npcService.clearSelection();\r\n        }\r\n        if (this.state.placingEnemy) {\r\n            this.manager.enemyService.deactivatePlacement();\r\n        }\r\n        this.state.activeRoomIndex = clamped;\r\n        this.manager.renderService.renderWorldGrid();\r\n        this.manager.renderService.renderObjects();\r\n        this.manager.renderObjectCatalog();\r\n        this.manager.renderService.renderEditor();\r\n        this.manager.renderService.renderEnemies();\r\n    }\r\n\r\n    moveActiveRoom(direction: string | null | undefined) {\r\n        if (!direction) return;\r\n        const normalized = String(direction).toLowerCase();\r\n        const game = this.gameEngine.getGame();\r\n        const rows = Math.max(1, Number(game.world?.rows) || 1);\r\n        const cols = Math.max(1, Number(game.world?.cols) || 1);\r\n        const totalRooms = Math.max(1, game.rooms?.length || rows * cols);\r\n        if (!rows || !cols || !totalRooms) return;\r\n\r\n        const currentIndex = Math.max(0, Math.min(totalRooms - 1, this.state.activeRoomIndex ?? 0));\r\n        const currentRow = Math.floor(currentIndex / cols);\r\n        const currentCol = currentIndex % cols;\r\n        let targetRow = currentRow;\r\n        let targetCol = currentCol;\r\n\r\n        if (normalized === 'up') targetRow -= 1;\r\n        if (normalized === 'down') targetRow += 1;\r\n        if (normalized === 'left') targetCol -= 1;\r\n        if (normalized === 'right') targetCol += 1;\r\n\r\n        if (targetRow < 0 || targetRow >= rows || targetCol < 0 || targetCol >= cols) {\r\n            return;\r\n        }\r\n\r\n        const targetIndex = targetRow * cols + targetCol;\r\n        if (targetIndex < 0 || targetIndex >= totalRooms) {\r\n            return;\r\n        }\r\n\r\n        this.setActiveRoom(targetIndex);\r\n    }\r\n}\r\n\r\nexport { EditorWorldService };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\renderers\\EditorCanvasRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":10,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":10,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ectx on an `any` value.","line":10,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":10,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":11,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":11,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on an `any` value.","line":11,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":11,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":14,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":14,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clearRect on an `any` value.","line":14,"column":13,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":14,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on an `any` value.","line":14,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":14,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .height on an `any` value.","line":14,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":14,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on an `any` value.","line":16,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":16,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":17,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":17,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":17,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":17,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":18,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":18,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":18,"column":25,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":18,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTileMap on an `any` value.","line":18,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":18,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":19,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":19,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ground on an `any` value.","line":19,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":19,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":20,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":20,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .overlay on an `any` value.","line":20,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":20,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":24,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":24,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on an `any` value.","line":24,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":24,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `CanvasRenderingContext2D`.","line":26,"column":35,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":26,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | number`.","line":26,"column":40,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":26,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .fillStyle on an `any` value.","line":28,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":28,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":29,"column":21,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":29,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .fillRect on an `any` value.","line":29,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":32,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":32,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on an `any` value.","line":32,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":32,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `CanvasRenderingContext2D`.","line":34,"column":35,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":34,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | number`.","line":34,"column":40,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":34,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .strokeStyle on an `any` value.","line":39,"column":13,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":39,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":41,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":41,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .beginPath on an `any` value.","line":41,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":42,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":42,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .moveTo on an `any` value.","line":42,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":42,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":43,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":43,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lineTo on an `any` value.","line":43,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .height on an `any` value.","line":43,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":44,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":44,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .stroke on an `any` value.","line":44,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":44,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":47,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":47,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .beginPath on an `any` value.","line":47,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":47,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":48,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":48,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .moveTo on an `any` value.","line":48,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":48,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":49,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":49,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lineTo on an `any` value.","line":49,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on an `any` value.","line":49,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":50,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":50,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .stroke on an `any` value.","line":50,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":50,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":57,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":57,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ectx on an `any` value.","line":57,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":57,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":58,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":58,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":58,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":58,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":61,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":61,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getObjectsForRoom on an `any` value.","line":61,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":61,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":64,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":64,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":64,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":73,"column":23,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":73,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on an `any` value.","line":73,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":73,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":77,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":78,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":77,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":77,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":78,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":78,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":79,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":79,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":79,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":79,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":88,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":88,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getActiveEnemies on an `any` value.","line":88,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":88,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":91,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":91,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":91,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":91,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":92,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":92,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemySprites on an `any` value.","line":92,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":92,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":94,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":94,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [enemy.type] on an `any` value.","line":94,"column":41,"nodeType":"MemberExpression","messageId":"unsafeMemberExpression","endLine":94,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemySprite on an `any` value.","line":94,"column":65,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":94,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":96,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":96,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .drawSprite on an `any` value.","line":96,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":96,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":107,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":107,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameEngine on an `any` value.","line":107,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":107,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":108,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":108,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":108,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":108,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTile on an `any` value.","line":108,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":108,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":110,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":110,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":110,"column":24,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":110,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTilePixels on an `any` value.","line":110,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":110,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":115,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":115,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [x] on an `any` value.","line":115,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":115,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":117,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":117,"endColumn":36}],"suppressedMessages":[],"errorCount":85,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EditorRendererBase } from './EditorRendererBase';\r\n\r\ntype CanvasObject = { type: string; roomIndex: number; x: number; y: number };\r\ntype CanvasNpc = { type: string; roomIndex: number; x: number; y: number; placed?: boolean };\r\ntype CanvasEnemy = { type: string; roomIndex: number; x: number; y: number; id?: string };\r\n\r\nclass EditorCanvasRenderer extends EditorRendererBase {\r\n    renderEditor(): void {\r\n        const ctx = this.manager.ectx;\r\n        const canvas = this.dom.editorCanvas;\r\n        if (!ctx || !canvas) return;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        const tileSize = Math.floor(canvas.width / 8);\r\n        const roomIndex = this.state.activeRoomIndex;\r\n        const tileMap = this.gameEngine.getTileMap(roomIndex);\r\n        const ground = tileMap?.ground || [];\r\n        const overlay = tileMap?.overlay || [];\r\n\r\n        for (let y = 0; y < 8; y++) {\r\n            for (let x = 0; x < 8; x++) {\r\n                const groundId = ground[y]?.[x];\r\n                if (groundId !== null && groundId !== undefined) {\r\n                    this.drawTile(ctx, groundId, x * tileSize, y * tileSize, tileSize);\r\n                } else {\r\n                    ctx.fillStyle = '#141414';\r\n                    ctx.fillRect(x * tileSize, y * tileSize, tileSize, tileSize);\r\n                }\r\n\r\n                const overlayId = overlay[y]?.[x];\r\n                if (overlayId !== null && overlayId !== undefined) {\r\n                    this.drawTile(ctx, overlayId, x * tileSize, y * tileSize, tileSize);\r\n                }\r\n            }\r\n        }\r\n\r\n        ctx.strokeStyle = 'rgba(255,255,255,0.1)';\r\n        for (let x = 0; x <= 8; x++) {\r\n            ctx.beginPath();\r\n            ctx.moveTo(x * tileSize, 0);\r\n            ctx.lineTo(x * tileSize, canvas.height);\r\n            ctx.stroke();\r\n        }\r\n        for (let y = 0; y <= 8; y++) {\r\n            ctx.beginPath();\r\n            ctx.moveTo(0, y * tileSize);\r\n            ctx.lineTo(canvas.width, y * tileSize);\r\n            ctx.stroke();\r\n        }\r\n\r\n        this.drawEntities(tileSize);\r\n    }\r\n\r\n    drawEntities(tileSize: number): void {\r\n        const ctx = this.manager.ectx;\r\n        const roomIndex = this.state.activeRoomIndex;\r\n        const step = tileSize / 8;\r\n\r\n        const objects = (this.gameEngine.getObjectsForRoom(roomIndex) ||\r\n            []) as CanvasObject[];\r\n        for (const object of objects) {\r\n            this.gameEngine.renderer.drawObjectSprite(\r\n                ctx,\r\n                object.type,\r\n                object.x * tileSize,\r\n                object.y * tileSize,\r\n                step\r\n            );\r\n        }\r\n\r\n        const npcs = (this.gameEngine.getSprites() as CanvasNpc[]).filter(\r\n            (npc: CanvasNpc) => npc.roomIndex === roomIndex && npc.placed,\r\n        );\r\n        for (const npc of npcs) {\r\n            const sprite = this.gameEngine.renderer.npcSprites[npc.type] ||\r\n                this.gameEngine.renderer.npcSprites.default;\r\n            this.gameEngine.renderer.drawSprite(\r\n                ctx,\r\n                sprite,\r\n                npc.x * tileSize,\r\n                npc.y * tileSize,\r\n                step\r\n            );\r\n        }\r\n\r\n        const enemies = (this.gameEngine.getActiveEnemies() as CanvasEnemy[]).filter(\r\n            (enemy: CanvasEnemy) => enemy.roomIndex === roomIndex,\r\n        );\r\n        const renderer = this.gameEngine.renderer;\r\n        const enemySprites = renderer.enemySprites || {};\r\n        for (const enemy of enemies) {\r\n            const sprite = enemySprites[enemy.type] || renderer.enemySprite;\r\n            if (!sprite) continue;\r\n            renderer.drawSprite(\r\n                ctx,\r\n                sprite,\r\n                enemy.x * tileSize,\r\n                enemy.y * tileSize,\r\n                step\r\n            );\r\n        }\r\n    }\r\n\r\n    drawTile(ctx: CanvasRenderingContext2D, tileId: string | number, px: number, py: number, size: number): void {\r\n        const tileManager = this.manager.gameEngine.tileManager;\r\n        const tile = tileManager.getTile(tileId);\r\n        if (!tile) return;\r\n        const pixels = tileManager.getTilePixels(tile);\r\n        if (!Array.isArray(pixels)) return;\r\n        const step = Math.max(1, Math.floor(size / 8));\r\n        for (let y = 0; y < 8; y++) {\r\n            for (let x = 0; x < 8; x++) {\r\n                const col = pixels[y]?.[x];\r\n                if (!col || col === 'transparent') continue;\r\n                ctx.fillStyle = col;\r\n                ctx.fillRect(px + x * step, py + y * step, step, step);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport { EditorCanvasRenderer };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\renderers\\EditorEnemyRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[242,245],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[242,245],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":9,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemiesList on an `any` value.","line":9,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":9,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":11,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":11,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":13,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":13,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":13,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":13,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":14,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":15,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getActiveEnemies on an `any` value.","line":15,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":15,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":17,"column":42,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":17,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":23,"column":31,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":23,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":29,"column":81,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":29,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":33,"column":50,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":33,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":38,"column":70,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":38,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":50,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":50,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":51,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":51,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on an `any` value.","line":51,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":51,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":60,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":60,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":68,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":68,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":68,"column":18,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":73,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":73,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyTypes on an `any` value.","line":73,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":73,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":75,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":75,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":80,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":80,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedEnemyType on an `any` value.","line":80,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":80,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `HTMLElement | null`.","line":82,"column":39,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":82,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .parentElement on an `any` value.","line":82,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":82,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `HTMLElement | null`.","line":82,"column":77,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":82,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":87,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":87,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":106,"column":69,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":106,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":110,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":110,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":122,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":122,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":122,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":122,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":133,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":133,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":133,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":133,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":134,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":134,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemySprites on an `any` value.","line":134,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":134,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [definition.type] resolves to an `any` value.","line":134,"column":47,"nodeType":"MemberExpression","messageId":"unsafeComputedMemberAccess","endLine":134,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemySprite on an `any` value.","line":135,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":135,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":136,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":136,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemySprite on an `any` value.","line":136,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":136,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .spriteFactory on an `any` value.","line":139,"column":70,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":139,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":140,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":140,"endColumn":109},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":140,"column":29,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":140,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .paletteManager on an `any` value.","line":140,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":140,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":141,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":141,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":141,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":141,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .spriteFactory on an `any` value.","line":141,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":141,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":147,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":147,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":150,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":150,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":152,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":152,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":160,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":160,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":161,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":163,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":162,"column":22,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":162,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":162,"column":42,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":162,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":164,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":167,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":164,"column":25,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":167,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":164,"column":25,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":166,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":164,"column":25,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":165,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on an `any` value.","line":165,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":165,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on an `any` value.","line":166,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":166,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .trim on an `any` value.","line":167,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":167,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":168,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":168,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":215,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":215,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getActiveEnemies on an `any` value.","line":215,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":215,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":218,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":220,"endColumn":15},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":219,"column":34,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":219,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on an `any` value.","line":219,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":219,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":219,"column":65,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":219,"endColumn":99},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameState on an `any` value.","line":219,"column":81,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":219,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":221,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":221,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":222,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":222,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":233,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":233,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .editorCanvas on an `any` value.","line":233,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":233,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":235,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":235,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .parentElement on an `any` value.","line":235,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":235,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":242,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":242,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":242,"column":23,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":242,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .querySelector on an `any` value.","line":242,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":242,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":245,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":245,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":246,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":246,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .remove on an `any` value.","line":246,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":246,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .className on an `any` value.","line":253,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":253,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":254,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":254,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":254,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":254,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":257,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":257,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameState on an `any` value.","line":257,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":257,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":258,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":258,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .offsetWidth on an `any` value.","line":258,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":258,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clientWidth on an `any` value.","line":258,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":258,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .width on an `any` value.","line":258,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":258,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":259,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":259,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .offsetHeight on an `any` value.","line":259,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":259,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clientHeight on an `any` value.","line":259,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":259,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .height on an `any` value.","line":259,"column":77,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":259,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .style on an `any` value.","line":263,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":263,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .style on an `any` value.","line":264,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":264,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .style on an `any` value.","line":265,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":265,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .offsetLeft on an `any` value.","line":265,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":265,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .style on an `any` value.","line":266,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":266,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .offsetTop on an `any` value.","line":266,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":266,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":268,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":268,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":279,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":279,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyService on an `any` value.","line":279,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":279,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":281,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":281,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":281,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":281,"endColumn":32}],"suppressedMessages":[],"errorCount":105,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EditorConstants } from '../EditorConstants';\r\nimport { RendererConstants } from '../../../runtime/adapters/renderer/RendererConstants';\r\nimport { EditorRendererBase } from './EditorRendererBase';\r\ntype EnemyRecord = Record<string, any>;\r\n\r\nclass EditorEnemyRenderer extends EditorRendererBase {\r\n    renderEnemies(): void {\r\n        const list = this.dom.enemiesList;\r\n        if (!list) return;\r\n        list.innerHTML = '';\r\n\r\n        const activeRoom = this.state.activeRoomIndex;\r\n        const enemies = (this.gameEngine\r\n            .getActiveEnemies() as EnemyRecord[])\r\n            .filter((enemy: EnemyRecord) => enemy.roomIndex === activeRoom);\r\n        this.renderEnemyOverlay(enemies, activeRoom);\r\n        if (!enemies.length) return;\r\n\r\n        const definitions = EditorConstants.ENEMY_DEFINITIONS as EnemyRecord[];\r\n        const definitionMap = new Map<string, EnemyRecord>();\r\n        definitions.forEach((entry: EnemyRecord) => {\r\n            definitionMap.set(entry.type, entry);\r\n            if (Array.isArray(entry.aliases)) {\r\n                entry.aliases.forEach((alias: string) => definitionMap.set(alias, entry));\r\n            }\r\n        });\r\n\r\n        const bosses = enemies.filter((enemy: EnemyRecord) => definitionMap.get(enemy.type)?.boss);\r\n        if (!bosses.length) return;\r\n\r\n        bosses.forEach((enemy: EnemyRecord) => {\r\n            const definition = definitionMap.get(enemy.type) ?? null;\r\n            const item = document.createElement('div');\r\n            item.className = 'enemy-item';\r\n\r\n            const label = document.createElement('span');\r\n            const displayName = this.getEnemyDisplayName(definition, enemy.type);\r\n            const damageInfo = Number.isFinite(definition?.damage)\r\n                ? this.tf('enemies.damageInfo', { value: definition.damage })\r\n                : '';\r\n            label.textContent = `${displayName} @ (${enemy.x}, ${enemy.y})${damageInfo}`;\r\n\r\n            const variableWrapper = document.createElement('label');\r\n            variableWrapper.className = 'enemy-variable-wrapper';\r\n            variableWrapper.textContent = `${this.t('enemies.variableLabel')} `;\r\n\r\n            const variableSelect = document.createElement('select');\r\n            variableSelect.className = 'enemy-variable-select';\r\n            variableSelect.dataset.enemyVariable = enemy.id;\r\n            this.manager.npcService.populateVariableSelect(\r\n                variableSelect,\r\n                enemy.defeatVariableId || ''\r\n            );\r\n            variableWrapper.appendChild(variableSelect);\r\n\r\n            const removeBtn = document.createElement('button');\r\n            removeBtn.type = 'button';\r\n            removeBtn.className = 'enemy-remove';\r\n            removeBtn.dataset.removeEnemy = enemy.id;\r\n            removeBtn.textContent = this.t('buttons.remove');\r\n\r\n            const controls = document.createElement('div');\r\n            controls.className = 'enemy-controls';\r\n            controls.append(variableWrapper, removeBtn);\r\n\r\n            item.append(label, controls);\r\n            list.appendChild(item);\r\n        });\r\n    }\r\n\r\n    renderEnemyCatalog(): void {\r\n        const container = this.dom.enemyTypes;\r\n        if (!container) return;\r\n        container.innerHTML = '';\r\n\r\n        const definitions = EditorConstants.ENEMY_DEFINITIONS as EnemyRecord[];\r\n        if (!definitions.length) return;\r\n\r\n        const selectedType = this.manager.selectedEnemyType;\r\n\r\n        this.renderEnemyCountProgress(container.parentElement || container, container);\r\n\r\n        definitions.forEach((definition: EnemyRecord) => {\r\n            const card = document.createElement('div');\r\n            card.className = 'enemy-card';\r\n            card.dataset.type = definition.type;\r\n            if (definition.boss) {\r\n                card.classList.add('boss');\r\n            }\r\n            if (definition.type === selectedType) {\r\n                card.classList.add('selected');\r\n            }\r\n\r\n            const preview = document.createElement('canvas');\r\n            preview.className = 'enemy-preview';\r\n            preview.width = 48;\r\n            preview.height = 48;\r\n            this.drawEnemyPreview(preview, definition);\r\n\r\n            const meta = document.createElement('div');\r\n            meta.className = 'enemy-meta';\r\n\r\n            const name = document.createElement('div');\r\n            name.className = 'enemy-name';\r\n            name.textContent = this.getEnemyDisplayName(definition, definition.type);\r\n\r\n            const damage = document.createElement('div');\r\n            damage.className = 'enemy-damage';\r\n            const damageValue = Number.isFinite(definition.damage) ? definition.damage : '?';\r\n            damage.textContent = `Dano: ${damageValue}`;\r\n\r\n            if (definition.boss) {\r\n                const badge = document.createElement('span');\r\n                badge.className = 'enemy-boss-badge';\r\n                badge.textContent = 'Boss';\r\n                meta.appendChild(badge);\r\n            }\r\n\r\n            meta.append(name, damage);\r\n            card.append(preview, meta);\r\n            container.appendChild(card);\r\n        });\r\n    }\r\n\r\n    drawEnemyPreview(canvas: HTMLCanvasElement, definition: EnemyRecord): void {\r\n        if (!(canvas instanceof HTMLCanvasElement)) return;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.imageSmoothingEnabled = false;\r\n\r\n        const renderer = this.gameEngine.renderer;\r\n        let sprite = renderer?.enemySprites?.[definition.type] ?? null;\r\n        if (!sprite && renderer?.enemySprite) {\r\n            sprite = renderer.enemySprite;\r\n        }\r\n\r\n        if (!sprite && Array.isArray(definition.sprite) && renderer?.spriteFactory?.mapPixels) {\r\n            const palette = renderer.paletteManager?.getPicoPalette?.() || RendererConstants.DEFAULT_PALETTE;\r\n            sprite = renderer.spriteFactory.mapPixels(definition.sprite, palette);\r\n        }\r\n\r\n        if (!Array.isArray(sprite)) return;\r\n        const step = canvas.width / 8;\r\n        for (let y = 0; y < sprite.length; y++) {\r\n            const row = sprite[y];\r\n            if (!Array.isArray(row)) continue;\r\n            for (let x = 0; x < row.length; x++) {\r\n                const color = row[x];\r\n                if (!color) continue;\r\n                ctx.fillStyle = color;\r\n                ctx.fillRect(x * step, y * step, step, step);\r\n            }\r\n        }\r\n    }\r\n\r\n    getEnemyDisplayName(definition: EnemyRecord | null, fallback = ''): string {\r\n        const defaultName = this.t('enemy.defaultName', 'Inimigo');\r\n        const fallbackName = definition?.name || fallback || defaultName;\r\n        const localized = definition?.nameKey\r\n            ? this.t(definition.nameKey, fallbackName)\r\n            : fallbackName;\r\n        const cleaned = localized\r\n            .replace(/[^\\w\\s\\u00C0-\\u024F'()-]/g, ' ')\r\n            .replace(/\\s+/g, ' ')\r\n            .trim();\r\n        return cleaned || fallback || defaultName;\r\n    }\r\n\r\n    renderEnemyCountProgress(parent: HTMLElement | null, beforeNode: HTMLElement | null = null): void {\r\n        if (!parent) return;\r\n        parent.querySelector('.enemy-xp-block')?.remove();\r\n        const { currentCount, totalCount, ratio } = this.getEnemyCountProgress();\r\n\r\n        const block = document.createElement('div');\r\n        block.className = 'enemy-xp-block';\r\n\r\n        const header = document.createElement('div');\r\n        header.className = 'enemy-xp-header';\r\n\r\n        const label = document.createElement('div');\r\n        label.className = 'enemy-xp-label';\r\n        label.textContent = this.t('enemies.xpBarLabel', 'Inimigos colocados');\r\n\r\n        const value = document.createElement('div');\r\n        value.className = 'enemy-xp-value';\r\n        const valueText = this.tf(\r\n            'enemies.xpBarValue',\r\n            { current: currentCount, total: totalCount },\r\n            `${currentCount} / ${totalCount} inimigos`\r\n        );\r\n        value.textContent = valueText;\r\n\r\n        header.append(label, value);\r\n\r\n        const track = document.createElement('div');\r\n        track.className = 'enemy-xp-track';\r\n\r\n        const fill = document.createElement('div');\r\n        fill.className = 'enemy-xp-fill';\r\n        fill.style.width = `${Math.round(ratio * 100)}%`;\r\n\r\n        track.appendChild(fill);\r\n        block.append(header, track);\r\n\r\n        if (beforeNode && beforeNode.parentElement === parent) {\r\n            parent.insertBefore(block, beforeNode);\r\n        } else {\r\n            parent.appendChild(block);\r\n        }\r\n    }\r\n\r\n    getEnemyCountProgress(): { currentCount: number; totalCount: number; ratio: number } {\r\n        const enemies = (this.gameEngine?.getActiveEnemies?.() ?? []) as EnemyRecord[];\r\n        const currentCount = enemies.length;\r\n\r\n        const game =\r\n            (this.gameEngine && (this.gameEngine.getGame?.() || this.gameEngine.gameState?.getGame?.())) ||\r\n            {};\r\n        const rows = Number(game?.world?.rows) || 3;\r\n        const cols = Number(game?.world?.cols) || 3;\r\n        const totalRooms = Math.max(1, rows * cols);\r\n        const maxPerRoom = 6;\r\n        const totalCount = totalRooms * maxPerRoom;\r\n\r\n        const ratio = Math.max(0, Math.min(1, totalCount > 0 ? currentCount / totalCount : 0));\r\n\r\n        return { currentCount, totalCount, ratio };\r\n    }\r\n\r\n    renderEnemyOverlay(enemies: EnemyRecord[], roomIndex: number): void {\r\n        const canvas = this.dom.editorCanvas;\r\n        if (!canvas) return;\r\n        const wrapper = canvas.parentElement;\r\n        if (!wrapper) return;\r\n\r\n        const roomEnemies = Array.isArray(enemies)\r\n            ? enemies.filter((enemy: EnemyRecord) => enemy.roomIndex === roomIndex)\r\n            : [];\r\n\r\n        let overlay = wrapper.querySelector('.enemy-overlay');\r\n        if (!roomEnemies.length) {\r\n            if (overlay) {\r\n                overlay.innerHTML = '';\r\n                overlay.remove();\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (!overlay) {\r\n            overlay = document.createElement('div');\r\n            overlay.className = 'enemy-overlay';\r\n            wrapper.appendChild(overlay);\r\n        }\r\n\r\n        const roomSize = this.gameEngine?.gameState?.worldManager?.roomSize || 8;\r\n        const width = canvas.offsetWidth || canvas.clientWidth || canvas.width || 1;\r\n        const height = canvas.offsetHeight || canvas.clientHeight || canvas.height || 1;\r\n        const tileSizeX = width / roomSize;\r\n        const tileSizeY = height / roomSize;\r\n\r\n        overlay.style.width = `${width}px`;\r\n        overlay.style.height = `${height}px`;\r\n        overlay.style.left = `${canvas.offsetLeft}px`;\r\n        overlay.style.top = `${canvas.offsetTop}px`;\r\n\r\n        overlay.innerHTML = '';\r\n\r\n        roomEnemies.forEach((enemy: EnemyRecord) => {\r\n            const btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'enemy-overlay-remove';\r\n            btn.textContent = '';\r\n            btn.style.left = `${(enemy.x + 1) * tileSizeX}px`;\r\n            btn.style.top = `${enemy.y * tileSizeY}px`;\r\n            btn.addEventListener('click', (ev: MouseEvent) => {\r\n                ev.stopPropagation();\r\n                this.manager.enemyService.removeEnemy(enemy.id);\r\n            });\r\n            overlay.appendChild(btn);\r\n        });\r\n    }\r\n}\r\n\r\nexport { EditorEnemyRenderer };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\renderers\\EditorNpcRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":28,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":28,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcsList on an `any` value.","line":28,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":28,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":31,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":31,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on an `any` value.","line":31,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":31,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":33,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":33,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":33,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":33,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on an `any` value.","line":33,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":33,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":34,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":34,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on an `any` value.","line":34,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":34,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":35,"column":30,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":35,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcManager on an `any` value.","line":35,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":35,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":41,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":41,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on an `any` value.","line":41,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":43,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcType on an `any` value.","line":50,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":50,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":75,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":75,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":75,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":75,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":90,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":90,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":90,"column":18,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":90,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":103,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":103,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":103,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":103,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":104,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":104,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [definition.type] on an `any` value.","line":104,"column":35,"nodeType":"MemberExpression","messageId":"unsafeMemberExpression","endLine":104,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .default on an `any` value.","line":104,"column":66,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":104,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":107,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":107,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on an `any` value.","line":108,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":108,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":109,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":109,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on an `any` value.","line":109,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":109,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":111,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":111,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":118,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":118,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedNpcId on an `any` value.","line":118,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":118,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":119,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":119,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getSprites on an `any` value.","line":119,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":119,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":120,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":129,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hidden on an `any` value.","line":133,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":133,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .disabled on an `any` value.","line":137,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":137,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":138,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":138,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .disabled on an `any` value.","line":142,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":142,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":143,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":143,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":146,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":146,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on an `any` value.","line":146,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":146,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":147,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":147,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on an `any` value.","line":147,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":147,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":148,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":148,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on an `any` value.","line":148,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":148,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .disabled on an `any` value.","line":150,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":150,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .disabled on an `any` value.","line":151,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":151,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .disabled on an `any` value.","line":152,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":152,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":154,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":154,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .btnNpcDelete on an `any` value.","line":154,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":154,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .disabled on an `any` value.","line":156,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":156,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on an `any` value.","line":159,"column":47,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":159,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hidden on an `any` value.","line":161,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":161,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textContent on an `any` value.","line":164,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":164,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":167,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":167,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setAttribute on an `any` value.","line":167,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":167,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":189,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":189,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcVariantButtons on an `any` value.","line":189,"column":48,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":189,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcVariantButtons on an `any` value.","line":189,"column":78,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":189,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":190,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":190,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":191,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":191,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on an `any` value.","line":191,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":191,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":192,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":192,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on an `any` value.","line":192,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":192,"endColumn":24}],"suppressedMessages":[],"errorCount":64,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EditorRendererBase } from './EditorRendererBase';\r\n\r\ntype NpcDefinitionView = {\r\n    type: string;\r\n    variant?: string;\r\n    name?: string;\r\n    nameKey?: string;\r\n};\r\n\r\ntype EditorNpc = {\r\n    id?: string;\r\n    type: string;\r\n    roomIndex: number;\r\n    x: number;\r\n    y: number;\r\n    placed?: boolean;\r\n    text?: string;\r\n    textKey?: string;\r\n    conditionText?: string;\r\n    conditionVariableId?: string | null;\r\n    rewardVariableId?: string | null;\r\n    conditionalRewardVariableId?: string | null;\r\n};\r\n\r\nclass EditorNpcRenderer extends EditorRendererBase {\r\n    renderNpcs(): void {\r\n        const list = this.dom.npcsList;\r\n        if (!list) return;\r\n\r\n        this.gameEngine.npcManager?.ensureDefaultNPCs?.();\r\n        this.updateVariantButtons();\r\n        const game = this.gameEngine.getGame();\r\n        const filter = this.manager.state.npcVariantFilter || 'human';\r\n        const definitions = (this.gameEngine.npcManager?.getDefinitions?.() ?? []) as NpcDefinitionView[];\r\n        const filteredDefinitions = definitions\r\n            .filter((def: NpcDefinitionView) => {\r\n                const variant = def.variant || 'human';\r\n                return variant === filter;\r\n            });\r\n        const npcs = this.gameEngine.getSprites() as EditorNpc[];\r\n\r\n        list.innerHTML = '';\r\n        filteredDefinitions.forEach((def: NpcDefinitionView) => {\r\n            const npc = npcs.find((entry) => entry.type === def.type) || null;\r\n            const card = document.createElement('div');\r\n            card.className = 'npc-card';\r\n            card.dataset.type = def.type;\r\n            card.dataset.id = npc?.id || '';\r\n            if (def.type === this.manager.selectedNpcType) {\r\n                card.classList.add('selected');\r\n            }\r\n            if (npc?.placed) {\r\n                card.classList.add('npc-card-placed');\r\n            } else {\r\n                card.classList.add('npc-card-available');\r\n            }\r\n\r\n            const preview = document.createElement('canvas');\r\n            preview.className = 'npc-preview';\r\n            preview.width = 48;\r\n            preview.height = 48;\r\n            this.drawNpcPreview(preview, def);\r\n\r\n            const meta = document.createElement('div');\r\n            meta.className = 'meta';\r\n\r\n            const name = document.createElement('div');\r\n            name.className = 'npc-name';\r\n            name.textContent = this.getNpcName(def);\r\n\r\n            const pos = document.createElement('div');\r\n            pos.className = 'npc-position';\r\n            if (npc?.placed) {\r\n                const cols = game.world?.cols || 1;\r\n                const roomRow = Math.floor(npc.roomIndex / cols) + 1;\r\n                const roomCol = (npc.roomIndex % cols) + 1;\r\n                pos.textContent = this.tf('npc.status.position', {\r\n                    col: roomCol,\r\n                    row: roomRow,\r\n                    x: npc.x,\r\n                    y: npc.y\r\n                }, `Mapa (${roomCol}, ${roomRow}) - (${npc.x}, ${npc.y})`);\r\n            } else {\r\n                pos.textContent = this.t('npc.status.available');\r\n            }\r\n\r\n            meta.append(name, pos);\r\n            card.append(preview, meta);\r\n            list.appendChild(card);\r\n        });\r\n\r\n        this.updateNpcForm();\r\n    }\r\n\r\n    drawNpcPreview(canvas: HTMLCanvasElement, definition: NpcDefinitionView): void {\r\n        if (!(canvas instanceof HTMLCanvasElement)) return;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.imageSmoothingEnabled = false;\r\n\r\n        const npcSprites = this.gameEngine.renderer.npcSprites;\r\n        const sprite = npcSprites[definition.type] || npcSprites.default;\r\n        const step = canvas.width / 8;\r\n\r\n        for (let y = 0; y < sprite.length; y++) {\r\n            for (let x = 0; x < sprite[y].length; x++) {\r\n                const col = sprite[y][x];\r\n                if (!col) continue;\r\n                ctx.fillStyle = col;\r\n                ctx.fillRect(x * step, y * step, step, step);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateNpcForm(): void {\r\n        const selectedNpcId = this.manager.selectedNpcId;\r\n        const npc = (this.gameEngine.getSprites() as EditorNpc[]).find((entry) => entry.id === selectedNpcId);\r\n        const {\r\n            npcEditor,\r\n            npcText,\r\n            npcConditionalText,\r\n            npcConditionalVariable,\r\n            npcRewardVariable,\r\n            npcConditionalRewardVariable,\r\n            btnToggleNpcConditional,\r\n            npcConditionalSection\r\n        } = this.dom;\r\n        const hasSelection = Boolean(selectedNpcId);\r\n        const hasNpc = Boolean(npc);\r\n        if (npcEditor) {\r\n            npcEditor.hidden = !hasSelection;\r\n        }\r\n\r\n        if (npcText) {\r\n            npcText.disabled = !hasNpc;\r\n            npcText.value = this.getNpcDialogueText(npc);\r\n        }\r\n\r\n        if (npcConditionalText) {\r\n            npcConditionalText.disabled = !hasNpc;\r\n            npcConditionalText.value = npc?.conditionText || '';\r\n        }\r\n\r\n        this.manager.npcService.populateVariableSelect(npcConditionalVariable, npc?.conditionVariableId || '', { includeBardSkill: true });\r\n        this.manager.npcService.populateVariableSelect(npcRewardVariable, npc?.rewardVariableId || '');\r\n        this.manager.npcService.populateVariableSelect(npcConditionalRewardVariable, npc?.conditionalRewardVariableId || '');\r\n\r\n        if (npcConditionalVariable) npcConditionalVariable.disabled = !hasNpc;\r\n        if (npcRewardVariable) npcRewardVariable.disabled = !hasNpc;\r\n        if (npcConditionalRewardVariable) npcConditionalRewardVariable.disabled = !hasNpc;\r\n\r\n        const btnNpcDelete = this.dom.btnNpcDelete;\r\n        if (btnNpcDelete) {\r\n            btnNpcDelete.disabled = !hasNpc || !npc?.placed;\r\n        }\r\n\r\n        const expanded = Boolean(this.manager.state.conditionalDialogueExpanded);\r\n        if (npcConditionalSection) {\r\n            npcConditionalSection.hidden = !expanded;\r\n        }\r\n        if (btnToggleNpcConditional) {\r\n            btnToggleNpcConditional.textContent = expanded\r\n                ? this.t('npc.toggle.hide')\r\n                : this.t('npc.toggle.create');\r\n            btnToggleNpcConditional.setAttribute('aria-expanded', expanded ? 'true' : 'false');\r\n        }\r\n    }\r\n\r\n    getNpcName(definition: NpcDefinitionView | null): string {\r\n        if (!definition) return this.t('npc.defaultName', 'NPC');\r\n        const fallback = definition.name || this.t('npc.defaultName', 'NPC');\r\n        if (definition.nameKey) {\r\n            return this.t(definition.nameKey, fallback);\r\n        }\r\n        return fallback;\r\n    }\r\n\r\n    getNpcDialogueText(npc: EditorNpc | null): string {\r\n        if (!npc) return '';\r\n        if (npc.textKey) {\r\n            return this.t(npc.textKey, npc.text || '');\r\n        }\r\n        return npc.text || '';\r\n    }\r\n\r\n    updateVariantButtons(): void {\r\n        const buttons = Array.isArray(this.dom.npcVariantButtons) ? this.dom.npcVariantButtons : [];\r\n        if (!buttons.length) return;\r\n        const current = this.manager.state.npcVariantFilter || 'human';\r\n        buttons.forEach((btn: HTMLButtonElement) => {\r\n            const match = btn.dataset.npcVariantFilter === current;\r\n            btn.classList.toggle('active', match);\r\n            btn.setAttribute('aria-pressed', match ? 'true' : 'false');\r\n        });\r\n    }\r\n}\r\n\r\nexport { EditorNpcRenderer };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\renderers\\EditorObjectRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":32,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":32,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectTypes on an `any` value.","line":32,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":32,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":34,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":34,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":39,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":39,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedObjectType on an `any` value.","line":39,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":39,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":40,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":40,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":40,"column":31,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":40,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getObjectsForRoom on an `any` value.","line":40,"column":47,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":40,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":40,"column":76,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":40,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `Iterable<unknown> | null | undefined`.","line":41,"column":37,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":41,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":41,"column":37,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":41,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on an `any` value.","line":41,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":41,"column":67,"nodeType":"MemberExpression","messageId":"unsafeReturn","endLine":41,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":41,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":75,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":75,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":75,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":75,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":80,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":80,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectsList on an `any` value.","line":80,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":80,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":82,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":82,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":84,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":84,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getObjectsForRoom on an `any` value.","line":84,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":84,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":84,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":84,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":127,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":127,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .npcService on an `any` value.","line":127,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":127,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":129,"column":21,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":129,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setObjectVariable on an `any` value.","line":129,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":129,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":131,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":131,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderWorldGrid on a type that cannot be resolved.","line":131,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":131,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":132,"column":21,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":132,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .updateJSON on an `any` value.","line":132,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":132,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":133,"column":21,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":133,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .history on an `any` value.","line":133,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":133,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":142,"column":31,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":142,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .isVariableOn on an `any` value.","line":142,"column":47,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":142,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":205,"column":21,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":205,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectService on an `any` value.","line":205,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":205,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":242,"column":13,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":242,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":242,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":242,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":255,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":255,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":255,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":255,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .drawObjectSprite on an `any` value.","line":256,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":256,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":258,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":258,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .drawObjectSprite on an `any` value.","line":258,"column":18,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":258,"endColumn":34}],"suppressedMessages":[],"errorCount":43,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { StateObjectManager } from '../../../runtime/domain/state/StateObjectManager';\r\nimport { ITEM_TYPES } from '../../../runtime/domain/constants/itemTypes';\nimport { EditorConstants } from '../EditorConstants';\r\nimport { EditorRendererBase } from './EditorRendererBase';\r\n\r\nconst EditorObjectTypes = ITEM_TYPES;\r\nconst PLAYER_END_TYPE = EditorObjectTypes.PLAYER_END;\r\nconst DOOR_VARIABLE_TYPE = EditorObjectTypes.DOOR_VARIABLE;\r\n\r\ntype ObjectDefinitionView = {\r\n    type: string;\r\n    name?: string;\r\n    nameKey?: string;\r\n};\r\n\r\ntype EditorObject = {\r\n    id?: string;\r\n    type: string;\r\n    roomIndex: number;\r\n    x: number;\r\n    y: number;\r\n    variableId?: string | null;\r\n    on?: boolean;\r\n    opened?: boolean;\r\n    collected?: boolean;\r\n    endingText?: string;\r\n};\r\n\r\nclass EditorObjectRenderer extends EditorRendererBase {\r\n    renderObjectCatalog(): void {\r\n        const container = this.dom.objectTypes;\r\n        if (!container) return;\r\n        container.innerHTML = '';\r\n\r\n        const definitions = EditorConstants.OBJECT_DEFINITIONS as ObjectDefinitionView[];\r\n        if (!Array.isArray(definitions) || !definitions.length) return;\r\n\r\n        const selectedType = this.manager.selectedObjectType;\r\n        const placedObjects = this.gameEngine.getObjectsForRoom(this.state.activeRoomIndex) || [];\r\n        const placedTypes = new Set(placedObjects.map((object) => object.type));\r\n\r\n        definitions.forEach((definition) => {\r\n            const card = document.createElement('div');\r\n            card.className = 'object-type-card';\r\n            card.dataset.type = definition.type;\r\n            if (definition.type === selectedType) {\r\n                card.classList.add('selected');\r\n            }\r\n            if (placedTypes.has(definition.type)) {\r\n                card.classList.add('placed');\r\n            }\r\n\r\n            const preview = document.createElement('canvas');\r\n            preview.width = 48;\r\n            preview.height = 48;\r\n            preview.className = 'object-type-preview';\r\n            this.drawObjectPreview(preview, definition.type);\r\n\r\n            const meta = document.createElement('div');\r\n            meta.className = 'object-type-meta';\r\n\r\n            const name = document.createElement('div');\r\n            name.className = 'object-type-name';\r\n            name.textContent = this.getObjectLabel(definition.type, definitions);\r\n\r\n            const info = document.createElement('div');\r\n            info.className = 'object-type-info';\r\n            info.textContent = placedTypes.has(definition.type)\r\n                ? this.t('objects.info.placed')\r\n                : this.t('objects.info.available');\r\n\r\n            meta.append(name, info);\r\n            card.append(preview, meta);\r\n            container.appendChild(card);\r\n        });\r\n    }\r\n\r\n    renderObjects(): void {\r\n        const container = this.dom.objectsList;\r\n        if (!container) return;\r\n        container.innerHTML = '';\r\n\r\n        const objects = (this.gameEngine.getObjectsForRoom(this.state.activeRoomIndex) ||\r\n            []) as EditorObject[];\r\n        const definitions = EditorConstants.OBJECT_DEFINITIONS as ObjectDefinitionView[];\r\n\r\n        objects.forEach((object: EditorObject) => {\r\n            const card = document.createElement('div');\r\n            card.className = 'object-card';\r\n            card.dataset.type = object.type;\r\n            card.dataset.roomIndex = String(object.roomIndex);\r\n\r\n            const preview = document.createElement('canvas');\r\n            preview.className = 'object-preview';\r\n            preview.width = 48;\r\n            preview.height = 48;\r\n            this.drawObjectPreview(preview, object.type);\r\n\r\n            const body = document.createElement('div');\r\n            body.className = 'object-body';\r\n\r\n            const header = document.createElement('div');\r\n            header.className = 'object-header';\r\n\r\n            const title = document.createElement('h4');\r\n            title.className = 'object-name';\r\n            title.textContent = this.getObjectLabel(object.type, definitions);\r\n            header.appendChild(title);\r\n\r\n            const position = document.createElement('span');\r\n            position.className = 'object-position';\r\n            position.textContent = `(${object.x}, ${object.y})`;\r\n            header.appendChild(position);\r\n\r\n            body.appendChild(header);\r\n\r\n            if (object.type === EditorObjectTypes.SWITCH || object.type === DOOR_VARIABLE_TYPE) {\r\n                const config = document.createElement('div');\r\n                config.className = 'object-config';\r\n\r\n                const label = document.createElement('label');\r\n                label.className = 'object-config-label';\r\n\r\n                const select = document.createElement('select');\r\n                select.className = 'object-config-select';\r\n                this.manager.npcService.populateVariableSelect(select, object.variableId || '');\r\n                select.addEventListener('change', () => {\r\n                    this.gameEngine.setObjectVariable(object.type, object.roomIndex, select.value);\r\n                    this.renderObjects();\r\n                    this.service.worldRenderer.renderWorldGrid();\r\n                    this.manager.updateJSON();\r\n                    this.manager.history.pushCurrentState();\r\n                });\r\n                label.append(`${this.t('objects.switch.variableLabel')} `, select);\r\n                config.appendChild(label);\r\n\r\n                const status = document.createElement('div');\r\n                status.className = 'object-status';\r\n                const isOn = object.type === EditorObjectTypes.SWITCH\r\n                    ? Boolean(object.on)\r\n                    : Boolean(this.gameEngine.isVariableOn?.(object.variableId));\r\n                status.textContent = this.tf('objects.switch.stateLabel', {\r\n                    state: isOn ? this.t('objects.state.on') : this.t('objects.state.off')\r\n                });\r\n                config.appendChild(status);\r\n\r\n                body.appendChild(config);\r\n            }\r\n\r\n            if (object.type === EditorObjectTypes.DOOR && object.opened) {\r\n                const badge = document.createElement('div');\r\n                badge.className = 'object-status';\r\n                badge.textContent = this.t('objects.status.doorOpened');\r\n                body.appendChild(badge);\r\n            }\r\n\r\n            if (object.type === EditorObjectTypes.KEY && object.collected) {\r\n                const badge = document.createElement('div');\r\n                badge.className = 'object-status';\r\n                badge.textContent = this.t('objects.status.keyCollected');\r\n                body.appendChild(badge);\r\n            }\r\n\r\n            if (object.type === EditorObjectTypes.LIFE_POTION && object.collected) {\r\n                const badge = document.createElement('div');\r\n                badge.className = 'object-status';\r\n                badge.textContent = this.t('objects.status.potionCollected');\r\n                body.appendChild(badge);\r\n            }\r\n\r\n            if (object.type === EditorObjectTypes.XP_SCROLL && object.collected) {\r\n                const badge = document.createElement('div');\r\n                badge.className = 'object-status';\r\n                badge.textContent = this.t('objects.status.scrollUsed');\r\n                body.appendChild(badge);\r\n            }\r\n\r\n            if ((object.type === EditorObjectTypes.SWORD || object.type === EditorObjectTypes.SWORD_BRONZE || object.type === EditorObjectTypes.SWORD_WOOD) && object.collected) {\r\n                const badge = document.createElement('div');\r\n                badge.className = 'object-status';\r\n                badge.textContent = this.t('objects.status.swordBroken');\r\n                body.appendChild(badge);\r\n            }\r\n\r\n            const isPlayerEnd = object.type === PLAYER_END_TYPE;\r\n            if (isPlayerEnd) {\r\n                const config = document.createElement('div');\r\n                config.className = 'object-config';\r\n\r\n                const label = document.createElement('label');\r\n                label.className = 'object-config-label';\r\n                label.textContent = this.t('objects.end.textLabel');\r\n\r\n                const textarea = document.createElement('textarea');\r\n                textarea.className = 'object-config-textarea';\r\n                textarea.rows = 4;\r\n                const maxLength = typeof StateObjectManager?.PLAYER_END_TEXT_LIMIT === 'number'\r\n                    ? StateObjectManager.PLAYER_END_TEXT_LIMIT\r\n                    : 40;\r\n                textarea.maxLength = maxLength;\r\n                textarea.placeholder = this.t('objects.end.placeholder');\r\n                textarea.value = object.endingText || '';\r\n                textarea.addEventListener('input', () => {\r\n                    this.manager.objectService?.updatePlayerEndText?.(object.roomIndex, textarea.value);\r\n                });\r\n\r\n                label.appendChild(textarea);\r\n                config.appendChild(label);\r\n\r\n                const hint = document.createElement('div');\r\n                hint.className = 'object-config-hint';\r\n                hint.textContent = this.tf('objects.end.hint', { max: maxLength });\r\n                config.appendChild(hint);\r\n\r\n                body.appendChild(config);\r\n            }\r\n\r\n            if (isPlayerEnd) {\r\n                const badge = document.createElement('div');\r\n                badge.className = 'object-status';\r\n                badge.textContent = this.t('objects.status.gameEnd');\r\n                body.appendChild(badge);\r\n            }\r\n\r\n            if (object.type !== EditorObjectTypes.PLAYER_START) {\r\n                const removeBtn = document.createElement('button');\r\n                removeBtn.type = 'button';\r\n                removeBtn.className = 'object-remove';\r\n                removeBtn.dataset.type = object.type;\r\n                removeBtn.dataset.roomIndex = String(object.roomIndex);\r\n                removeBtn.textContent = this.t('buttons.remove');\r\n                body.appendChild(removeBtn);\r\n            } else {\r\n                const badge = document.createElement('div');\r\n                badge.className = 'object-status';\r\n                badge.textContent = this.t('objects.status.startMarker');\r\n                body.appendChild(badge);\r\n            }\r\n\r\n            card.append(preview, body);\r\n            container.appendChild(card);\r\n        });\r\n    }\r\n\r\n    drawObjectPreview(canvas: HTMLCanvasElement, type: string): void {\r\n        if (!(canvas instanceof HTMLCanvasElement)) return;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.imageSmoothingEnabled = false;\r\n        ctx.fillStyle = '#111827';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n        const renderer = this.gameEngine.renderer;\r\n        if (!renderer?.drawObjectSprite) return;\r\n        const step = canvas.width / 8;\r\n        renderer.drawObjectSprite(ctx, type, 0, 0, step);\r\n    }\r\n\r\n    getObjectLabel(type: string, definitions: ObjectDefinitionView[]): string {\r\n        const def = definitions.find((entry) => entry.type === type);\r\n        if (def?.nameKey) {\r\n            return this.t(def.nameKey, def?.name || type);\r\n        }\r\n        if (def?.name) return def.name;\r\n        switch (type) {\r\n            case EditorObjectTypes.DOOR:\r\n                return this.t('objects.label.door');\r\n            case EditorObjectTypes.DOOR_VARIABLE:\r\n                return this.t('objects.label.doorVariable');\r\n            case EditorObjectTypes.PLAYER_START:\r\n                return this.t('objects.label.playerStart');\r\n            case EditorObjectTypes.PLAYER_END:\r\n                return this.t('objects.label.playerEnd');\r\n            case EditorObjectTypes.SWITCH:\r\n                return this.t('objects.label.switch');\r\n            case EditorObjectTypes.KEY:\r\n                return this.t('objects.label.key');\r\n            case EditorObjectTypes.LIFE_POTION:\r\n                return this.t('objects.label.lifePotion');\r\n            case EditorObjectTypes.SWORD:\r\n                return this.t('objects.label.sword');\r\n            case EditorObjectTypes.SWORD_BRONZE:\r\n                return this.t('objects.label.swordBronze');\r\n            case EditorObjectTypes.SWORD_WOOD:\r\n                return this.t('objects.label.swordWood');\r\n            case EditorObjectTypes.XP_SCROLL:\r\n                return this.t('objects.label.xpScroll');\r\n            default:\r\n                return type;\r\n        }\r\n    }\r\n}\r\n\r\nexport { EditorObjectRenderer };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\renderers\\EditorRendererBase.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[48,51],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[48,51],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":8,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":11,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[61,64],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[61,64],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[76,79],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[76,79],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[96,99],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[96,99],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":19,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":19,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":23,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":23,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":27,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":27,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":31,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":31,"endColumn":40}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\ntype EditorRendererServiceApi = {\r\n  manager: any;\r\n  dom: any;\r\n  state: any;\r\n  gameEngine: any;\r\n  t: (key: string, fallback?: string) => string;\r\n  tf: (key: string, params?: Record<string, unknown>, fallback?: string) => string;\r\n};\r\n\r\nclass EditorRendererBase {\r\n    service: EditorRendererServiceApi;\r\n\r\n    constructor(service: EditorRendererServiceApi) {\r\n        this.service = service;\r\n    }\r\n\r\n    get manager() {\r\n        return this.service.manager;\r\n    }\r\n\r\n    get dom() {\r\n        return this.service.dom;\r\n    }\r\n\r\n    get state() {\r\n        return this.service.state;\r\n    }\r\n\r\n    get gameEngine() {\r\n        return this.service.gameEngine;\r\n    }\r\n\r\n    t(key: string, fallback = ''): string {\r\n        return this.service.t(key, fallback);\r\n    }\r\n\r\n    tf(key: string, params: Record<string, unknown> = {}, fallback = ''): string {\r\n        return this.service.tf(key, params, fallback);\r\n    }\r\n}\r\n\r\nexport { EditorRendererBase };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\renderers\\EditorTilePanelRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":12,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":12,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileList on an `any` value.","line":12,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":12,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":15,"column":23,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":15,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTiles on an `any` value.","line":15,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":15,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":41,"column":18,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on an `any` value.","line":51,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":51,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":61,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":61,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":61,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":61,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":68,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":68,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":68,"column":18,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":72,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":72,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTilePreview on an `any` value.","line":72,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":72,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":73,"column":23,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":73,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getTiles on an `any` value.","line":73,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":73,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .selectedTileId on an `any` value.","line":73,"column":117,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":73,"endColumn":131},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":75,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":75,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .renderer on an `any` value.","line":75,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":75,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileSummary on an `any` value.","line":76,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":76,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileSummary on an `any` value.","line":77,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":77,"endColumn":33}],"suppressedMessages":[],"errorCount":19,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EditorRendererBase } from './EditorRendererBase';\r\n\r\ntype TileDefinitionView = {\r\n    id: number | string;\r\n    name?: string;\r\n    category?: string;\r\n};\r\n\r\nclass EditorTilePanelRenderer extends EditorRendererBase {\r\n    renderTileList(): void {\r\n        const tileList = this.dom.tileList;\r\n        if (!tileList) return;\r\n\r\n        const tiles = this.gameEngine.getTiles() as TileDefinitionView[];\r\n        const groups = new Map<string, TileDefinitionView[]>();\r\n        tiles.forEach((tile: TileDefinitionView) => {\r\n            const category = tile.category || 'Diversos';\r\n            if (!groups.has(category)) {\r\n                groups.set(category, []);\r\n            }\r\n            groups.get(category)?.push(tile);\r\n        });\r\n\r\n        const categoryOrder = ['Terreno', 'Natureza', 'Agua', 'Construcoes', 'Interior', 'Decoracao', 'Objetos', 'Diversos'];\r\n        const categories = Array.from(groups.keys()).sort((a, b) => {\r\n            const ia = categoryOrder.indexOf(a);\r\n            const ib = categoryOrder.indexOf(b);\r\n            if (ia === -1 && ib === -1) return a.localeCompare(b);\r\n            if (ia === -1) return 1;\r\n            if (ib === -1) return -1;\r\n            return ia - ib;\r\n        });\r\n\r\n        const orderedTiles: TileDefinitionView[] = [];\r\n        categories.forEach((category: string) => {\r\n            const categoryTiles = groups.get(category) || [];\r\n            categoryTiles.forEach((tile: TileDefinitionView) => orderedTiles.push(tile));\r\n        });\r\n\r\n        tileList.innerHTML = '';\r\n\r\n        const grid = document.createElement('div');\r\n        grid.className = 'tile-grid';\r\n\r\n        orderedTiles.forEach((tile: TileDefinitionView) => {\r\n            const card = document.createElement('button');\r\n            card.type = 'button';\r\n            card.className = 'tile-card';\r\n            card.dataset.tileId = String(tile.id);\r\n            if (tile.id === this.manager.selectedTileId) {\r\n                card.classList.add('selected');\r\n            }\r\n\r\n            const preview = document.createElement('canvas');\r\n            preview.width = 64;\r\n            preview.height = 64;\r\n            const ctx = preview.getContext('2d');\r\n            if (ctx) {\r\n                ctx.imageSmoothingEnabled = false;\r\n                this.gameEngine.renderer.drawTileOnCanvas(preview, tile);\r\n            }\r\n\r\n            card.appendChild(preview);\r\n            grid.appendChild(card);\r\n        });\r\n\r\n        tileList.appendChild(grid);\r\n    }\r\n\r\n    updateSelectedTilePreview(): void {\r\n        const preview = this.dom.selectedTilePreview;\r\n        const tile = (this.gameEngine.getTiles() as TileDefinitionView[]).find((entry) => entry.id === this.manager.selectedTileId);\r\n        if (!preview || !tile) return;\r\n        this.gameEngine.renderer.drawTileOnCanvas(preview, tile);\r\n        if (this.dom.tileSummary) {\r\n            this.dom.tileSummary.textContent = tile.name || this.tf('tiles.summaryFallback', { id: tile.id });\r\n        }\r\n    }\r\n}\r\n\r\nexport { EditorTilePanelRenderer };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\editor\\modules\\renderers\\EditorWorldRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":5,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":5,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .worldGrid on an `any` value.","line":5,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":5,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":8,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":8,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":8,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":8,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on an `any` value.","line":8,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":8,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":9,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":9,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":9,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":10,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":10,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":10,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":10,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":11,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":11,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on an `any` value.","line":11,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":11,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":13,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":13,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":14,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":14,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .style on an `any` value.","line":14,"column":14,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":14,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":23,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":23,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":48,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":48,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":48,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":48,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":56,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":56,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapNavButtons on an `any` value.","line":56,"column":48,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":56,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapNavButtons on an `any` value.","line":56,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":56,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":57,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":57,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":57,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":57,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getGame on an `any` value.","line":57,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":57,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":58,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":58,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on an `any` value.","line":59,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":59,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":60,"column":40,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":60,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on an `any` value.","line":60,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":60,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":62,"column":60,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":62,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activeRoomIndex on an `any` value.","line":62,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":62,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":68,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":82,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":82,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on an `any` value.","line":82,"column":17,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":82,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":106,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":106,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPosition on an `any` value.","line":106,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":106,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .innerHTML on an `any` value.","line":109,"column":19,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":109,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":124,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":124,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .appendChild on an `any` value.","line":124,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":124,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":130,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":130,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .mapPosition on an `any` value.","line":130,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":130,"endColumn":47}],"suppressedMessages":[],"errorCount":39,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EditorRendererBase } from './EditorRendererBase';\r\nclass EditorWorldRenderer extends EditorRendererBase {\n    renderWorldGrid(): void {\n        const grid = this.dom.worldGrid;\r\n        if (!grid) return;\r\n\r\n        const game = this.gameEngine.getGame();\r\n        const rows = game.world?.rows || 1;\r\n        const cols = game.world?.cols || 1;\r\n        const startIndex = game.start?.roomIndex ?? 0;\r\n\r\n        grid.innerHTML = '';\r\n        grid.style.setProperty('--world-cols', cols);\r\n\r\n        for (let row = 0; row < rows; row++) {\r\n            for (let col = 0; col < cols; col++) {\r\n                const index = row * cols + col;\r\n                const cell = document.createElement('button');\r\n                cell.type = 'button';\r\n                cell.className = 'world-cell';\r\n                cell.dataset.roomIndex = String(index);\r\n                if (index === this.state.activeRoomIndex) {\r\n                    cell.classList.add('active');\r\n                }\r\n\r\n                const label = document.createElement('span');\r\n                label.className = 'world-cell-label';\r\n                label.textContent = `${col + 1},${row + 1}`;\r\n                cell.appendChild(label);\r\n\r\n                const badges = document.createElement('div');\r\n                badges.className = 'world-cell-badges';\r\n\r\n                if (index === startIndex) {\r\n                    const badge = document.createElement('span');\r\n                    badge.classList.add('world-cell-badge', 'badge-start');\r\n                    badge.textContent = this.t('world.badge.start');\r\n                    badges.appendChild(badge);\r\n                    cell.classList.add('start');\r\n                }\r\n\r\n                if (badges.children.length) {\r\n                    cell.appendChild(badges);\r\n                }\r\n\r\n                cell.title = this.tf('world.cell.title', { col: col + 1, row: row + 1 });\r\n                grid.appendChild(cell);\r\n            }\r\n        }\r\n\r\n        this.renderMapNavigation();\r\n    }\r\n\r\n    renderMapNavigation(): void {\n        const buttons = Array.isArray(this.dom.mapNavButtons) ? this.dom.mapNavButtons : [];\r\n        const game = this.gameEngine.getGame();\r\n        const rows = Math.max(1, Number(game.world?.rows) || 1);\r\n        const cols = Math.max(1, Number(game.world?.cols) || 1);\r\n        const totalRooms = Math.max(1, game.rooms?.length || rows * cols);\r\n        const maxIndex = totalRooms - 1;\r\n        const activeIndex = Math.max(0, Math.min(maxIndex, this.state.activeRoomIndex ?? 0));\r\n        const currentRow = Math.floor(activeIndex / cols);\r\n        const currentCol = activeIndex % cols;\r\n\r\n        this.updateMapPosition(currentCol + 1, currentRow + 1);\r\n\r\n        if (!buttons.length) {\r\n            return;\r\n        }\r\n\r\n        const canMove = (rowOffset: number, colOffset: number): boolean => {\n            const nextRow = currentRow + rowOffset;\r\n            const nextCol = currentCol + colOffset;\r\n            if (nextRow < 0 || nextRow >= rows || nextCol < 0 || nextCol >= cols) {\r\n                return false;\r\n            }\r\n            const targetIndex = nextRow * cols + nextCol;\r\n            return targetIndex >= 0 && targetIndex <= maxIndex;\r\n        };\r\n\r\n        buttons.forEach((button: HTMLButtonElement) => {\n            const direction = button.dataset.direction;\n            let enabled = false;\n            switch (direction) {\r\n                case 'up':\r\n                    enabled = canMove(-1, 0);\r\n                    break;\r\n                case 'down':\r\n                    enabled = canMove(1, 0);\r\n                    break;\r\n                case 'left':\r\n                    enabled = canMove(0, -1);\r\n                    break;\r\n                case 'right':\r\n                    enabled = canMove(0, 1);\r\n                    break;\r\n                default:\r\n                    enabled = false;\r\n            }\r\n            button.disabled = !enabled;\r\n        });\r\n    }\r\n\r\n    renderGameMinimap(activeColIndex: number | null = null, activeRowIndex: number | null = null): void {\n        const container = this.dom.mapPosition;\r\n        if (!container) return;\r\n\r\n        container.innerHTML = '';\r\n\r\n        for (let r = 1; r <= 3; r++) {\r\n            for (let c = 1; c <= 3; c++) {\r\n                const cell = document.createElement('div');\r\n                cell.className = 'game-minimap-cell';\r\n                cell.dataset.mmRow = String(r);\r\n                cell.dataset.mmCol = String(c);\r\n\r\n                if (r === activeRowIndex && c === activeColIndex) {\r\n                    cell.classList.add('game-minimap-cell-active');\r\n                } else {\r\n                    cell.classList.add('game-minimap-cell');\r\n                }\r\n\r\n                container.appendChild(cell);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateMapPosition(col: number, row: number): void {\n        const container = this.dom.mapPosition;\r\n        if (!container) return;\r\n        try {\r\n            this.renderGameMinimap(col, row);\r\n        } catch {}\r\n    }\r\n}\r\n\r\nexport { EditorWorldRenderer };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\legacy\\globals.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[53,56],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[53,56],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[106,109],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[106,109],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[625,628],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[625,628],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[751,754],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[751,754],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[778,781],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[778,781],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"type TinyRpgFirebaseHelpers = {\n  addDoc?: (...args: any[]) => Promise<unknown>;\n  collection?: (...args: any[]) => unknown;\n  serverTimestamp?: () => unknown;\n};\n\ndeclare global {\n  interface GlobalThis {\n    TEXT_BUNDLES?: Record<string, Record<string, string>>;\n    __TINY_RPG_EXPORT_MODE?: boolean;\n    __TINY_RPG_SHARED_CODE?: string;\n    TinyRPGFirebaseConfig?: Record<string, unknown> | null;\n    TinyRPGFirebaseCollection?: string | null;\n    TinyRPGFirebaseApp?: unknown;\n    TinyRPGFirebaseDb?: unknown;\n    TinyRPGFirebaseFirestore?: TinyRpgFirebaseHelpers | null;\n    firebase?: {\n      initializeApp?: (...args: any[]) => unknown;\n      apps?: unknown[];\n      app?: () => unknown;\n      firestore?: () => {\n        collection: (...args: any[]) => { add: (...args: any[]) => Promise<unknown> };\n        FieldValue?: { serverTimestamp?: () => unknown };\n      };\n    } | null;\n    TinyRPGMaker?: Record<string, unknown>;\n    TinyRPGShare?: Record<string, unknown>;\n    TinyRPGApplication?: Record<string, unknown>;\n  }\n}\n\nexport {};\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\main.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":9,"column":9,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":9,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":10,"column":3,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":10,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | number`.","line":51,"column":59,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":51,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":52,"column":59,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":52,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":52,"column":62,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":52,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | number`.","line":52,"column":65,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":52,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | number`.","line":58,"column":39,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":58,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":61,"column":24,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":61,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":61,"column":24,"nodeType":"MemberExpression","messageId":"errorCall","endLine":61,"endColumn":55}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { EditorManager } from './editor/EditorManager';\r\nimport { EditorExportService } from './editor/modules/EditorExportService';\r\nimport { GameEngine } from './runtime/services/GameEngine';\r\nimport { ShareUtils } from './runtime/infra/share/ShareUtils';\r\nimport { getTinyRpgApi, setTinyRpgApi } from './runtime/infra/TinyRpgApi';\r\nimport { TextResources } from './runtime/adapters/TextResources';\r\n\r\nconst getTextResource = (key: string, fallback = ''): string => {\r\n  const value = TextResources.get(key, fallback);\r\n  return value || fallback || key || '';\r\n};\r\n\r\ntype TabActivationDetail = { initial?: boolean };\r\n\r\nclass TinyRPGApplication {\r\n  static boot(): void {\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n      this.initializeApplication();\r\n      this.setupResponsiveCanvas();\r\n    });\r\n  }\r\n\r\n  static initializeApplication(): void {\r\n    this.setupTabs();\r\n\r\n    const gameCanvas = document.getElementById('game-canvas');\r\n    if (!(gameCanvas instanceof HTMLCanvasElement)) return;\r\n\r\n    const gameEngine = new GameEngine(gameCanvas);\r\n    this.loadSharedGameIfAvailable(gameEngine);\r\n    const isExportMode = Boolean(globalThis.__TINY_RPG_EXPORT_MODE);\r\n    let editorManager: EditorManager | null = null;\r\n\r\n    document.addEventListener('game-tab-activated', (ev) => {\r\n      const event = ev as CustomEvent<TabActivationDetail>;\r\n      if (event.detail?.initial) return;\r\n      gameEngine.resetGame();\r\n    });\r\n    document.addEventListener('editor-tab-activated', (ev) => {\r\n      const event = ev as CustomEvent<TabActivationDetail>;\r\n      if (event.detail?.initial) return;\r\n      gameEngine.resetGame();\r\n    });\r\n\r\n    const api = {\r\n      exportGameData: () => gameEngine.exportGameData(),\r\n      importGameData: (data) => gameEngine.importGameData(data),\r\n      getState: () => gameEngine.getState(),\r\n      draw: () => gameEngine.draw(),\r\n      resetGame: () => gameEngine.resetGame(),\r\n      updateTile: (tileId, data) => gameEngine.updateTile(tileId, data),\r\n      setMapTile: (x, y, tileId) => gameEngine.setMapTile(x, y, tileId),\r\n      getTiles: () => gameEngine.getTiles(),\r\n      getTileMap: () => gameEngine.getTileMap(),\r\n      getTilePresetNames: () => gameEngine.getTilePresetNames(),\r\n      getVariables: () => gameEngine.getVariableDefinitions(),\r\n      setVariableDefault: (variableId, value) =>\r\n        gameEngine.setVariableDefault(variableId, value),\r\n      addSprite: (npc) => gameEngine.addSprite(npc),\r\n      getSprites: () => gameEngine.getSprites(),\r\n      resetNPCs: () => gameEngine.npcManager.resetNPCs(),\r\n      renderAll: () => editorManager?.renderAll?.(),\r\n    };\r\n    setTinyRpgApi(api);\r\n\r\n    if (!isExportMode) {\r\n      editorManager = new EditorManager(gameEngine);\r\n    }\r\n    new EditorExportService();\r\n    this.bindResetButton(gameEngine);\r\n    this.bindTouchPad(gameEngine);\r\n    this.bindLanguageSelector();\r\n\r\n    console.log(getTextResource('log.engineReady'));\r\n  }\r\n\r\n  static bindResetButton(gameEngine: GameEngine): void {\r\n    const resetButton = document.getElementById('btn-reset');\r\n    if (!(resetButton instanceof HTMLButtonElement)) return;\r\n\r\n    const getBaseUrl = () => {\r\n      const { location } = globalThis;\r\n      if (!location) return '';\r\n      return `${location.origin}${location.pathname}`;\r\n    };\r\n\r\n    const openNewGameTab = (url: string) => {\r\n      const popup = globalThis.open?.(url, '_blank', 'noopener');\r\n      if (popup) {\r\n        return true;\r\n      }\r\n      const anchor = document.createElement('a');\r\n      anchor.href = url;\r\n      anchor.target = '_blank';\r\n      anchor.rel = 'noopener noreferrer';\r\n      anchor.style.position = 'absolute';\r\n      anchor.style.left = '-9999px';\r\n      document.body.appendChild(anchor);\r\n      anchor.click();\r\n      requestAnimationFrame(() => anchor.remove());\r\n      return true;\r\n    };\r\n\r\n    const handleClick = (ev: MouseEvent) => {\r\n      const isEditorMode = document.body.classList.contains('editor-mode');\r\n      if (isEditorMode) {\r\n        ev.preventDefault();\r\n        ev.stopImmediatePropagation();\r\n        const targetUrl = getBaseUrl();\r\n        openNewGameTab(targetUrl);\r\n        resetButton.blur();\r\n        return false;\r\n      }\r\n      gameEngine.resetGame();\r\n      resetButton.blur();\r\n      return false;\r\n    };\r\n\r\n    const updateButtonState = () => {\r\n      const isEditorMode = document.body.classList.contains('editor-mode');\r\n      if (isEditorMode) {\r\n        resetButton.textContent = getTextResource('buttons.newGame');\r\n        resetButton.setAttribute('aria-label', getTextResource('aria.newGame'));\r\n      } else {\r\n        resetButton.textContent = getTextResource('buttons.reset');\r\n        resetButton.setAttribute('aria-label', getTextResource('aria.reset'));\r\n      }\r\n    };\r\n\r\n    resetButton.addEventListener('click', handleClick);\r\n    document.addEventListener('game-tab-activated', updateButtonState);\r\n    document.addEventListener('editor-tab-activated', updateButtonState);\r\n    document.addEventListener('language-changed', updateButtonState);\r\n    updateButtonState();\r\n  }\r\n\r\n  static bindTouchPad(gameEngine: GameEngine): void {\r\n    const touchButtons = document.querySelectorAll<HTMLButtonElement>(\r\n      '.game-touch-pad .pad-button[data-direction]',\r\n    );\r\n    const toggleButton = document.getElementById('touch-controls-toggle');\r\n    const hideButton = document.getElementById('touch-controls-hide');\r\n    const padContainer = document.getElementById('mobile-touch-pad');\r\n\r\n    if (!touchButtons.length || !(toggleButton instanceof HTMLButtonElement) || !padContainer)\r\n      return;\r\n\r\n    type Direction = 'left' | 'right' | 'up' | 'down';\r\n    const directionMap: Record<Direction, [number, number]> = {\r\n      left: [-1, 0],\r\n      right: [1, 0],\r\n      up: [0, -1],\r\n      down: [0, 1],\r\n    };\r\n\r\n    touchButtons.forEach((btn) => {\r\n      btn.addEventListener(\r\n        'touchstart',\r\n        (ev) => {\r\n          ev.preventDefault();\r\n          const dir = btn.dataset.direction as Direction | undefined;\r\n          if (!dir) return;\r\n          const delta = directionMap[dir];\r\n          if (delta) {\r\n            gameEngine.tryMove(delta[0], delta[1]);\r\n          }\r\n        },\r\n        { passive: false },\r\n      );\r\n    });\r\n\r\n    let showControlsText = '';\r\n    let hideControlsText = '';\r\n\r\n    const syncTouchTexts = () => {\r\n      showControlsText = getTextResource('touchControls.show');\r\n      hideControlsText = getTextResource('touchControls.hide');\r\n      toggleButton.textContent = showControlsText;\r\n      if (hideButton instanceof HTMLButtonElement) {\r\n        hideButton.textContent = hideControlsText;\r\n        hideButton.setAttribute('aria-label', hideControlsText);\r\n      }\r\n    };\r\n\r\n    syncTouchTexts();\r\n\r\n    const updateToggleState = () => {\r\n      const isVisible = document.body.classList.contains('touch-controls-visible');\r\n      toggleButton.setAttribute('aria-expanded', isVisible ? 'true' : 'false');\r\n      toggleButton.setAttribute('aria-pressed', isVisible ? 'true' : 'false');\r\n      padContainer.setAttribute('aria-hidden', isVisible ? 'false' : 'true');\r\n      if (!isVisible) {\r\n        toggleButton.textContent = showControlsText;\r\n      }\r\n      if (hideButton instanceof HTMLButtonElement) {\r\n        hideButton.hidden = !isVisible;\r\n        if (isVisible) {\r\n          hideButton.textContent = hideControlsText;\r\n        }\r\n      }\r\n    };\r\n\r\n    toggleButton.addEventListener('click', () => {\r\n      document.body.classList.add('touch-controls-visible');\r\n      updateToggleState();\r\n    });\r\n\r\n    if (hideButton instanceof HTMLButtonElement) {\r\n      hideButton.addEventListener('click', () => {\r\n        document.body.classList.remove('touch-controls-visible');\r\n        updateToggleState();\r\n      });\r\n    }\r\n\r\n    const hideControls = () => {\r\n      document.body.classList.remove('touch-controls-visible');\r\n      updateToggleState();\r\n    };\r\n\r\n    document.addEventListener('editor-tab-activated', hideControls);\r\n    document.addEventListener('game-tab-activated', updateToggleState);\r\n    document.addEventListener('language-changed', () => {\r\n      syncTouchTexts();\r\n      updateToggleState();\r\n    });\r\n\r\n    updateToggleState();\r\n  }\r\n\r\n  static bindLanguageSelector(): void {\r\n    const select = document.getElementById('language-select');\r\n    if (!(select instanceof HTMLSelectElement)) return;\r\n\r\n    const syncSelect = () => {\r\n      select.value = TextResources.getLocale();\r\n    };\r\n\r\n    syncSelect();\r\n\r\n    select.addEventListener('change', () => {\r\n      const locale = select.value;\r\n      if (!locale) return;\r\n      const changed = TextResources.setLocale(locale);\r\n      if (!changed) {\r\n        syncSelect();\r\n      }\r\n    });\r\n\r\n    document.addEventListener('language-changed', syncSelect);\r\n  }\r\n\r\n  static setupTabs(): void {\r\n    const tabs = document.querySelectorAll<HTMLButtonElement>('.tab-button[data-tab]');\r\n    const tabContents = document.querySelectorAll<HTMLElement>('.tab-content');\r\n\r\n    const applyLayoutMode = (tabName: string) => {\r\n      const isEditor = tabName === 'editor';\r\n      const isGame = tabName === 'game';\r\n      document.body.classList.toggle('editor-mode', isEditor);\r\n      document.body.classList.toggle('game-mode', isGame);\r\n    };\r\n\r\n    const activateTab = (btn: HTMLButtonElement) => {\r\n      if (btn.classList.contains('active')) {\r\n        return;\r\n      }\r\n\r\n      const tabName = btn.dataset.tab;\r\n      if (!tabName) return;\r\n\r\n      tabs.forEach((other) => {\r\n        other.classList.remove('active');\r\n        other.setAttribute('aria-selected', 'false');\r\n      });\r\n\r\n      tabContents.forEach((content) => content.classList.remove('active'));\r\n\r\n      btn.classList.add('active');\r\n      btn.setAttribute('aria-selected', 'true');\r\n\r\n      const targetId = `tab-${tabName}`;\r\n      const targetContent = document.getElementById(targetId);\r\n      if (targetContent) {\r\n        targetContent.classList.add('active');\r\n      }\r\n\r\n      applyLayoutMode(tabName);\r\n\r\n      if (tabName === 'game') {\r\n        document.dispatchEvent(new CustomEvent('game-tab-activated'));\r\n      }\r\n\r\n      if (tabName === 'editor') {\r\n        const api = getTinyRpgApi();\r\n        api?.resetNPCs?.();\r\n        api?.draw?.();\r\n        document.dispatchEvent(new CustomEvent('editor-tab-activated'));\r\n        api?.renderAll?.();\r\n        if (api?.exportGameData && api?.importGameData) {\r\n          const currentData = api.exportGameData();\r\n          api.importGameData(currentData);\r\n        }\r\n      }\r\n    };\r\n\r\n    tabs.forEach((btn) => {\r\n      btn.addEventListener('pointerdown', (ev) => {\r\n        ev.preventDefault();\r\n        activateTab(btn);\r\n      });\r\n      btn.addEventListener('keydown', (ev) => {\r\n        if (ev.key === 'Enter' || ev.key === ' ') {\r\n          ev.preventDefault();\r\n          activateTab(btn);\r\n        }\r\n      });\r\n    });\r\n\r\n    const initialTab = document.querySelector<HTMLButtonElement>(\r\n      '.tab-button.active[data-tab]',\r\n    );\r\n    if (initialTab?.dataset.tab) {\r\n      applyLayoutMode(initialTab.dataset.tab);\r\n      if (initialTab.dataset.tab === 'game') {\r\n        document.dispatchEvent(\r\n          new CustomEvent('game-tab-activated', { detail: { initial: true } }),\r\n        );\r\n      }\r\n      if (initialTab.dataset.tab === 'editor') {\r\n        document.dispatchEvent(\r\n          new CustomEvent('editor-tab-activated', { detail: { initial: true } }),\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  static loadSharedGameIfAvailable(gameEngine: GameEngine): void {\r\n    const data = ShareUtils?.extractGameDataFromLocation?.(globalThis.location);\r\n    if (data) {\r\n      gameEngine.importGameData(data);\r\n    }\r\n  }\r\n\r\n  static setupResponsiveCanvas(): void {\r\n    const gameCanvas = document.getElementById('game-canvas');\r\n    const gameContainer = document.getElementById('game-container');\r\n    if (!(gameCanvas instanceof HTMLCanvasElement) || !gameContainer) {\r\n      return;\r\n    }\r\n\r\n    const resizeCanvas = () => {\r\n      const rect = gameContainer.getBoundingClientRect();\r\n      const availableWidth = rect.width || globalThis.innerWidth;\r\n      const availableHeight = rect.height || globalThis.innerHeight;\r\n      const aspectRatio = (gameCanvas.height || 1) / (gameCanvas.width || 1);\r\n      const maxWidth = Math.max(128, availableWidth * 0.9);\r\n      const maxHeight = Math.max(128, availableHeight * 0.9);\r\n      const widthLimitedByHeight = maxHeight / aspectRatio;\r\n      const targetWidth = Math.min(maxWidth, widthLimitedByHeight);\r\n      const targetHeight = targetWidth * aspectRatio;\r\n      gameCanvas.style.width = `${targetWidth}px`;\r\n      gameCanvas.style.height = `${targetHeight}px`;\r\n    };\r\n\r\n    const scheduleResize = () => globalThis.requestAnimationFrame(resizeCanvas);\r\n\r\n    globalThis.addEventListener?.('resize', scheduleResize);\r\n    document.addEventListener('game-tab-activated', scheduleResize);\r\n\r\n    scheduleResize();\r\n  }\r\n}\r\n\r\nTinyRPGApplication.boot();\r\nexport { TinyRPGApplication };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\adapters\\TextResources.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":549,"column":16,"nodeType":"AssignmentPattern","messageId":"anyAssignment","endLine":549,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .locale on an `any` value.","line":549,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":549,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":550,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":550,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [locale] resolves to an `any` value.","line":550,"column":29,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":550,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [lang] resolves to an `any` value.","line":561,"column":38,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":561,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":562,"column":17,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":562,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [locale] resolves to an `any` value.","line":574,"column":38,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":574,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":577,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":577,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Document`.","line":579,"column":24,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":579,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":591,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":591,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [locale] resolves to an `any` value.","line":591,"column":39,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":591,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":592,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":592,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [locale] resolves to an `any` value.","line":592,"column":22,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":592,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":600,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":600,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":602,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":602,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [key] on a type that cannot be resolved.","line":602,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":602,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [key] resolves to an `any` value.","line":602,"column":28,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":602,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":605,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":605,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":607,"column":17,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":607,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [key] on a type that cannot be resolved.","line":607,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":607,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [key] resolves to an `any` value.","line":607,"column":39,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":607,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":610,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":610,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":614,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":614,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":615,"column":24,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":615,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":616,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":621,"endColumn":12},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":616,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":616,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":616,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":616,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":618,"column":17,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":618,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [token] resolves to an `any` value.","line":618,"column":31,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":618,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":628,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":628,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":630,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":630,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":636,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":636,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":638,"column":48,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":638,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":644,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":644,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":646,"column":47,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":646,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":652,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":652,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":654,"column":42,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":654,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":662,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":662,"endColumn":61}],"suppressedMessages":[],"errorCount":38,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nconst TEXT_BUNDLES = {\r\n    'pt-BR': {\r\n        'app.title': 'Tiny RPG Studio',\r\n        'intro.byline': 'por {author}',\r\n        'intro.startAdventure': 'Iniciar aventura',\r\n        'tabs.game': 'Jogo',\r\n        'tabs.editor': 'Editor',\r\n        'sections.tiles': 'Tiles',\r\n        'sections.world': 'Mundo',\r\n        'sections.objects': 'Objetos',\r\n        'sections.npcs': 'NPCs',\r\n        'sections.enemies': 'Inimigos',\r\n        'sections.project': 'Projeto',\r\n        'buttons.reset': 'Reiniciar',\r\n        'buttons.newGame': 'Novo jogo',\r\n        'buttons.remove': 'Remover',\r\n        'aria.reset': 'Reiniciar a partida atual',\r\n        'aria.newGame': 'Criar um novo jogo do zero em outra aba',\r\n        'touchControls.show': 'Exibir controles',\r\n        'touchControls.hide': 'Ocultar controles',\r\n        'touchControls.upLabel': 'Mover para cima',\r\n        'touchControls.downLabel': 'Mover para baixo',\r\n        'touchControls.leftLabel': 'Mover para a esquerda',\r\n        'touchControls.rightLabel': 'Mover para a direita',\r\n        'doors.variableLocked': 'No abre com chave.',\r\n        'doors.openedRemaining': 'Voc usou uma chave para abrir a porta. Restam: {value}.',\r\n        'doors.opened': 'Voc usou uma chave para abrir a porta.',\r\n        'doors.locked': 'Porta trancada. Precisa de uma chave.',\r\n        'doors.unlockedSkill': 'Sua habilidade abriu a porta sem usar chave.',\r\n        'log.engineReady': 'Tiny RPG Studio engine initialized successfully.',\r\n        'npc.dialog.defaultLabel': 'Dilogo padro:',\r\n        'npc.dialog.placeholder': 'Digite o dilogo do NPC...',\r\n        'npc.reward.defaultLabel': 'Ao concluir o dilogo padro, ativar varivel:',\r\n        'npc.toggle.create': 'Criar dilogo alternativo',\r\n        'npc.toggle.hide': 'Ocultar dilogo alternativo',\r\n        'npc.conditional.variableLabel': 'Varivel para dilogo alternativo:',\r\n        'npc.conditional.textLabel': 'Texto alternativo:',\r\n        'npc.conditional.placeholder': 'Mensagem exibida quando a varivel estiver ON.',\r\n        'npc.conditional.rewardLabel': 'Ao concluir o dilogo alternativo, ativar varivel:',\r\n        'npc.delete': 'Remover NPC',\r\n        'npc.defaultName': 'NPC',\r\n        'npc.variant.label': 'Aparncia dos NPCs',\r\n        'npc.variant.human': 'Humano',\r\n        'npc.variant.elf': 'Elfo',\r\n        'npc.variant.dwarf': 'Ano',\r\n        'npc.variant.fixed': 'Extras',\r\n        'npcs.names.oldMage': 'Velho Mago',\r\n        'npcs.names.oldMage.human': 'Velho Mago',\r\n        'npcs.names.oldMage.elf': 'Velho Mago',\r\n        'npcs.names.oldMage.dwarf': 'Velho Mago',\r\n        'npcs.names.villagerMan': 'Homem comum',\r\n        'npcs.names.villagerMan.human': 'Homem comum',\r\n        'npcs.names.villagerMan.elf': 'Homem comum',\r\n        'npcs.names.villagerMan.dwarf': 'Homem comum',\r\n        'npcs.names.villagerWoman': 'Mulher comum',\r\n        'npcs.names.villagerWoman.human': 'Mulher comum',\r\n        'npcs.names.villagerWoman.elf': 'Mulher comum',\r\n        'npcs.names.villagerWoman.dwarf': 'Mulher comum',\r\n        'npcs.names.child': 'Criana curiosa',\r\n        'npcs.names.child.human': 'Criana curiosa',\r\n        'npcs.names.child.elf': 'Criana curiosa',\r\n        'npcs.names.child.dwarf': 'Criana curiosa',\r\n        'npcs.names.thoughtBubble': 'Balo',\r\n        'npcs.names.woodenSign': 'Placa de madeira',\r\n        'npcs.names.king': 'Rei',\r\n        'npcs.names.king.human': 'Rei',\r\n        'npcs.names.king.elf': 'Rei',\r\n        'npcs.names.king.dwarf': 'Rei',\r\n        'npcs.names.knight': 'Cavaleiro',\r\n        'npcs.names.knight.human': 'Cavaleiro',\r\n        'npcs.names.knight.elf': 'Cavaleiro',\r\n        'npcs.names.knight.dwarf': 'Cavaleiro',\r\n        'npcs.names.thief': 'Ladra',\r\n        'npcs.names.thief.human': 'Ladra',\r\n        'npcs.names.thief.elf': 'Ladra',\r\n        'npcs.names.thief.dwarf': 'Ladra',\r\n        'npcs.names.blacksmith': 'Ferreira',\r\n        'npcs.names.blacksmith.human': 'Ferreira',\r\n        'npcs.names.blacksmith.elf': 'Ferreira',\r\n        'npcs.names.blacksmith.dwarf': 'Ferreira',\r\n        'npcs.dialog.oldMage': 'Eu guardo segredos antigos.',\r\n        'npcs.dialog.oldMage.human': 'Eu guardo segredos antigos.',\r\n        'npcs.dialog.oldMage.elf': 'As rvores contam histrias para quem escuta.',\r\n        'npcs.dialog.oldMage.dwarf': 'Lendas ecoam nas cavernas profundas.',\r\n        'npcs.dialog.villagerMan': 'Bom dia! Posso ajudar?',\r\n        'npcs.dialog.villagerMan.human': 'Bom dia! Posso ajudar?',\r\n        'npcs.dialog.villagerMan.elf': 'Que a floresta guie seus passos.',\r\n        'npcs.dialog.villagerMan.dwarf': 'Minhas mos conhecem martelo e picareta.',\r\n        'npcs.dialog.villagerWoman': 'Que dia lindo para explorar.',\r\n        'npcs.dialog.villagerWoman.human': 'Que dia lindo para explorar.',\r\n        'npcs.dialog.villagerWoman.elf': 'As flores florescem com boas intenes.',\r\n        'npcs.dialog.villagerWoman.dwarf': 'O som das forjas acalma o corao.',\r\n        'npcs.dialog.child': 'Vamos brincar de aventura!',\r\n        'npcs.dialog.child.human': 'Vamos brincar de aventura!',\r\n        'npcs.dialog.child.elf': 'Quer correr pelos bosques comigo?',\r\n        'npcs.dialog.child.dwarf': 'Vamos cavar um tnel secreto!',\r\n        'npcs.dialog.thoughtBubble': ' ... ',\r\n        'npcs.dialog.woodenSign': 'Ateno aos perigos  frente.',\r\n        'npcs.dialog.king': 'Proteja nosso reino!',\r\n        'npcs.dialog.king.human': 'Proteja nosso reino!',\r\n        'npcs.dialog.king.elf': 'Honre a natureza acima de tudo.',\r\n        'npcs.dialog.king.dwarf': 'Defenda as minas com honra e ao.',\r\n        'npcs.dialog.knight': 'Estou pronto para lutar.',\r\n        'npcs.dialog.knight.human': 'Estou pronto para lutar.',\r\n        'npcs.dialog.knight.elf': 'Luto para manter o verde vivo.',\r\n        'npcs.dialog.knight.dwarf': 'Minha armadura ressoa como um tambor de guerra.',\r\n        'npcs.dialog.thief': 'Ningum me pega no ato.',\r\n        'npcs.dialog.thief.human': 'Ningum me pega no ato.',\r\n        'npcs.dialog.thief.elf': 'Sou sombra entre galhos e folhas.',\r\n        'npcs.dialog.thief.dwarf': 'Entre pedras e ouro, ningum me v chegar.',\r\n        'npcs.dialog.blacksmith': 'Minhas forjas esto em brasas.',\r\n        'npcs.dialog.blacksmith.human': 'Minhas forjas esto em brasas.',\r\n        'npcs.dialog.blacksmith.elf': 'Forjo com madeira viva e ao leve.',\r\n        'npcs.dialog.blacksmith.dwarf': 'Ao e pedra;  assim que se constri.',\r\n        'npc.status.available': 'Disponvel',\r\n        'npc.status.position': 'Mapa ({col}, {row}) - ({x}, {y})',\r\n        'project.titleLabel': 'Nome do jogo',\r\n        'project.titlePlaceholder': 'Ex.: Lendas do Vale',\r\n        'project.authorLabel': 'Autor',\r\n        'project.authorPlaceholder': 'Seu nome ou estdio',\r\n        'project.languageLabel': 'Idioma',\r\n        'project.generateUrl': 'Gerar URL do jogo',\r\n        'project.shareUrlLabel': 'URL do jogo',\r\n        'project.generateHTML': 'Exportar Projeto',\r\n        'project.variables.title': 'Variveis do jogo',\r\n        'project.variables.usage': '{used}/{total} usadas',\r\n        'project.variables.used': 'Em uso',\r\n        'project.variables.unused': 'Sem uso',\r\n        'project.variables.toggle.show': 'Mostrar variveis',\r\n        'project.variables.toggle.hide': 'Esconder variveis',\r\n        'project.skills.title': 'Skills do jogo',\r\n        'project.skills.toggle.show': 'Mostrar skills',\r\n        'project.skills.toggle.hide': 'Esconder skills',\r\n        'project.skills.level': 'Nvel {value}',\r\n        'project.test.title': 'Ajuda nos testes',\r\n        'project.test.toggle.show': 'Mostrar',\r\n        'project.test.toggle.hide': 'Esconder',\r\n        'project.test.hint': 'Apenas para testar: essas opes no entram na URL gerada.',\r\n        'project.test.startLevel': 'Inicia com nvel',\r\n        'project.test.levelOption': 'Nvel {value}',\r\n        'project.test.skills': 'Ativar skills no teste',\r\n        'project.test.godMode': 'God mode (imortal)',\r\n        'project.shareHint': 'Gere uma URL e compartilhe com seus amigos!',\r\n        'language.option.ptBR': 'Portugus (Brasil)',\r\n        'language.option.enUS': 'English (US)',\r\n        'history.undo': 'Desfazer',\r\n        'history.redo': 'Refazer',\r\n        'alerts.npc.full': 'Todos os NPCs j esto no mapa.',\r\n        'alerts.npc.createError': 'No foi possvel criar o NPC.',\r\n        'alerts.npc.selectFirst': 'Selecione um NPC para colocar.',\r\n        'alerts.npc.placeError': 'No foi possvel posicionar o NPC.',\r\n        'alerts.share.unavailable': 'Funo de compartilhar no est disponvel.',\r\n        'alerts.share.copied': 'URL do jogo copiada para a rea de transferncia!',\r\n        'alerts.share.copyPrompt': 'Copie a URL do seu jogo:',\r\n        'alerts.share.generateError': 'No foi possvel gerar a URL do jogo.',\r\n        'alerts.share.loadError': 'No foi possvel carregar o arquivo.',\r\n        'enemies.damageInfo': ' - Dano: {value}',\r\n        'enemies.variableLabel': 'Varivel:',\r\n        'enemies.xpBarLabel': 'Inimigos colocados',\r\n        'enemies.xpBarValue': '{current} / {total} inimigos',\r\n        'enemies.limitReached': 'Mximo de inimigos atingido',\r\n        'enemies.names.giantRat': ' Rato Gigante',\r\n        'enemies.names.bandit': ' Bandido',\r\n        'enemies.names.darkKnight': ' Cavaleiro Negro',\r\n        'enemies.names.necromancer': ' Necro',\r\n        'enemies.names.dragon': ' Drago',\r\n        'enemies.names.skeleton': ' Esqueleto',\r\n        'enemies.names.fallenKing': ' Rei Cado',\r\n        'enemies.names.ancientDemon': ' Demnio Ancio',\r\n        'enemies.defeat.dragon': 'Selo do Drago ativado!',\r\n        'enemies.defeat.fallenKing': 'Selo Real despertou!',\r\n        'enemies.defeat.ancientDemon': 'Selo Demonaco ativo!',\r\n        'variables.none': 'Nenhuma',\r\n        'variables.skill.bard': 'Habilidade: Bardo (falas extras)',\r\n        'objects.info.available': 'Disponvel (1 por cenrio)',\r\n        'objects.info.placed': 'J no mapa (1 por cenrio)',\r\n        'variables.names.var1': 'Preto',\r\n        'variables.names.var2': 'Azul Escuro',\r\n        'variables.names.var3': 'Roxo',\r\n        'variables.names.var4': 'Verde',\r\n        'variables.names.var5': 'Marrom',\r\n        'variables.names.var6': 'Cinza',\r\n        'variables.names.var7': 'Azul Claro',\r\n        'variables.names.var8': 'Rosa Choque',\r\n        'variables.names.var9': 'Amarelo',\r\n        'objects.switch.variableLabel': 'Varivel associada:',\r\n        'objects.switch.stateLabel': 'Estado atual: {state}',\r\n        'objects.state.on': 'ON',\r\n        'objects.state.off': 'OFF',\r\n        'objects.status.doorOpened': 'Porta aberta',\r\n        'objects.status.keyCollected': 'Chave coletada',\r\n        'objects.status.potionCollected': 'Poo coletada',\r\n        'objects.status.scrollUsed': 'Pergaminho usado',\r\n        'objects.status.swordBroken': 'Espada quebrada',\r\n        'objects.status.gameEnd': 'Final do jogo',\r\n        'objects.end.textLabel': 'Mensagem final:',\r\n        'objects.end.placeholder': 'Escreva a mensagem exibida antes de \"The End\"...',\r\n        'objects.end.hint': 'Mx. {max} caracteres.',\r\n        'objects.status.startMarker': 'Marcador inicial',\r\n        'objects.label.door': 'Porta',\r\n        'objects.label.doorVariable': 'Porta mgica',\r\n        'objects.label.playerStart': 'Incio do Jogador',\r\n        'objects.label.playerEnd': 'Fim do Jogo',\r\n        'objects.label.switch': 'Alavanca',\r\n        'objects.label.key': 'Chave',\r\n        'objects.label.lifePotion': 'Poo de Vida',\r\n        'objects.label.sword': 'Espada de Ao',\r\n        'objects.label.swordBronze': 'Espada de Bronze',\r\n        'objects.label.swordWood': 'Espada de Madeira',\r\n        'objects.label.xpScroll': 'Pergaminho de XP',\r\n        'objects.item.pickup': 'Voc pegou um item.',\r\n        'objects.key.pickup.single': 'Voc pegou uma chave.',\r\n        'objects.key.pickup.count': 'Voc pegou uma chave. Agora voc tem {value}.',\r\n        'objects.potion.used': 'Voc usou uma poo de vida.',\r\n        'objects.xpScroll.read': 'Voc leu um pergaminho de XP e ganhou {value} de experincia.',\r\n        'objects.xpScroll.levelUp': 'Nvel +{value}!',\r\n        'objects.switch.onMessage': 'Alavanca ligada.',\r\n        'objects.switch.offMessage': 'Alavanca desligada.',\r\n        'objects.sword.pickup.single': 'Voc pegou uma {name}! Ela bloqueia 1 de dano no prximo ataque inimigo.',\r\n        'objects.sword.pickup.multi': 'Voc pegou uma {name}! Ela bloqueia {value} de dano somando os prximos ataques inimigos.',\r\n        'combat.block.full': 'Ataque bloqueado!',\r\n        'combat.block.partial': 'Bloqueado -{value}',\r\n        'combat.stealthKill': 'Abate furtivo!',\r\n        'combat.stealthMiss': 'Errou o ataque furtivo!',\r\n        'combat.cooldown': 'Invulneravel por um instante!',\r\n        'player.levelUp': 'Level Up!',\r\n        'player.levelUp.value': 'Level Up! Nvel {value}',\r\n        'skills.levelUpTitle': 'Escolha uma skill',\r\n        'skills.levelUpHint': 'Use 1/2 ou  ',\r\n        'skills.pendingLabel': '+{value} escolha(s) na fila',\r\n        'skills.allUnlocked': 'Todas as habilidades j foram aprendidas.',\r\n        'skills.pickupMessage': 'Voc aprendeu {name}!',\r\n        'skills.keylessDoors.name': 'Ladino',\r\n        'skills.keylessDoors.desc': 'Portas sem chave.',\r\n        'skills.charisma.name': 'Bardo',\r\n        'skills.charisma.desc': 'Falas extras.',\r\n        'skills.necromancer.name': 'Necromante',\r\n        'skills.necromancer.desc': 'Renasce ao morrer.',\r\n        'skills.necromancer.revive': 'Voc voltou da morte!',\r\n        'skills.necromancer.revivePrompt': 'Voltar  vida',\r\n        'gameOver.retryVictory': 'Jogar de novo?',\r\n        'gameOver.retryDefeat': 'Tentar novamente?',\r\n        'skills.stealth.name': 'Assassino',\r\n        'skills.stealth.desc': 'Toque inimigos fracos para abat-los.',\r\n        'skills.waterWalker.name': 'Monge das guas',\r\n        'skills.waterWalker.desc': 'Anda sobre gua.',\r\n        'skills.lavaWalker.name': 'Mago de Fogo',\r\n        'skills.lavaWalker.desc': 'Anda sobre lava.',\r\n        'skills.potionMaster.name': 'Alquimista',\r\n        'skills.potionMaster.desc': 'Poes curam tudo.',\r\n        'skills.xpBoost.name': 'Estudioso',\r\n        'skills.xpBoost.desc': '+50% de XP ganho.',\r\n        'skills.ironBody.name': 'Cavaleiro de Ao',\r\n        'skills.ironBody.desc': '-1 em todo dano recebido.',\r\n        'game.clearAllEnemies': 'Matou todos os inimigos! As terras esto purificadas e sua fora de vida floresce.',\r\n        'enemy.defaultName': 'Inimigo',\r\n        'world.badge.start': 'Start',\r\n        'world.cell.title': 'Mapa ({col}, {row})',\r\n        'editor.map.title': 'Mapa',\r\n        'editor.mapNav.up': 'Ir para cena acima',\r\n        'editor.mapNav.down': 'Ir para cena abaixo',\r\n        'editor.mapNav.left': 'Ir para cena  esquerda',\r\n        'editor.mapNav.right': 'Ir para cena  direita',\r\n        'editor.mobileNav.label': 'Selecionar seo do editor',\r\n        'editor.mobileNav.tiles': 'Mostrar tiles',\r\n        'editor.mobileNav.world': 'Mostrar mapa do mundo',\r\n        'editor.mobileNav.objects': 'Mostrar objetos',\r\n        'editor.mobileNav.npcs': 'Mostrar NPCs',\r\n        'editor.mobileNav.enemies': 'Mostrar inimigos',\r\n        'editor.mobileNav.project': 'Mostrar projeto',\r\n        'tiles.summaryFallback': 'Tile {id}'\r\n    },\r\n    'en-US': {\r\n        'app.title': 'Tiny RPG Studio',\r\n        'intro.byline': 'by {author}',\r\n        'intro.startAdventure': 'Start adventure',\r\n        'tabs.game': 'Game',\r\n        'tabs.editor': 'Editor',\r\n        'sections.tiles': 'Tiles',\r\n        'sections.world': 'World',\r\n        'sections.objects': 'Objects',\r\n        'sections.npcs': 'NPCs',\r\n        'sections.enemies': 'Enemies',\r\n        'sections.project': 'Project',\r\n        'buttons.reset': 'Reset',\r\n        'buttons.newGame': 'New Game',\r\n        'buttons.remove': 'Remove',\r\n        'aria.reset': 'Restart the current run',\r\n        'aria.newGame': 'Spin up a fresh project in a new tab',\r\n        'touchControls.show': 'Show controls',\r\n        'touchControls.hide': 'Hide controls',\r\n        'touchControls.upLabel': 'Move up',\r\n        'touchControls.downLabel': 'Move down',\r\n        'touchControls.leftLabel': 'Move left',\r\n        'touchControls.rightLabel': 'Move right',\r\n        'doors.variableLocked': 'This door does not open with a key.',\r\n        'doors.openedRemaining': 'You used a key to open the door. Remaining: {value}.',\r\n        'doors.opened': 'You used a key to open the door.',\r\n        'doors.locked': 'Door locked. You need a key.',\r\n        'doors.unlockedSkill': 'Your skill opens the door without a key.',\r\n        'log.engineReady': 'Tiny RPG Studio engine initialized successfully.',\r\n        'npc.dialog.defaultLabel': 'Default dialogue:',\r\n        'npc.dialog.placeholder': 'Type the NPC dialogue...',\r\n        'npc.reward.defaultLabel': 'After the default dialogue, enable variable:',\r\n        'npc.toggle.create': 'Create alternate dialogue',\r\n        'npc.toggle.hide': 'Hide alternate dialogue',\r\n        'npc.conditional.variableLabel': 'Variable for alternate dialogue:',\r\n        'npc.conditional.textLabel': 'Alternate text:',\r\n        'npc.conditional.placeholder': 'Message displayed when the variable is ON.',\r\n        'npc.conditional.rewardLabel': 'After the alternate dialogue, enable variable:',\r\n        'npc.delete': 'Remove NPC',\r\n        'npc.defaultName': 'NPC',\r\n        'npc.variant.label': 'NPC appearance',\r\n        'npc.variant.human': 'Human',\r\n        'npc.variant.elf': 'Elf',\r\n        'npc.variant.dwarf': 'Dwarf',\r\n        'npc.variant.fixed': 'Extras',\r\n        'npcs.names.oldMage': 'Old Mage',\r\n        'npcs.names.villagerMan': 'Common man',\r\n        'npcs.names.villagerMan.human': 'Common man',\r\n        'npcs.names.villagerMan.elf': 'Common man',\r\n        'npcs.names.villagerMan.dwarf': 'Common man',\r\n        'npcs.names.villagerWoman': 'Common woman',\r\n        'npcs.names.villagerWoman.human': 'Common woman',\r\n        'npcs.names.villagerWoman.elf': 'Common woman',\r\n        'npcs.names.villagerWoman.dwarf': 'Common woman',\r\n        'npcs.names.child': 'Curious child',\r\n        'npcs.names.child.human': 'Curious child',\r\n        'npcs.names.child.elf': 'Curious child',\r\n        'npcs.names.child.dwarf': 'Curious child',\r\n        'npcs.names.thoughtBubble': 'Balloon',\r\n        'npcs.names.woodenSign': 'Wooden sign',\r\n        'npcs.names.king': 'King',\r\n        'npcs.names.king.human': 'King',\r\n        'npcs.names.king.elf': 'King',\r\n        'npcs.names.king.dwarf': 'King',\r\n        'npcs.names.knight': 'Knight',\r\n        'npcs.names.knight.human': 'Knight',\r\n        'npcs.names.knight.elf': 'Knight',\r\n        'npcs.names.knight.dwarf': 'Knight',\r\n        'npcs.names.thief': 'Thief',\r\n        'npcs.names.thief.human': 'Thief',\r\n        'npcs.names.thief.elf': 'Thief',\r\n        'npcs.names.thief.dwarf': 'Thief',\r\n        'npcs.names.blacksmith': 'Blacksmith',\r\n        'npcs.names.blacksmith.human': 'Blacksmith',\r\n        'npcs.names.blacksmith.elf': 'Blacksmith',\r\n        'npcs.names.blacksmith.dwarf': 'Blacksmith',\r\n        'npcs.dialog.oldMage': 'I guard old secrets.',\r\n        'npcs.dialog.oldMage.human': 'I guard old secrets.',\r\n        'npcs.dialog.oldMage.elf': 'Trees whisper stories to careful ears.',\r\n        'npcs.dialog.oldMage.dwarf': 'Legends echo through the deep caverns.',\r\n        'npcs.dialog.villagerMan': 'Good morning! Can I help?',\r\n        'npcs.dialog.villagerMan.human': 'Good morning! Can I help?',\r\n        'npcs.dialog.villagerMan.elf': 'May the forest guide your steps.',\r\n        'npcs.dialog.villagerMan.dwarf': 'My hands know hammers and pickaxes.',\r\n        'npcs.dialog.villagerWoman': 'What a lovely day to explore.',\r\n        'npcs.dialog.villagerWoman.human': 'What a lovely day to explore.',\r\n        'npcs.dialog.villagerWoman.elf': 'Flowers bloom with good intentions.',\r\n        'npcs.dialog.villagerWoman.dwarf': 'The sound of the forge calms my heart.',\r\n        'npcs.dialog.child': 'Let\\'s play adventure!',\r\n        'npcs.dialog.child.human': 'Let\\'s play adventure!',\r\n        'npcs.dialog.child.elf': 'Want to race through the woods with me?',\r\n        'npcs.dialog.child.dwarf': 'Let\\'s dig a secret tunnel!',\r\n        'npcs.dialog.thoughtBubble': ' ... ',\r\n        'npcs.dialog.woodenSign': 'Beware of the dangers ahead.',\r\n        'npcs.dialog.king': 'Defend our kingdom!',\r\n        'npcs.dialog.king.human': 'Defend our kingdom!',\r\n        'npcs.dialog.king.elf': 'Honor nature above all.',\r\n        'npcs.dialog.king.dwarf': 'Guard the mines with steel and honor.',\r\n        'npcs.dialog.knight': 'I am ready to fight.',\r\n        'npcs.dialog.knight.human': 'I am ready to fight.',\r\n        'npcs.dialog.knight.elf': 'I fight to keep the green alive.',\r\n        'npcs.dialog.knight.dwarf': 'My armor thunders like a war drum.',\r\n        'npcs.dialog.thief': 'No one catches me in the act.',\r\n        'npcs.dialog.thief.human': 'No one catches me in the act.',\r\n        'npcs.dialog.thief.elf': 'I am a shadow between leaves and branches.',\r\n        'npcs.dialog.thief.dwarf': 'Among stone and gold, no one sees me coming.',\r\n        'npcs.dialog.blacksmith': 'My forges are blazing hot.',\r\n        'npcs.dialog.blacksmith.human': 'My forges are blazing hot.',\r\n        'npcs.dialog.blacksmith.elf': 'I forge with living wood and light steel.',\r\n        'npcs.dialog.blacksmith.dwarf': 'Steel and stone; that is how you build.',\r\n        'npc.status.available': 'Available',\r\n        'npc.status.position': 'Map ({col}, {row}) - ({x}, {y})',\r\n        'project.titleLabel': 'Game name',\r\n        'project.titlePlaceholder': 'Eg: Legends of the Vale',\r\n        'project.authorLabel': 'Author',\r\n        'project.authorPlaceholder': 'Your name or studio',\r\n        'project.languageLabel': 'Language',\r\n        'project.generateUrl': 'Generate share URL',\r\n        'project.shareUrlLabel': 'Game URL',\r\n        'project.generateHTML': 'Export Project',\r\n        'project.variables.title': 'Game variables',\r\n        'project.variables.usage': '{used}/{total} used',\r\n        'project.variables.used': 'In use',\r\n        'project.variables.unused': 'Not used',\r\n        'project.variables.toggle.show': 'Show variables',\r\n        'project.variables.toggle.hide': 'Hide variables',\r\n        'project.skills.title': 'Game skills',\r\n        'project.skills.toggle.show': 'Show skills',\r\n        'project.skills.toggle.hide': 'Hide skills',\r\n        'project.skills.level': 'Level {value}',\r\n        'project.test.title': 'Test helpers',\r\n        'project.test.toggle.show': 'Show',\r\n        'project.test.toggle.hide': 'Hide',\r\n        'project.test.hint': 'Testing only: these options are not included in the share URL.',\r\n        'project.test.startLevel': 'Start at level',\r\n        'project.test.levelOption': 'Level {value}',\r\n        'project.test.skills': 'Enable skills for testing',\r\n        'project.test.godMode': 'God mode (immortal)',\r\n        'project.shareHint': 'Generate a URL and share it with friends!',\r\n        'language.option.ptBR': 'Portuguese (Brazil)',\r\n        'language.option.enUS': 'English (US)',\r\n        'history.undo': 'Undo',\r\n        'history.redo': 'Redo',\r\n        'alerts.npc.full': 'All NPCs are already on the map.',\r\n        'alerts.npc.createError': 'Could not create this NPC.',\r\n        'alerts.npc.selectFirst': 'Select an NPC before placing.',\r\n        'alerts.npc.placeError': 'Could not place the NPC.',\r\n        'alerts.share.unavailable': 'Share feature is not available.',\r\n        'alerts.share.copied': 'Game URL copied to your clipboard!',\r\n        'alerts.share.copyPrompt': 'Copy your game URL:',\r\n        'alerts.share.generateError': 'Unable to generate the game URL.',\r\n        'alerts.share.loadError': 'Unable to load the file.',\r\n        'enemies.damageInfo': ' - Damage: {value}',\r\n        'enemies.variableLabel': 'Variable:',\r\n        'enemies.xpBarLabel': 'Enemies placed',\r\n        'enemies.xpBarValue': '{current} / {total} enemies',\r\n        'enemies.limitReached': 'Max enemies reached',\r\n        'enemies.names.giantRat': ' Giant Rat',\r\n        'enemies.names.bandit': ' Bandit',\r\n        'enemies.names.darkKnight': ' Dark Knight',\r\n        'enemies.names.necromancer': ' Necromancer',\r\n        'enemies.names.dragon': ' Dragon',\r\n        'enemies.names.skeleton': ' Skeleton',\r\n        'enemies.names.fallenKing': ' Fallen King',\r\n        'enemies.names.ancientDemon': ' Ancient Demon',\r\n        'enemies.defeat.dragon': 'Dragon Seal activated!',\r\n        'enemies.defeat.fallenKing': 'Royal Seal awakened!',\r\n        'enemies.defeat.ancientDemon': 'Demonic Seal is active!',\r\n        'variables.none': 'None',\r\n        'variables.skill.bard': 'Skill: Bard (alternate lines)',\r\n        'objects.info.available': 'Available (1 per scene)',\r\n        'objects.info.placed': 'Already on the map (1 per scene)',\r\n        'variables.names.var1': 'Black',\r\n        'variables.names.var2': 'Dark Blue',\r\n        'variables.names.var3': 'Purple',\r\n        'variables.names.var4': 'Green',\r\n        'variables.names.var5': 'Brown',\r\n        'variables.names.var6': 'Gray',\r\n        'variables.names.var7': 'Light Blue',\r\n        'variables.names.var8': 'Hot Pink',\r\n        'variables.names.var9': 'Yellow',\r\n        'objects.switch.variableLabel': 'Linked variable:',\r\n        'objects.switch.stateLabel': 'Current state: {state}',\r\n        'objects.state.on': 'ON',\r\n        'objects.state.off': 'OFF',\r\n        'objects.status.doorOpened': 'Door opened',\r\n        'objects.status.keyCollected': 'Key collected',\r\n        'objects.status.potionCollected': 'Potion collected',\r\n        'objects.status.scrollUsed': 'Scroll used',\r\n        'objects.status.swordBroken': 'Sword broken',\r\n        'objects.status.gameEnd': 'End of game',\r\n        'objects.end.textLabel': 'Final message:',\r\n        'objects.end.placeholder': 'Type the message shown before \"The End\"...',\r\n        'objects.end.hint': 'Max {max} characters.',\r\n        'objects.status.startMarker': 'Start marker',\r\n        'objects.label.door': 'Door',\r\n        'objects.label.doorVariable': 'Magic door',\r\n        'objects.label.playerStart': 'Player start',\r\n        'objects.label.playerEnd': 'Game end',\r\n        'objects.label.switch': 'Switch',\r\n        'objects.label.key': 'Key',\r\n        'objects.label.lifePotion': 'Health potion',\r\n        'objects.label.sword': 'Steel sword',\r\n        'objects.label.swordBronze': 'Bronze sword',\r\n        'objects.label.swordWood': 'Wooden sword',\r\n        'objects.label.xpScroll': 'XP scroll',\r\n        'objects.item.pickup': 'You picked up an item.',\r\n        'objects.key.pickup.single': 'You picked up a key.',\r\n        'objects.key.pickup.count': 'You picked up a key. You now have {value}.',\r\n        'objects.potion.used': 'You used a health potion.',\r\n        'objects.xpScroll.read': 'You read an XP scroll and gained {value} experience.',\r\n        'objects.xpScroll.levelUp': 'Level +{value}!',\r\n        'objects.switch.onMessage': 'Switch turned on.',\r\n        'objects.switch.offMessage': 'Switch turned off.',\r\n        'objects.sword.pickup.single': 'You picked up a {name}! It blocks 1 damage from the next enemy attack.',\r\n        'objects.sword.pickup.multi': 'You picked up a {name}! It blocks {value} damage across upcoming enemy attacks.',\r\n        'combat.block.full': 'Attack blocked!',\r\n        'combat.block.partial': 'Blocked -{value}',\r\n        'combat.stealthKill': 'Stealth kill!',\r\n        'combat.stealthMiss': 'Stealth strike missed!',\r\n        'combat.cooldown': 'Invulnerable for a moment!',\r\n        'player.levelUp': 'Level Up!',\r\n        'player.levelUp.value': 'Level Up! Level {value}',\r\n        'skills.levelUpTitle': 'Pick a skill',\r\n        'skills.levelUpHint': 'Use 1/2 or  ',\r\n        'skills.pendingLabel': '+{value} pick(s) queued',\r\n        'skills.allUnlocked': 'All skills already unlocked.',\r\n        'skills.pickupMessage': 'You learned {name}!',\r\n        'skills.keylessDoors.name': 'Rogue',\r\n        'skills.keylessDoors.desc': 'Locked doors open without spending keys.',\r\n        'skills.charisma.name': 'Bard',\r\n        'skills.charisma.desc': 'Unlock alternate NPC dialogues.',\r\n        'skills.necromancer.name': 'Necromancer',\r\n        'skills.necromancer.desc': 'Automatically revive once after death.',\r\n        'skills.necromancer.revive': 'You returned from death!',\r\n        'skills.necromancer.revivePrompt': 'Return to life',\r\n        'gameOver.retryVictory': 'Play again?',\r\n        'gameOver.retryDefeat': 'Try again?',\r\n        'skills.stealth.name': 'Assassin',\r\n        'skills.stealth.desc': 'Touch weak enemies for an instant kill.',\r\n        'skills.waterWalker.name': 'Water Monk',\r\n        'skills.waterWalker.desc': 'Water tiles stop blocking your path.',\r\n        'skills.lavaWalker.name': 'Fire Mage',\r\n        'skills.lavaWalker.desc': 'Stride over lava without harm.',\r\n        'skills.potionMaster.name': 'Alchemist',\r\n        'skills.potionMaster.desc': 'Health potions restore all HP.',\r\n        'skills.xpBoost.name': 'Scholar',\r\n        'skills.xpBoost.desc': '+50% experience gain.',\r\n        'skills.ironBody.name': 'Iron Knight',\r\n        'skills.ironBody.desc': '-1 to every incoming hit.',\r\n        'game.clearAllEnemies': 'You felled every foe. The land is cleansed and your life force swells.',\r\n        'enemy.defaultName': 'Enemy',\r\n        'world.badge.start': 'Start',\r\n        'world.cell.title': 'Map ({col}, {row})',\r\n        'editor.map.title': 'Map',\r\n        'editor.mapNav.up': 'Go to scene above',\r\n        'editor.mapNav.down': 'Go to scene below',\r\n        'editor.mapNav.left': 'Go to scene on the left',\r\n        'editor.mapNav.right': 'Go to scene on the right',\r\n        'editor.mobileNav.label': 'Select editor section',\r\n        'editor.mobileNav.tiles': 'Show tiles',\r\n        'editor.mobileNav.world': 'Show world map',\r\n        'editor.mobileNav.objects': 'Show objects',\r\n        'editor.mobileNav.npcs': 'Show NPCs',\r\n        'editor.mobileNav.enemies': 'Show enemies',\r\n        'editor.mobileNav.project': 'Show project',\r\n        'tiles.summaryFallback': 'Tile {id}'\r\n    }\r\n};\r\n\r\nconst TextResources = {\r\n    defaultLocale: 'pt-BR',\r\n    locale: 'pt-BR',\r\n    bundles: TEXT_BUNDLES,\r\n\r\n    getStrings(locale = this.locale) {\r\n        return this.bundles[locale] || this.bundles[this.defaultLocale] || {};\r\n    },\r\n\r\n    detectBrowserLocale() {\r\n        if (typeof navigator === 'undefined') {\r\n            return this.defaultLocale;\r\n        }\r\n        const languages = Array.isArray(navigator.languages) && navigator.languages.length\r\n            ? navigator.languages\r\n            : [navigator.language || navigator.userLanguage || this.defaultLocale];\r\n        for (const lang of languages) {\r\n            if (lang && this.bundles[lang]) {\r\n                return lang;\r\n            }\r\n            const short = String(lang || '').split('-')[0];\r\n            const match = Object.keys(this.bundles).find((locale) => locale.startsWith(short));\r\n            if (match) {\r\n                return match;\r\n            }\r\n        }\r\n        return this.defaultLocale;\r\n    },\r\n\r\n    setLocale(locale, { silent = false, root } = {}) {\r\n        if (!locale || !this.bundles[locale]) {\r\n            return false;\r\n        }\r\n        this.locale = locale;\r\n        if (!silent) {\r\n            this.apply(root);\r\n            document.dispatchEvent(new CustomEvent('language-changed', { detail: { locale: this.locale } }));\r\n        }\r\n        return true;\r\n    },\r\n\r\n    getLocale() {\r\n        return this.locale;\r\n    },\r\n\r\n    extend(locale, strings = {}) {\r\n        if (!locale || typeof strings !== 'object') return;\r\n        const existing = this.bundles[locale] || {};\r\n        this.bundles[locale] = { ...existing, ...strings };\r\n        if (locale === this.locale) {\r\n            this.apply();\r\n        }\r\n    },\r\n\r\n    get(key, fallback = '') {\r\n        if (!key) return fallback || '';\r\n        const strings = this.getStrings(this.locale);\r\n        if (Object.prototype.hasOwnProperty.call(strings, key)) {\r\n            return strings[key];\r\n        }\r\n        if (this.locale !== this.defaultLocale) {\r\n            const defaultStrings = this.getStrings(this.defaultLocale);\r\n            if (Object.prototype.hasOwnProperty.call(defaultStrings, key)) {\r\n                return defaultStrings[key];\r\n            }\r\n        }\r\n        return fallback || key || '';\r\n    },\r\n\r\n    format(key, params = {}, fallback = '') {\r\n        const template = this.get(key, fallback);\r\n        if (!template) return fallback || key || '';\r\n        return template.replace(/\\{(\\w+)\\}/g, (_, token) => {\r\n            if (Object.prototype.hasOwnProperty.call(params, token)) {\r\n                return params[token];\r\n            }\r\n            return '';\r\n        });\r\n    },\r\n\r\n    apply(root = document) {\n        if (!root || typeof root.querySelectorAll !== 'function') return;\r\n        root.querySelectorAll('[data-text-key]').forEach((el) => {\r\n            const key = el.getAttribute('data-text-key');\r\n            const text = this.get(key, el.textContent);\r\n            if (text !== undefined) {\r\n                el.textContent = text;\r\n            }\r\n        });\r\n\r\n        root.querySelectorAll('[data-placeholder-key]').forEach((el) => {\r\n            const key = el.getAttribute('data-placeholder-key');\r\n            const text = this.get(key, el.getAttribute('placeholder') || '');\r\n            if (text) {\r\n                el.setAttribute('placeholder', text);\r\n            }\r\n        });\r\n\r\n        root.querySelectorAll('[data-aria-label-key]').forEach((el) => {\r\n            const key = el.getAttribute('data-aria-label-key');\r\n            const text = this.get(key, el.getAttribute('aria-label') || '');\r\n            if (text) {\r\n                el.setAttribute('aria-label', text);\r\n            }\r\n        });\r\n\r\n        root.querySelectorAll('[data-title-key]').forEach((el) => {\r\n            const key = el.getAttribute('data-title-key');\r\n            const text = this.get(key, el.getAttribute('title') || '');\r\n            if (text) {\r\n                el.setAttribute('title', text);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nif (typeof document !== 'undefined') {\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n        const detected = TextResources.detectBrowserLocale();\r\n        TextResources.setLocale(detected, { silent: true });\r\n        TextResources.apply();\r\n    });\r\n}\r\n\r\nexport { TextResources };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\adapters\\renderer\\RendererEffectsManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":133,"column":38,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":133,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":138,"column":55,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":138,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":140,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":140,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":141,"column":47,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":141,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":141,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":141,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":142,"column":47,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":142,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":142,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":142,"endColumn":56}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { RendererModuleBase } from './RendererModuleBase';\n\ntype EdgeFlashState = {\n    direction: string;\n    expiresAt: number;\n    color: string;\n    tileX: number | null;\n    tileY: number | null;\n};\n\nclass RendererEffectsManager extends RendererModuleBase {\n    edgeFlash: EdgeFlashState;\n    combatIndicatorElement: HTMLElement | null;\n    combatIndicatorTimeout: ReturnType<typeof setTimeout> | null;\n    screenFlashElement: HTMLElement | null;\n    screenFlashTimeout: ReturnType<typeof setTimeout> | null;\n\n    constructor(renderer: ConstructorParameters<typeof RendererModuleBase>[0]) {\n        super(renderer);\n        this.edgeFlash = {\n            direction: '',\n            expiresAt: 0,\r\n            color: 'rgba(255,255,255,0.35)',\r\n            tileX: null,\r\n            tileY: null\r\n        };\r\n        this.combatIndicatorElement = typeof document !== 'undefined'\r\n            ? document.getElementById('combat-indicator')\r\n            : null;\r\n        this.combatIndicatorTimeout = null;\r\n        this.screenFlashElement = typeof document !== 'undefined'\r\n            ? document.getElementById('screen-flash')\r\n            : null;\r\n        this.screenFlashTimeout = null;\r\n        if (this.combatIndicatorElement) {\r\n            this.combatIndicatorElement.classList.remove('visible');\r\n            this.combatIndicatorElement.setAttribute('data-visible', 'false');\r\n        }\r\n        if (this.screenFlashElement) {\r\n            this.screenFlashElement.classList.remove('visible');\r\n        }\r\n    }\r\n\r\n    showCombatIndicator(text: string, options: { duration?: number } = {}) {\n        const element = this.combatIndicatorElement;\r\n        if (!element) return;\r\n        const duration = Number.isFinite(options.duration)\r\n            ? Math.max(0, options.duration)\r\n            : 600;\r\n\r\n        if (this.combatIndicatorTimeout) {\r\n            clearTimeout(this.combatIndicatorTimeout);\r\n            this.combatIndicatorTimeout = null;\r\n        }\r\n\r\n        element.classList.remove('visible');\r\n        element.setAttribute('data-visible', 'false');\r\n        element.textContent = '';\r\n        void element.offsetWidth;\r\n\r\n        element.textContent = text ?? '';\r\n        element.classList.add('visible');\r\n        element.setAttribute('data-visible', 'true');\r\n\r\n        this.combatIndicatorTimeout = setTimeout(() => {\r\n            element.classList.remove('visible');\r\n            element.setAttribute('data-visible', 'false');\r\n            element.textContent = '';\r\n            this.combatIndicatorTimeout = null;\r\n        }, duration);\r\n    }\r\n\r\n    flashScreen(options: { duration?: number; intensity?: number; color?: string } = {}) {\n        const element = this.screenFlashElement;\r\n        if (!element) return;\r\n        const duration = Number.isFinite(options.duration)\r\n            ? Math.max(16, options.duration)\r\n            : 140;\r\n        if (typeof options.intensity === 'number' && Number.isFinite(options.intensity)) {\r\n            const clamped = Math.max(0, Math.min(1, options.intensity));\r\n            element.style.setProperty('--screen-flash-opacity', clamped.toString());\r\n        }\r\n        if (typeof options.color === 'string' && options.color.trim()) {\r\n            element.style.setProperty('--screen-flash-color', options.color.trim());\r\n        }\r\n        if (this.screenFlashTimeout) {\r\n            clearTimeout(this.screenFlashTimeout);\r\n            this.screenFlashTimeout = null;\r\n        }\r\n        element.classList.remove('visible');\r\n        void element.offsetWidth;\r\n        element.classList.add('visible');\r\n        this.screenFlashTimeout = setTimeout(() => {\r\n            element.classList.remove('visible');\r\n            this.screenFlashTimeout = null;\r\n        }, duration);\r\n    }\r\n\r\n    flashEdge(direction: string, options: { duration?: number; color?: string; tileX?: number; tileY?: number } = {}) {\n        if (typeof direction !== 'string' || !direction.trim()) return;\r\n        const normalizedDirection = direction.trim().toLowerCase();\r\n        const duration = Number.isFinite(options.duration)\r\n            ? Math.max(32, options.duration)\r\n            : 220;\r\n        const color = typeof options.color === 'string' && options.color.trim()\r\n            ? options.color.trim()\r\n            : 'rgba(255,255,255,0.35)';\r\n        const clampIndex = (value: number | null | undefined) => {\n            if (!Number.isFinite(value)) return null;\n            const idx = Math.floor(value);\n            return Math.max(0, Math.min(7, idx));\n        };\n        const tileX = clampIndex(options.tileX);\r\n        const tileY = clampIndex(options.tileY);\r\n        this.edgeFlash = {\r\n            direction: normalizedDirection,\r\n            expiresAt: Date.now() + duration,\r\n            color,\r\n            tileX,\r\n            tileY\r\n        };\r\n    }\r\n\r\n    drawEdgeFlash(ctx: CanvasRenderingContext2D, bounds: { width: number; height: number }) {\n        const state = this.edgeFlash;\r\n        if (!state?.direction) return;\r\n        const now = Date.now();\r\n        if (!Number.isFinite(state.expiresAt) || state.expiresAt <= now) {\r\n            this.edgeFlash.direction = '';\r\n            return;\r\n        }\r\n\r\n        const tileSize = Math.max(1, this.canvasHelper.getTilePixelSize());\r\n        const thickness = Math.max(2, Math.floor(tileSize / 4));\r\n        const highlightSize = tileSize;\r\n        const clampIndex = (value, fallback = 0) => {\r\n            if (!Number.isFinite(value)) return Math.max(0, Math.min(7, Math.floor(fallback)));\r\n            return Math.max(0, Math.min(7, Math.floor(value)));\r\n        };\r\n        const player = this.gameState.getPlayer();\r\n        const tileX = clampIndex(state.tileX, player?.x ?? 0);\r\n        const tileY = clampIndex(state.tileY, player?.y ?? 0);\r\n        ctx.save();\r\n        ctx.fillStyle = state.color || 'rgba(255,255,255,0.35)';\r\n        switch (state.direction) {\r\n            case 'left':\r\n                ctx.fillRect(0, tileY * highlightSize, thickness, highlightSize);\r\n                break;\r\n            case 'right':\r\n                ctx.fillRect(bounds.width - thickness, tileY * highlightSize, thickness, highlightSize);\r\n                break;\r\n            case 'up':\r\n                ctx.fillRect(tileX * highlightSize, 0, highlightSize, thickness);\r\n                break;\r\n            case 'down':\r\n                ctx.fillRect(tileX * highlightSize, bounds.height - thickness, highlightSize, thickness);\r\n                break;\r\n            default:\r\n                ctx.fillRect(0, 0, bounds.width, thickness);\r\n                break;\r\n        }\r\n        ctx.restore();\r\n    }\r\n}\n\nexport { RendererEffectsManager };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\adapters\\renderer\\RendererOverlayRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":5,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":5,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":6,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":6,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":10,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":10,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":11,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":11,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":52,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":52,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":55,"column":26,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":55,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":61,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":61,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":63,"column":26,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":63,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":71,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":71,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":72,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":72,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":74,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":74,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":74,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":74,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":74,"column":66,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":74,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":78,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":78,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":79,"column":37,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":79,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":80,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":80,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":81,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":81,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":87,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":87,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":87,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":99,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":99,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":103,"column":22,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":103,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":107,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":107,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":110,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":110,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":111,"column":30,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":111,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":117,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":117,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":118,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":118,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":121,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":121,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":125,"column":30,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":125,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":138,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":138,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":139,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":139,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on a type that cannot be resolved.","line":139,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":139,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":197,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":197,"endColumn":129},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":199,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":199,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":207,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":209,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":210,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":212,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":220,"column":22,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":220,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":234,"column":35,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":234,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":287,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":287,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":288,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":288,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":298,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":298,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startTime on a type that cannot be resolved.","line":298,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":298,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startTime on a type that cannot be resolved.","line":298,"column":72,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":298,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":310,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":310,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":313,"column":70,"nodeType":"Property","messageId":"anyAssignment","endLine":313,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":316,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":316,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":324,"column":22,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":324,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":330,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":330,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":331,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":331,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `PickupOverlay`.","line":340,"column":40,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":340,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":358,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":358,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `PickupOverlay | null`.","line":358,"column":45,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":358,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":376,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":376,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":397,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":397,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":442,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":442,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":446,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":446,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":465,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":465,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":520,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":520,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":521,"column":17,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":521,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [overlay.spriteType] on a type that cannot be resolved.","line":521,"column":34,"nodeType":"MemberExpression","messageId":"errorMemberExpression","endLine":521,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":535,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":535,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":537,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":539,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":540,"column":44,"nodeType":"MemberExpression","messageId":"errorCall","endLine":540,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .trim on a type that cannot be resolved.","line":540,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":540,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":540,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":540,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":557,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":557,"endColumn":123},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":557,"column":34,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":557,"endColumn":114},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":557,"column":34,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":557,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":557,"column":34,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":557,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":557,"column":34,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":557,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on an `any` value.","line":557,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":557,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .split on an `any` value.","line":557,"column":62,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":557,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on an `any` value.","line":557,"column":75,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":557,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":557,"column":92,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":557,"endColumn":106},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":557,"column":92,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":557,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .trim on an `any` value.","line":557,"column":100,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":557,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .filter on an `any` value.","line":557,"column":108,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":557,"endColumn":114},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":558,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":558,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":560,"column":17,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":560,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on an `any` value.","line":560,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":560,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":561,"column":27,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":561,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":561,"column":35,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":561,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .split on an `any` value.","line":561,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":561,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":563,"column":21,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":563,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on an `any` value.","line":563,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":563,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":564,"column":31,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":564,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":565,"column":45,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":565,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":567,"column":29,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":567,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":569,"column":29,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":569,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":575,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":575,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":579,"column":17,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":579,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":591,"column":21,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":591,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .trim on an `any` value.","line":591,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":591,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":591,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":591,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":593,"column":34,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":593,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":620,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":622,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":623,"column":22,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":623,"endColumn":33}],"suppressedMessages":[],"errorCount":96,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { TextResources } from '../TextResources';\nimport { RendererModuleBase } from './RendererModuleBase';\n\nconst getOverlayText = (key: string, fallback = '') => {\n    const value = TextResources.get(key, fallback);\r\n    return value || fallback || '';\r\n};\r\n\r\nconst formatOverlayText = (key: string, params: Record<string, unknown> = {}, fallback = '') => {\n    const value = TextResources.format(key, params, fallback);\r\n    return value || fallback || '';\r\n};\r\n\r\nclass RendererOverlayRenderer extends RendererModuleBase {\n    introData: { title: string; author: string };\n    pickupFx: { id: string | null; startTime: number };\n    pickupAnimationHandle: number;\n    levelUpAnimationHandle: number;\n\n    constructor(renderer: ConstructorParameters<typeof RendererModuleBase>[0]) {\n        super(renderer);\n        this.introData = { title: 'Tiny RPG Studio', author: '' };\n        this.pickupFx = { id: null, startTime: 0 };\r\n        this.pickupAnimationHandle = 0;\r\n        this.levelUpAnimationHandle = 0;\r\n    }\r\n\r\n    setIntroData(data: IntroDataInput = {}) {\n        this.introData = {\n            title: data.title || 'Tiny RPG Studio',\n            author: data.author || ''\n        };\n    }\n\r\n    drawIntroOverlay(ctx: CanvasRenderingContext2D, gameplayCanvas: { width: number; height: number }) {\n        this.entityRenderer.cleanupEnemyLabels();\r\n        const title = this.introData?.title || 'Tiny RPG Studio';\r\n        const author = (this.introData?.author || '').trim();\r\n        const width = gameplayCanvas.width;\r\n        const height = gameplayCanvas.height;\r\n        ctx.save();\r\n        ctx.fillStyle = 'rgba(4, 6, 14, 0.78)';\r\n        ctx.fillRect(0, 0, width, height);\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        const centerX = width / 2;\r\n        const centerY = height / 2;\r\n        ctx.fillStyle = '#FFFFFF';\r\n        ctx.font = `${Math.max(12, Math.floor(height / 12))}px monospace`;\r\n        ctx.fillText(title, centerX, centerY - height * 0.12);\r\n        if (author) {\r\n            const byline = formatOverlayText('intro.byline', { author }, `por ${author}`);\r\n            ctx.fillStyle = 'rgba(255,255,255,0.8)';\r\n            ctx.font = `${Math.max(10, Math.floor(height / 18))}px monospace`;\r\n            ctx.fillText(byline, centerX, centerY);\r\n        }\r\n\r\n        if (this.renderer?.gameEngine?.canDismissIntroScreen) {\r\n            const blink = ((Date.now() / 500) % 2) > 1 ? 0.3 : 0.95;\r\n            ctx.fillStyle = `rgba(100, 181, 246, ${blink.toFixed(2)})`;\r\n            const startLabel = getOverlayText('intro.startAdventure', 'Iniciar aventura');\r\n            ctx.font = `${Math.max(9, Math.floor(height / 20))}px monospace`;\r\n            ctx.fillText(startLabel, centerX, centerY + height * 0.18);\r\n        }\r\n\r\n        ctx.restore();\r\n    }\r\n\r\n    drawLevelUpOverlay(ctx: CanvasRenderingContext2D, gameplayCanvas: { width: number; height: number }) {\n        if (!ctx || !gameplayCanvas) return;\r\n        const overlay = this.gameState.getLevelUpOverlay?.();\r\n        if (!overlay?.active) return;\r\n        this.entityRenderer.cleanupEnemyLabels();\r\n        const choices = Array.isArray(overlay.choices) ? overlay.choices : [];\r\n        const width = gameplayCanvas.width;\r\n        const height = gameplayCanvas.height;\r\n        const centerX = width / 2;\r\n        const title = getOverlayText('skills.levelUpTitle', 'Level Up!');\r\n        const pending = Math.max(0, this.gameState.getPendingLevelUpChoices?.() || 0);\r\n        const accent = this.paletteManager.getColor(7) || '#FFF1E8';\r\n        const accentStrong = this.paletteManager.getColor(13) || accent;\r\n        const titleFont = Math.max(7, Math.floor(height / 42));\n        const pendingFont = Math.max(5, Math.floor(height / 70));\n        const layout = this.getLevelUpCardLayout({\r\n            width,\r\n            height,\r\n            choicesLength: choices.length,\r\n            hasPendingText: pending > 0,\r\n            titleFont,\r\n            pendingFont\r\n        });\r\n\r\n        ctx.save();\r\n        ctx.fillStyle = 'rgba(5, 7, 12, 0.88)';\r\n        ctx.fillRect(0, 0, width, height);\r\n\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'top';\r\n        ctx.fillStyle = accent;\r\n        const topPadding = Math.floor(height * 0.05);\r\n        ctx.font = `${titleFont}px \"Press Start 2P\", \"VT323\", monospace`;\r\n        const titleY = topPadding;\r\n        ctx.fillText(title, centerX, titleY);\r\n\r\n        let nextY = titleY + titleFont + Math.floor(height * 0.02);\r\n        if (pending > 0) {\r\n            const pendingText = formatOverlayText('skills.pendingLabel', { value: pending }, '');\r\n            if (pendingText) {\r\n                ctx.font = `${pendingFont}px monospace`;\r\n                ctx.fillStyle = accentStrong;\r\n                ctx.fillText(pendingText, centerX, nextY);\r\n                nextY += pendingFont + Math.floor(height * 0.02);\r\n            }\r\n        }\r\n        nextY += Math.floor(height * 0.06);\r\n\r\n        if (!choices.length) {\n            const allText = getOverlayText('skills.allUnlocked', '');\n            if (allText) {\n                ctx.font = `${Math.max(9, Math.floor(height / 20))}px monospace`;\n                ctx.fillStyle = accentStrong;\r\n                const centerY = layout?.cardArea\r\n                    ? layout.cardArea.cardYStart + layout.cardArea.cardHeight / 2\r\n                    : height / 2;\r\n                ctx.fillText(allText, centerX, centerY);\r\n            }\r\n            ctx.restore();\r\n            return;\r\n        }\r\n\r\n        const cardRects = layout?.rects || [];\r\n        cardRects.forEach((rect, index) => {\r\n            this.drawLevelUpCard(ctx, {\r\n                x: rect.x,\r\n                y: rect.y,\r\n                width: rect.width,\r\n                height: rect.height,\r\n                active: overlay.cursor === index,\r\n                data: choices[index]\r\n            });\r\n        });\r\n\r\n        ctx.restore();\r\n    }\r\n\r\n    getLevelUpCardLayout({\n        width = 0,\n        height = 0,\n        choicesLength = 0,\n        hasPendingText = false,\n        titleFont = null,\n        pendingFont = null\n    }: LevelUpLayoutOptions = {}) {\n        const cardCount = Math.max(1, choicesLength || 1);\r\n        const computedTitleFont = Number.isFinite(titleFont) ? titleFont : Math.max(8, Math.floor(height / 34));\r\n        const computedPendingFont = Number.isFinite(pendingFont) ? pendingFont : Math.max(6, Math.floor(height / 58));\r\n        const topPadding = Math.floor(height * 0.05);\r\n        const titleY = topPadding;\r\n        let nextY = titleY + computedTitleFont + Math.floor(height * 0.02);\r\n        if (hasPendingText) {\r\n            nextY += computedPendingFont + Math.floor(height * 0.02);\r\n        }\r\n        nextY += Math.floor(height * 0.06);\r\n\r\n        const perRow = cardCount === 2 ? 1 : cardCount;\r\n        const rows = Math.max(1, Math.ceil(cardCount / perRow));\r\n        const marginX = Math.max(4, Math.floor(width * 0.025));\r\n        const gapX = Math.max(5, Math.floor(width * 0.02));\r\n        const gapY = Math.max(6, Math.floor(height * 0.018));\r\n        const usableWidth = Math.max(70, width - marginX * 2);\r\n        const cardWidth = Math.max(105, Math.min(Math.floor(usableWidth / perRow), Math.floor(width * 0.9)));\r\n        const totalCardsWidth = cardWidth * perRow + gapX * Math.max(0, perRow - 1);\r\n        const startX = Math.round((width - totalCardsWidth) / 2);\r\n        const cardYStart = Math.round(Math.max(nextY + Math.floor(height * 0.01), height * 0.18));\r\n        const maxCardHeight = Math.max(100, Math.floor((height - cardYStart - gapY * (rows - 1)) / rows));\r\n        const cardHeight = Math.min(Math.max(100, maxCardHeight), Math.floor(height * 0.36));\r\n\r\n        const rects = Array.from({ length: cardCount }, (_, index) => {\r\n            const row = Math.floor(index / perRow);\r\n            const col = index % perRow;\r\n            const px = Math.round(startX + col * (cardWidth + gapX));\r\n            const py = Math.round(cardYStart + row * (cardHeight + gapY));\r\n            return { x: px, y: py, width: cardWidth, height: cardHeight };\r\n        });\r\n\r\n        return {\r\n            rects,\r\n            cardArea: { startX, cardYStart, cardWidth, cardHeight, gapX, gapY, perRow, rows }\r\n        };\r\n    }\r\n\r\n    drawLevelUpCard(\n        ctx: CanvasRenderingContext2D,\n        { x, y, width, height, active = false, data = null }: LevelUpCardOptions\n    ) {\n        ctx.save();\r\n        const accent = active ? (this.paletteManager.getColor(13) || '#64b5f6') : (this.paletteManager.getColor(6) || '#C2C3C7');\r\n        ctx.fillStyle = active ? 'rgba(100, 181, 246, 0.16)' : 'rgba(0, 0, 0, 0.55)';\r\n        ctx.strokeStyle = accent;\r\n        ctx.lineWidth = Math.max(2, Math.floor(width * 0.015));\r\n        ctx.shadowColor = active ? 'rgba(100, 181, 246, 0.4)' : 'rgba(0,0,0,0.35)';\r\n        ctx.shadowBlur = active ? Math.max(8, Math.floor(width * 0.05)) : Math.max(4, Math.floor(width * 0.02));\r\n        ctx.fillRect(x, y, width, height);\r\n        ctx.strokeRect(x + 0.5, y + 0.5, width - 1, height - 1);\r\n\r\n        const padding = Math.max(6, Math.floor(width * 0.05));\r\n        const name = data?.nameKey\r\n            ? getOverlayText(data.nameKey, data.id || '')\r\n            : (data?.id || '');\r\n        const description = data?.descriptionKey\r\n            ? getOverlayText(data.descriptionKey, '')\r\n            : '';\r\n\r\n        ctx.shadowColor = 'transparent';\r\n        ctx.fillStyle = '#FFFFFF';\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n        const nameFont = Math.max(8, Math.floor(height / 16));\n        ctx.font = `${nameFont}px \"Press Start 2P\", \"VT323\", monospace`;\n        ctx.fillText(name, x + padding, y + padding);\n\n        if (data?.icon) {\n            ctx.font = `${Math.max(8, Math.floor(height / 14))}px monospace`;\n            ctx.textAlign = 'right';\n            ctx.fillText(data.icon, x + width - padding, y + padding + Math.max(0, Math.floor(height * 0.02)));\n            ctx.textAlign = 'left';\n        }\n\n        ctx.font = `${Math.max(7, Math.floor(height / 22))}px monospace`;\n        ctx.fillStyle = 'rgba(255,255,255,0.9)';\n        const descTopGap = Math.max(5, Math.floor(height * 0.06));\n        const textY = y + padding + nameFont + descTopGap;\n        const lineHeight = Math.max(8, Math.floor(height / 20));\n        this.drawWrappedText(ctx, description, x + padding, textY, width - padding * 2, lineHeight, 2);\n\r\n        ctx.restore();\r\n    }\r\n\r\n    drawWrappedText(\n        ctx: CanvasRenderingContext2D,\n        text: string,\n        x: number,\n        y: number,\n        maxWidth: number,\n        lineHeight: number,\n        maxLines: number | null = null\n    ) {\n        if (!ctx || !text) return;\r\n        const words = text.split(/\\s+/).filter(Boolean);\r\n        let line = '';\r\n        let offsetY = y;\r\n        let linesDrawn = 0;\r\n        for (let i = 0; i < words.length; i++) {\r\n            const word = words[i];\r\n            const candidate = line ? `${line} ${word}` : word;\r\n            const metrics = ctx.measureText(candidate);\r\n            const wouldOverflow = metrics.width > maxWidth && line;\r\n            const hitMaxLines = maxLines && linesDrawn >= maxLines - 1;\r\n            if (wouldOverflow || hitMaxLines) {\r\n                ctx.fillText(line, x, offsetY);\r\n                line = word;\r\n                offsetY += lineHeight;\r\n                linesDrawn += 1;\r\n                if (maxLines && linesDrawn >= maxLines) {\r\n                    const remaining = words.slice(i).join(' ');\r\n                    const truncated = `${remaining}`.slice(0, 32).trim();\r\n                    const suffix = truncated ? `${truncated}...` : '...';\r\n                    ctx.fillText(suffix, x, offsetY);\r\n                    return;\r\n                }\r\n            } else {\r\n                line = candidate;\r\n            }\r\n        }\r\n        if (line) {\r\n            ctx.fillText(line, x, offsetY);\r\n        }\r\n    }\r\n\r\n    drawLevelUpOverlayFull(ctx: CanvasRenderingContext2D) {\n        if (!ctx?.canvas) return;\r\n        this.drawLevelUpOverlay(ctx, { width: ctx.canvas.width, height: ctx.canvas.height });\r\n    }\r\n\r\n    drawLevelUpCelebrationOverlay(ctx: CanvasRenderingContext2D, gameplayCanvas: { width: number; height: number }) {\n        if (!ctx || !gameplayCanvas) return;\r\n        const overlay = this.gameState.getLevelUpCelebration?.();\r\n        if (!overlay?.active) {\r\n            this.stopLevelUpAnimationLoop();\r\n            return;\r\n        }\r\n        this.ensureLevelUpAnimationLoop();\r\n        this.entityRenderer.cleanupEnemyLabels();\r\n\r\n        const width = gameplayCanvas.width;\r\n        const height = gameplayCanvas.height;\r\n        const now = this.getNow();\r\n        const startTime = Number.isFinite(overlay.startTime) ? overlay.startTime : now;\r\n        const elapsed = Math.max(0, (now - startTime) / 1000);\r\n        const minSide = Math.min(width, height);\r\n        const baseSize = Math.floor(minSide * 0.62);\r\n        const popIn = this.easeOutBack(Math.min(1, elapsed / 0.42));\r\n        const wobble = 1 + Math.sin(elapsed * 5.2) * 0.035;\r\n        const size = Math.round(baseSize * (0.76 + popIn * 0.22) * wobble);\r\n        const centerX = width / 2;\r\n        const centerY = height / 2;\r\n        const floatY = Math.sin(elapsed * 2.1) * 6;\r\n        const boxX = Math.round(centerX - size / 2);\r\n        const boxY = Math.round(centerY - size / 2 + floatY);\r\n        const accent = this.paletteManager.getColor(13) || '#F8E7A1';\r\n\r\n        ctx.save();\r\n        this.drawPickupFrame(ctx, { x: boxX, y: boxY, size, elapsed, accent });\r\n        ctx.restore();\r\n\r\n        const title = getOverlayText('player.levelUp', 'Level Up!');\r\n\r\n        ctx.save();\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        const titleFont = Math.max(12, Math.floor(height / 12));\r\n        ctx.font = `${titleFont}px \"Press Start 2P\", \"VT323\", monospace`;\r\n        ctx.fillStyle = '#FFF1E8';\r\n        ctx.fillText(title, centerX, centerY + floatY);\r\n        ctx.restore();\r\n    }\r\n\r\n    drawPickupOverlay(ctx: CanvasRenderingContext2D, gameplayCanvas: { width: number; height: number }) {\n        if (!ctx || !gameplayCanvas) return;\r\n        const overlay = this.gameState.getPickupOverlay?.();\r\n        if (!overlay?.active) {\r\n            this.stopPickupAnimationLoop();\r\n            return;\r\n        }\r\n        this.ensurePickupAnimationLoop();\r\n\r\n        const width = gameplayCanvas.width;\r\n        const height = gameplayCanvas.height;\r\n        const now = this.getNow();\r\n        const fx = this.ensurePickupFx(overlay, now);\r\n        const elapsed = Math.max(0, (now - fx.startTime) / 1000);\r\n        const minSide = Math.min(width, height);\r\n        const baseSize = Math.floor(minSide * 0.62);\r\n        const popIn = this.easeOutBack(Math.min(1, elapsed / 0.35));\r\n        const wobble = 1 + Math.sin(elapsed * 5.2) * 0.04;\r\n        const size = Math.round(baseSize * (0.78 + popIn * 0.22) * wobble);\r\n        const centerX = width / 2;\r\n        const centerY = height / 2;\r\n        const floatY = Math.sin(elapsed * 2.4) * 6;\r\n\r\n        const boxX = Math.round(centerX - size / 2);\r\n        const boxY = Math.round(centerY - size / 2 + floatY);\r\n\r\n        ctx.save();\r\n        this.drawPickupFrame(ctx, { x: boxX, y: boxY, size, elapsed });\r\n        ctx.restore();\r\n\r\n        const sprite = this.getPickupSprite(overlay);\r\n        if (sprite) {\r\n            const spriteArea = Math.floor(size * 0.48);\r\n            const baseStep = Math.max(2, Math.floor(spriteArea / 8));\r\n            const popScale = 1 + Math.sin(elapsed * 8.2) * 0.1;\r\n            const step = Math.max(2, Math.floor(baseStep * popScale));\r\n            const spriteSize = step * 8;\r\n            const spriteX = Math.round(centerX - spriteSize / 2);\r\n            const spriteY = Math.round(boxY + size / 2 - spriteSize / 2);\r\n            this.canvasHelper.drawSprite(ctx, sprite, spriteX, spriteY, step);\r\n        }\r\n\r\n    }\r\n\r\n    drawPickupFrame(\n        ctx: CanvasRenderingContext2D,\n        { x, y, size, elapsed = 0, accent = null }: { x: number; y: number; size: number; elapsed?: number; accent?: string | null }\n    ) {\n        const accentColor = accent || this.paletteManager.getColor(2) || '#FFF1E8';\r\n        ctx.save();\r\n        const gradient = ctx.createLinearGradient(x, y, x + size, y + size);\r\n        gradient.addColorStop(0, 'rgba(7, 11, 26, 0.96)');\r\n        gradient.addColorStop(0.55, 'rgba(14, 25, 48, 0.96)');\r\n        gradient.addColorStop(1, 'rgba(9, 14, 32, 0.96)');\r\n        ctx.fillStyle = gradient;\r\n        ctx.fillRect(x, y, size, size);\r\n\r\n        ctx.shadowColor = 'rgba(0, 0, 0, 0.45)';\r\n        ctx.shadowBlur = Math.max(10, Math.floor(size * 0.08));\r\n        ctx.shadowOffsetY = Math.max(4, Math.floor(size * 0.02));\r\n\r\n        const border = Math.max(2, Math.floor(size * 0.025));\r\n        ctx.lineWidth = border;\r\n        ctx.strokeStyle = `rgba(255, 241, 232, ${(0.35 + 0.25 * Math.sin(elapsed * 4)).toFixed(2)})`;\r\n        ctx.strokeRect(x + border / 2, y + border / 2, size - border, size - border);\r\n\r\n        const innerPad = Math.max(10, Math.floor(size * 0.08));\r\n        const stripeHeight = Math.max(6, Math.floor(size * 0.05));\r\n        ctx.globalAlpha = 0.18;\r\n        ctx.fillStyle = accentColor;\r\n        ctx.fillRect(x + innerPad, y + innerPad, size - innerPad * 2, stripeHeight);\r\n        ctx.fillRect(x + innerPad, y + size - innerPad - stripeHeight, size - innerPad * 2, stripeHeight);\r\n        ctx.restore();\r\n    }\r\n\r\n    drawPickupRings(\n        ctx: CanvasRenderingContext2D,\n        { centerX, centerY, size, elapsed = 0 }: { centerX: number; centerY: number; size: number; elapsed?: number }\n    ) {\n        ctx.save();\r\n        const primaryRadius = size * 0.35 + Math.sin(elapsed * 3.2) * size * 0.05;\r\n        const lineWidth = Math.max(2, Math.floor(size * 0.02));\r\n        const alpha = 0.35 + 0.15 * Math.sin(elapsed * 5.4);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = `rgba(255, 241, 232, ${alpha.toFixed(2)})`;\r\n        for (let i = 0; i < 2; i++) {\r\n            ctx.beginPath();\r\n            ctx.arc(centerX, centerY, primaryRadius + i * size * 0.07, 0, Math.PI * 2);\r\n            ctx.stroke();\r\n        }\r\n        ctx.globalAlpha = 0.18;\r\n        ctx.fillStyle = 'rgba(100, 181, 246, 0.5)';\r\n        ctx.beginPath();\r\n        ctx.arc(centerX, centerY, primaryRadius * 0.65, 0, Math.PI * 2);\r\n        ctx.fill();\r\n        ctx.restore();\r\n    }\r\n\r\n    ensurePickupFx(overlay: PickupOverlay, now = this.getNow()) {\n        const id = `${overlay.spriteGroup || ''}:${overlay.spriteType || ''}:${overlay.name || ''}`;\n        if (this.pickupFx.id !== id) {\n            this.pickupFx = {\n                id,\n                startTime: now\n            };\n        }\n        return this.pickupFx;\n    }\n\r\n    ensureLevelUpAnimationLoop() {\n        if (this.levelUpAnimationHandle) return;\r\n        const step = () => {\r\n            if (!this.gameState.isLevelUpCelebrationActive?.()) {\r\n                this.stopLevelUpAnimationLoop();\r\n                this.renderer?.draw?.();\r\n                return;\r\n            }\r\n            this.levelUpAnimationHandle = this.schedulePickupFrame(step);\r\n            this.renderer?.draw?.();\r\n        };\r\n        this.levelUpAnimationHandle = this.schedulePickupFrame(step);\r\n    }\r\n\r\n    stopLevelUpAnimationLoop() {\n        if (!this.levelUpAnimationHandle) return;\r\n        this.cancelPickupFrame(this.levelUpAnimationHandle);\r\n        this.levelUpAnimationHandle = 0;\r\n    }\r\n\r\n    ensurePickupAnimationLoop() {\n        if (this.pickupAnimationHandle) return;\r\n        const step = () => {\r\n            if (!this.gameState.isPickupOverlayActive?.()) {\r\n                this.stopPickupAnimationLoop();\r\n                return;\r\n            }\r\n            this.pickupAnimationHandle = this.schedulePickupFrame(step);\r\n            this.renderer?.draw?.();\r\n        };\r\n        this.pickupAnimationHandle = this.schedulePickupFrame(step);\r\n    }\r\n\r\n    stopPickupAnimationLoop() {\n        if (!this.pickupAnimationHandle) return;\r\n        this.cancelPickupFrame(this.pickupAnimationHandle);\r\n        this.pickupAnimationHandle = 0;\r\n    }\r\n\r\n    schedulePickupFrame(fn: () => void) {\n        if (typeof requestAnimationFrame === 'function') {\r\n            return requestAnimationFrame(fn);\r\n        }\r\n        return setTimeout(fn, 1000 / 30);\r\n    }\r\n\r\n    cancelPickupFrame(id: number) {\n        if (typeof cancelAnimationFrame === 'function') {\r\n            cancelAnimationFrame(id);\r\n        } else {\r\n            clearTimeout(id);\r\n        }\r\n    }\r\n\r\n    easeOutBack(t = 0) {\n        const c1 = 1.70158;\r\n        const c3 = c1 + 1;\r\n        const clamped = this.clamp(t, 0, 1);\r\n        return 1 + c3 * Math.pow(clamped - 1, 3) + c1 * Math.pow(clamped - 1, 2);\r\n    }\r\n\r\n    easeOutQuad(t = 0) {\n        const clamped = this.clamp(t, 0, 1);\r\n        return 1 - (1 - clamped) * (1 - clamped);\r\n    }\r\n\r\n    clamp(v: number, min: number, max: number) {\n        return Math.max(min, Math.min(max, v));\r\n    }\r\n\r\n    getNow() {\n        if (typeof performance !== 'undefined' && performance.now) {\r\n            return performance.now();\r\n        }\r\n        return Date.now();\r\n    }\r\n\r\n    getPickupSprite(overlay: PickupOverlay | null = null) {\n        if (!overlay?.spriteGroup) return null;\n        const factory = this.spriteFactory;\n        if (!factory) return null;\n        switch (overlay.spriteGroup) {\r\n            case 'object': {\r\n                const sprites = factory.getObjectSprites();\r\n                return sprites?.[overlay.spriteType] || null;\r\n            }\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    drawGameOverScreen() {\n        const ctx = this.ctx;\r\n        if (!ctx) return;\r\n        this.entityRenderer.cleanupEnemyLabels();\r\n        ctx.save();\r\n        ctx.fillStyle = '#000000';\r\n        ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n        const reason = this.gameState.getGameOverReason();\r\n        const isVictory = reason === 'victory';\r\n        const endingText = isVictory\r\n            ? (this.gameState.getActiveEndingText() || '')\r\n            : '';\r\n        const hasEndingText = isVictory && endingText.trim().length > 0;\r\n\r\n        const centerX = Math.round(this.canvas.width / 2) + 0.5;\r\n        const centerY = Math.round(this.canvas.height / 2) + 0.5;\r\n        if (hasEndingText) {\r\n            ctx.save();\r\n            const padding = Math.floor(this.canvas.width * 0.08);\r\n            const availableWidth = Math.max(32, this.canvas.width - padding * 2);\r\n            const messageFontSize = Math.max(7, Math.floor(this.canvas.height / 30));\n            const lineHeight = Math.round(messageFontSize * 1.4);\r\n            const textFont = `${messageFontSize}px \"Press Start 2P\", \"VT323\", monospace`;\n            ctx.font = textFont;\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'top';\n            ctx.fillStyle = '#F8FAFC';\n\r\n            const wrapLines = (text) => {\n                const sections = text.replace(/\\r\\n/g, '\\n').split(/\\n+/).map((section) => section.trim()).filter(Boolean);\n                if (!sections.length) return [];\n                const lines = [];\n                sections.forEach((section, index) => {\r\n                    const words = section.split(/\\s+/);\r\n                    let current = '';\r\n                    words.forEach((word) => {\r\n                        const next = current ? `${current} ${word}` : word;\r\n                        if (ctx.measureText(next).width > availableWidth && current) {\r\n                            lines.push(current);\r\n                            current = word;\r\n                        } else {\r\n                            current = next;\r\n                        }\r\n                    });\r\n                    if (current) {\r\n                        lines.push(current);\r\n                    }\r\n                    if (index < sections.length - 1) {\r\n                        lines.push('');\r\n                    }\r\n                });\r\n                return lines.length ? lines : [''];\r\n            };\r\n\r\n            const lines = wrapLines(endingText);\r\n            const totalHeight = lines.length * lineHeight;\r\n            const offset = Math.max(lineHeight, Math.floor(messageFontSize * 1.2));\r\n            let startY = Math.max(padding, Math.floor(centerY - totalHeight - offset));\r\n            if (!Number.isFinite(startY)) {\r\n                startY = padding;\r\n            }\r\n            let cursorY = startY;\r\n            lines.forEach((line) => {\r\n                if (line.trim().length) {\n                    const alignedY = Math.round(cursorY) + 0.5;\n                    ctx.fillText(line, centerX, alignedY);\n                }\n                cursorY += lineHeight;\n            });\n            ctx.restore();\r\n        }\r\n\r\n        ctx.fillStyle = '#FFFFFF';\r\n        let fontSize = Math.max(5, Math.floor(this.canvas.height / 22));\n        const endFont = `${fontSize}px \"Press Start 2P\", monospace`;\n        ctx.font = endFont;\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.fillText(isVictory ? 'The End' : 'Game Over', centerX, centerY);\n\r\n        if (!this.gameState.canResetAfterGameOver) {\r\n            ctx.restore();\r\n            return;\r\n        }\r\n        ctx.save();\r\n        const blink = ((Date.now() / 500) % 2) > 1 ? 0.3 : 0.95;\r\n        ctx.fillStyle = `rgba(100, 181, 246, ${blink.toFixed(2)})`;\r\n        fontSize = Math.max(4, Math.floor(this.canvas.height / 26));\n        ctx.font = `${fontSize}px \"Press Start 2P\", monospace`;\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        const retryY = Math.round(this.canvas.height / 1.5) + 0.5;\n        const reviveLabel = this.gameState.hasNecromancerReviveReady?.()\n            ? getOverlayText('skills.necromancer.revivePrompt', '')\n            : getOverlayText(isVictory ? 'gameOver.retryVictory' : 'gameOver.retryDefeat', '');\n        ctx.fillText(reviveLabel, centerX, retryY);\n        ctx.restore();\r\n        ctx.restore();\r\n    }\r\n\r\n}\n\nexport { RendererOverlayRenderer };\n\ntype IntroDataInput = {\n    title?: string;\n    author?: string;\n};\n\ntype SkillChoice = {\n    id?: string;\n    nameKey?: string;\n    descriptionKey?: string;\n    icon?: string;\n};\n\ntype PickupOverlay = {\n    active?: boolean;\n    name?: string;\n    spriteGroup?: string;\n    spriteType?: string;\n};\n\ntype LevelUpLayoutOptions = {\n    width?: number;\n    height?: number;\n    choicesLength?: number;\n    hasPendingText?: boolean;\n    titleFont?: number | null;\n    pendingFont?: number | null;\n};\n\ntype LevelUpCardOptions = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    active?: boolean;\n    data?: SkillChoice | null;\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\adapters\\renderer\\RendererTransitionManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":82,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":82,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":97,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":97,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":147,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":147,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bg on a type that cannot be resolved.","line":147,"column":87,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":147,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":165,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":167,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":167,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":167,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":168,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":168,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on a type that cannot be resolved.","line":168,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":168,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"The type of computed name [roomIndex] cannot be resolved.","line":168,"column":55,"nodeType":"Identifier","messageId":"errorComputedMemberAccess","endLine":168,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":169,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":169,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bg on a type that cannot be resolved.","line":169,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":169,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":171,"column":42,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":171,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":182,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":182,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":188,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":188,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":194,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":194,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":198,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":198,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ground on a type that cannot be resolved.","line":198,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":198,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string | number`.","line":200,"column":47,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":200,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":202,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":202,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .overlay on a type that cannot be resolved.","line":202,"column":35,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":202,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string | number`.","line":204,"column":47,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":204,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":209,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":209,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":214,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":214,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on a type that cannot be resolved.","line":214,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":214,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":216,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":216,"endColumn":36}],"suppressedMessages":[],"errorCount":25,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { RendererModuleBase } from './RendererModuleBase';\n\ntype TransitionState = {\n    active: boolean;\n    direction?: string;\n    fromFrame?: HTMLCanvasElement;\n    toFrame?: HTMLCanvasElement;\n    duration?: number;\n    startTime?: number;\n    playerPath?: PlayerPath | null;\n    onComplete?: (() => void) | null;\n    rafId?: number | null;\n};\n\ntype TileCoords = {\n    x: number;\n    y: number;\n    roomIndex?: number;\n};\n\ntype PlayerPath = {\n    from: TileCoords;\n    to: TileCoords;\n    facingLeft?: boolean;\n};\n\ntype TransitionOptions = {\n    fromFrame?: HTMLCanvasElement;\n    toFrame?: HTMLCanvasElement;\n    direction?: 'left' | 'right' | 'up' | 'down';\n    duration?: number;\n    playerPath?: PlayerPath | null;\n    onComplete?: (() => void) | null;\n};\n\nclass RendererTransitionManager extends RendererModuleBase {\n    transition: TransitionState;\n\n    constructor(renderer: ConstructorParameters<typeof RendererModuleBase>[0]) {\n        super(renderer);\n        this.transition = { active: false };\n    }\n\n    isActive() {\n        return Boolean(this.transition?.active);\n    }\n\n    start(options: TransitionOptions = {}) {\n        const fromFrame = options.fromFrame;\n        const toFrame = options.toFrame;\n        if (!fromFrame || !toFrame) {\n            options.onComplete?.();\n            return false;\n        }\n        const direction = options.direction || 'right';\n        const duration = Number.isFinite(options.duration)\n            ? Math.max(120, options.duration)\n            : 320;\n        const now = performance.now();\n\n        if (this.transition?.rafId) {\n            globalThis.cancelAnimationFrame?.(this.transition.rafId);\n        }\n\n        this.removePlayerFromFrame(fromFrame, options.playerPath?.from);\n        this.removePlayerFromFrame(toFrame, options.playerPath?.to);\n\n        this.transition = {\n            active: true,\n            direction,\n            fromFrame,\n            toFrame,\n            duration,\n            startTime: now,\n            playerPath: options.playerPath || null,\n            onComplete: options.onComplete ?? null,\n            rafId: null\n        };\n\n        this.gameState.pauseGame('room-transition');\n\n        this.renderer.draw();\n        this.scheduleTick();\n        return true;\n    }\n\n    scheduleTick() {\n        const tick = () => {\n            if (!this.isActive()) {\n                return;\n            }\n            const progress = this.getProgress();\n            if (progress >= 1) {\n                this.finish();\n                return;\n            }\n            this.renderer.draw();\n            this.transition.rafId = globalThis.requestAnimationFrame(tick);\n        };\n        this.transition.rafId = globalThis.requestAnimationFrame(tick);\n    }\n\n    getProgress() {\n        if (!this.transition?.active) {\n            return 1;\n        }\n        const now = performance.now();\n        const elapsed = now - this.transition.startTime;\n        return Math.max(0, Math.min(1, elapsed / this.transition.duration));\n    }\n\n    drawFrame(ctx: CanvasRenderingContext2D, gameplayCanvas: { width: number; height: number }) {\n        const transition = this.transition;\n        if (!transition?.active) return;\n        const width = gameplayCanvas.width;\n        const height = gameplayCanvas.height;\n        const progress = this.getProgress();\n        const deltaX = progress * width;\n        const deltaY = progress * height;\n        let fromX = 0;\n        let fromY = 0;\n        let toX = 0;\n        let toY = 0;\n        switch (transition.direction) {\n            case 'left':\n                fromX = deltaX;\n                toX = deltaX - width;\n                break;\n            case 'right':\n                fromX = -deltaX;\n                toX = width - deltaX;\n                break;\n            case 'up':\n                fromY = deltaY;\n                toY = deltaY - height;\n                break;\n            case 'down':\n                fromY = -deltaY;\n                toY = height - deltaY;\n                break;\n            default:\n                fromX = -deltaX;\n                toX = width - deltaX;\n                break;\n        }\n        ctx.save();\n        ctx.fillStyle = this.paletteManager.getColor(this.gameState.getCurrentRoom()?.bg ?? 0);\n        ctx.fillRect(0, 0, width, height);\n        ctx.drawImage(transition.fromFrame, Math.round(fromX), Math.round(fromY));\n        ctx.drawImage(transition.toFrame, Math.round(toX), Math.round(toY));\n        this.drawTransitionPlayer(ctx, gameplayCanvas, progress);\n        ctx.restore();\n        if (progress >= 1) {\n            this.finish();\n        }\n    }\n\n    removePlayerFromFrame(frameCanvas: HTMLCanvasElement, coords: TileCoords | null | undefined) {\n        if (!frameCanvas || !coords) return;\n        const ctx = frameCanvas.getContext('2d');\n        if (!ctx) return;\n        const tileSize = Math.max(1, Math.floor(frameCanvas.width / 8));\n        const tileX = Math.max(0, Math.min(7, Math.floor(coords.x ?? 0)));\n        const tileY = Math.max(0, Math.min(7, Math.floor(coords.y ?? 0)));\n        const roomIndex = Number.isFinite(coords.roomIndex)\n            ? coords.roomIndex\n            : (this.gameState.getPlayer()?.roomIndex ?? 0);\n        const room = this.gameState.getGame().rooms?.[roomIndex];\n        ctx.fillStyle = this.paletteManager.getColor(room?.bg ?? 0);\n        ctx.fillRect(tileX * tileSize, tileY * tileSize, tileSize, tileSize);\n        this.drawTileStackOnContext(ctx, roomIndex, tileX, tileY, tileSize);\n    }\n\n    drawTransitionPlayer(ctx: CanvasRenderingContext2D, gameplayCanvas: { width: number; height: number }, progress: number) {\n        const transition = this.transition;\n        const path = transition?.playerPath;\n        if (!path?.from || !path?.to) return;\n        const tileSize = Math.max(1, Math.floor(gameplayCanvas.width / 8));\n        const step = tileSize / 8;\n        const x = path.from.x + (path.to.x - path.from.x) * progress;\n        const y = path.from.y + (path.to.y - path.from.y) * progress;\n        let sprite = this.spriteFactory.getPlayerSprite();\n        let facingLeft = path.facingLeft;\n        if (facingLeft === undefined) {\n            facingLeft = path.to.x < path.from.x;\n        }\n        if (facingLeft) {\n            sprite = this.spriteFactory.turnSpriteHorizontally(sprite);\n        }\n        this.canvasHelper.drawSprite(ctx, sprite, x * tileSize, y * tileSize, step);\n    }\n\n    drawTileStackOnContext(ctx: CanvasRenderingContext2D, roomIndex: number, tileX: number, tileY: number, tileSize: number) {\n        const tileMap = this.tileManager.getTileMap(roomIndex);\n        if (!tileMap) return;\n        const px = tileX * tileSize;\n        const py = tileY * tileSize;\n        const groundId = tileMap.ground?.[tileY]?.[tileX] ?? null;\n        if (groundId !== null && groundId !== undefined) {\n            this.drawTilePixelsOnContext(ctx, groundId, px, py, tileSize);\n        }\n        const overlayId = tileMap.overlay?.[tileY]?.[tileX] ?? null;\n        if (overlayId !== null && overlayId !== undefined) {\n            this.drawTilePixelsOnContext(ctx, overlayId, px, py, tileSize);\n        }\n    }\n\n    drawTilePixelsOnContext(ctx: CanvasRenderingContext2D, tileId: string | number, px: number, py: number, size: number) {\n        const pixels = this.tileManager.getTilePixels(tileId);\n        if (!pixels) return;\n        const step = Math.max(1, Math.floor(size / 8));\n        for (let y = 0; y < 8; y++) {\n            for (let x = 0; x < 8; x++) {\n                const col = pixels[y]?.[x];\n                if (!col || col === 'transparent') continue;\n                ctx.fillStyle = col;\n                ctx.fillRect(px + x * step, py + y * step, step, step);\n            }\n        }\n    }\n\n    finish() {\n        if (!this.transition?.active) return;\n        if (this.transition.rafId) {\n            globalThis.cancelAnimationFrame?.(this.transition.rafId);\n        }\n        const callback = this.transition.onComplete;\n        this.transition = { active: false };\n        this.gameState.resumeGame('room-transition');\n        callback?.();\n    }\n}\n\nexport { RendererTransitionManager };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\GameState.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":172,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":172,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":176,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":176,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":180,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":180,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":202,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":202,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":206,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":206,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":210,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":210,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":222,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":222,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":230,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":230,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":240,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":240,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":244,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":244,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":245,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":245,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":252,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":252,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":253,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":253,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":256,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":256,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":260,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":260,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":267,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":267,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":275,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":275,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":425,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":425,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":433,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":433,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":445,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":445,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":449,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":449,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":453,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":453,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":455,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":455,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":459,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":459,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":471,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":471,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":479,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":479,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":533,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":533,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":537,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":537,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":549,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":549,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":553,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":553,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":561,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":561,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":565,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":565,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":582,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":582,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":586,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":586,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":590,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":590,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":594,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":594,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":598,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":598,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":602,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":602,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":606,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":606,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":696,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":697,"endColumn":115},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":699,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":699,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":830,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":830,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":850,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":850,"endColumn":51}],"suppressedMessages":[],"errorCount":43,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { SkillDefinitions } from './definitions/SkillDefinitions';\r\nimport { GameStateLifecycle } from './state/GameStateLifecycle';\r\nimport { GameStateScreenManager } from './state/GameStateScreenManager';\r\nimport { GameStateDataFacade } from './state/GameStateDataFacade';\r\nimport { GameStateWorldFacade } from './state/GameStateWorldFacade';\r\nimport { StateDataManager } from './state/StateDataManager';\r\nimport { StateDialogManager } from './state/StateDialogManager';\r\nimport { StateEnemyManager } from './state/StateEnemyManager';\r\nimport { StateItemManager } from './state/StateItemManager';\r\nimport { StateObjectManager } from './state/StateObjectManager';\r\nimport { StatePlayerManager } from './state/StatePlayerManager';\r\nimport { StateSkillManager } from './state/StateSkillManager';\r\nimport { StateVariableManager } from './state/StateVariableManager';\r\nimport { StateWorldManager } from './state/StateWorldManager';\r\nimport type { TileMap, Tileset } from './definitions/tileTypes';\r\nimport type {\r\n    AnyRecord,\r\n    EnemyDefinition,\r\n    GameDefinition,\r\n    LevelUpCelebrationHideOptions,\r\n    LevelUpCelebrationOptions,\r\n    LevelUpCelebrationState,\r\n    LevelUpOverlayState,\r\n    LevelUpResult,\r\n    PickupOverlayOptions,\r\n    PickupOverlayState,\r\n    PlayerRuntimeState,\r\n    ReviveSnapshot,\r\n    RuntimeState,\r\n    TestSettings\r\n} from '../../types/gameState';\r\n/**\r\n * GameState stores the persistent game definition and runtime state.\r\n */\r\nclass GameState {\r\n    game: GameDefinition;\r\n    state: RuntimeState;\r\n    testSettings: TestSettings;\r\n    worldManager: StateWorldManager;\r\n    variableManager: StateVariableManager;\r\n    objectManager: StateObjectManager;\r\n    enemyManager: StateEnemyManager;\r\n    skillManager: StateSkillManager;\r\n    playerManager: StatePlayerManager;\r\n    dialogManager: StateDialogManager;\r\n    itemManager: StateItemManager;\r\n    worldFacade: GameStateWorldFacade;\r\n    screenManager: GameStateScreenManager;\r\n    dataManager: StateDataManager;\r\n    dataFacade: GameStateDataFacade;\r\n    playing: boolean;\r\n    lifecycle: GameStateLifecycle;\r\n    reviveSnapshot: ReviveSnapshot | null;\r\n    editorMode: boolean;\r\n\r\n    constructor() {\r\n        const worldRows = 3;\r\n        const worldCols = 3;\r\n        const roomSize = 8;\r\n        const totalRooms = worldRows * worldCols;\r\n\r\n        const tileMaps: TileMap[] = Array.from({ length: totalRooms }, () =>\r\n            StateWorldManager.createEmptyTileMap(roomSize) as TileMap\r\n        );\r\n        const tileset: Tileset = {\r\n            tiles: [],\r\n            maps: tileMaps,\r\n            map: tileMaps[0] || StateWorldManager.createEmptyTileMap(roomSize)\r\n        };\r\n\r\n        this.game = {\r\n            title: \"My Tiny RPG Game\",\r\n            author: \"\",\r\n            palette: ['#000000', '#1D2B53', '#FFF1E8'],\r\n            roomSize,\r\n            world: {\r\n                rows: worldRows,\r\n                cols: worldCols\r\n            },\r\n            rooms: StateWorldManager.createWorldRooms(worldRows, worldCols, roomSize),\r\n            start: { x: 1, y: 1, roomIndex: 0 },\r\n            sprites: [],\r\n            enemies: [],\r\n            items: [],\r\n            objects: [],\r\n            variables: [],\r\n            exits: [],\r\n            tileset\r\n        } as GameDefinition;\r\n\r\n        this.state = {\r\n            player: {\r\n                x: 1,\r\n                y: 1,\r\n                lastX: 1,\r\n                roomIndex: 0,\r\n                level: 1,\r\n                maxLives: 3,\r\n                currentLives: 3,\r\n                lives: 3,\r\n                keys: 0,\r\n                experience: 0,\r\n                damageShield: 0,\r\n                damageShieldMax: 0,\r\n                swordType: null,\r\n                lastDamageReduction: 0,\r\n                godMode: false\r\n            },\r\n            dialog: { active: false, text: \"\", page: 1, maxPages: 1, meta: null },\r\n            enemies: [],\r\n            variables: [],\r\n            gameOver: false,\r\n            gameOverReason: null,\r\n            pickupOverlay: {\r\n                active: false,\r\n                name: '',\r\n                spriteGroup: null,\r\n                spriteType: null,\r\n                effect: null\r\n            },\r\n            levelUpOverlay: {\r\n                active: false,\r\n                choices: [],\r\n                cursor: 0\r\n            },\r\n            levelUpCelebration: {\r\n                active: false,\r\n                level: null,\r\n                startTime: 0,\r\n                timeoutId: null,\r\n                durationMs: 3000\r\n            },\r\n            skillRuntime: null\r\n        } as RuntimeState;\r\n        this.testSettings = this.createDefaultTestSettings();\r\n\r\n        this.worldManager = new StateWorldManager(this.game, roomSize);\r\n        this.variableManager = new StateVariableManager(this.game, this.state);\r\n        this.objectManager = new StateObjectManager(this.game, this.worldManager, this.variableManager);\r\n        this.enemyManager = new StateEnemyManager(this.game, this.state, this.worldManager);\r\n        this.skillManager = new StateSkillManager(this.state);\r\n        this.playerManager = new StatePlayerManager(this.state, this.worldManager, this.skillManager);\r\n        this.playerManager.setSkillManager?.(this.skillManager);\r\n        this.dialogManager = new StateDialogManager(this.state);\r\n        this.itemManager = new StateItemManager(this.game);\r\n        this.worldFacade = new GameStateWorldFacade(this, this.worldManager);\r\n        this.screenManager = new GameStateScreenManager(this);\r\n        this.dataManager = new StateDataManager({\r\n            game: this.game,\r\n            worldManager: this.worldManager,\r\n            objectManager: this.objectManager,\r\n            variableManager: this.variableManager\r\n        });\r\n        this.dataFacade = new GameStateDataFacade(this, this.dataManager);\r\n        this.playing = false;\r\n        this.lifecycle = new GameStateLifecycle(this, this.screenManager, { timeToResetAfterGameOver: 2000 });\r\n        this.ensureDefaultVariables();\r\n        this.resetGame();\r\n        this.reviveSnapshot = null;\r\n\r\n        this.editorMode = false;\r\n        document.addEventListener('game-tab-activated', () => {\r\n            this.setEditorMode(false);\r\n        });\r\n        document.addEventListener('editor-tab-activated', () => {\r\n            this.setEditorMode(true);\r\n        });\r\n    }\r\n\r\n    createEmptyRoom(size: number, index = 0, cols = 1): AnyRecord {\r\n        return this.worldFacade.createEmptyRoom(size, index, cols);\r\n    }\r\n\r\n    createWorldRooms(rows: number, cols: number, size: number): AnyRecord[] {\r\n        return this.worldFacade.createWorldRooms(rows, cols, size);\r\n    }\r\n\r\n    createEmptyTileMap(size: number): TileMap {\r\n        return this.worldFacade.createEmptyTileMap(size);\r\n    }\r\n\r\n    getGame(): GameDefinition {\r\n        return this.game;\r\n    }\r\n\r\n    getState(): RuntimeState {\r\n        return this.state;\r\n    }\r\n\r\n    getCurrentRoom(): AnyRecord {\r\n        const index = this.worldManager.clampRoomIndex(this.state.player.roomIndex);\r\n        this.state.player.roomIndex = index;\r\n        return this.game.rooms[index];\r\n    }\r\n\r\n    getPlayer(): PlayerRuntimeState | null {\r\n        return this.playerManager.getPlayer() as PlayerRuntimeState | null;\r\n    }\r\n\r\n    getSkills(): string[] {\r\n        return this.skillManager.getOwnedSkills();\r\n    }\r\n\r\n    hasSkill(skillId: string): boolean {\r\n        return this.skillManager.hasSkill(skillId);\r\n    }\r\n\r\n    getPendingLevelUpChoices(): number {\r\n        return this.skillManager.getPendingSelections();\r\n    }\r\n\r\n    getMaxPlayerLevel(): number {\r\n        return this.playerManager?.maxLevel ?? 1;\r\n    }\r\n\r\n    isLevelUpOverlayActive(): boolean {\r\n        return this.skillManager.isOverlayActive();\r\n    }\r\n\r\n    getLevelUpOverlay(): LevelUpOverlayState {\r\n        return this.skillManager.getOverlay();\r\n    }\r\n\r\n    startLevelUpSelectionIfNeeded(): void {\r\n        if (this.isLevelUpCelebrationActive()) {\r\n            return;\r\n        }\r\n        if (this.skillManager.hasPendingSelections() && !this.skillManager.isOverlayActive()) {\r\n            const started = this.skillManager.startLevelSelection();\r\n            if (started) {\r\n                this.pauseGame('level-up');\r\n            }\r\n        }\r\n    }\r\n\r\n    queueLevelUpChoices(count = 1, latestLevel: number | null = null): number {\r\n        this.skillManager.queueLevelUps(count, latestLevel);\r\n        this.startLevelUpSelectionIfNeeded();\r\n        return this.skillManager.getPendingSelections();\r\n    }\r\n\r\n    moveLevelUpCursor(delta = 0): number {\r\n        const cursor = this.skillManager.moveCursor(delta);\r\n        return cursor;\r\n    }\r\n\r\n    selectLevelUpSkill(index: number | null = null): AnyRecord | null {\r\n        if (!this.skillManager.isOverlayActive()) {\r\n            return null;\r\n        }\r\n        const choice = this.skillManager.completeSelection(index);\r\n        if (choice?.id === 'max-life') {\r\n            this.playerManager.healToFull();\r\n        }\r\n        if (choice?.id === 'xp-boost') {\r\n            // XP boost applies passively; no extra action needed.\r\n        }\r\n        if (this.skillManager.hasPendingSelections()) {\r\n            const started = this.skillManager.startLevelSelection();\r\n            if (started) {\r\n                this.pauseGame('level-up');\r\n            }\r\n        } else {\r\n            this.resumeGame('level-up');\r\n        }\r\n        return choice;\r\n    }\r\n\r\n    consumeRecentReviveFlag(): boolean {\r\n        return this.skillManager.consumeRecentReviveFlag();\r\n    }\r\n\r\n    getDialog(): AnyRecord {\r\n        return this.dialogManager.getDialog();\r\n    }\r\n\r\n    setPlayerPosition(x: number, y: number, roomIndex: number | null = null) {\r\n        this.playerManager.setPosition(x, y, roomIndex);\r\n    }\r\n\r\n    setDialog(active: boolean, text: string = \"\", meta: AnyRecord | null = null): void {\r\n        this.dialogManager.setDialog(active, text, meta);\r\n    }\r\n\r\n    setDialogPage(page: number): void {\r\n        this.dialogManager.setPage(page);\r\n    }\r\n\r\n    setEditorMode(active = false): void {\r\n        this.editorMode = Boolean(active);\r\n    }\r\n\r\n    isEditorModeActive(): boolean {\r\n        return Boolean(this.editorMode);\r\n    }\r\n\r\n    createDefaultTestSettings(): TestSettings {\r\n        return {\r\n            startLevel: 1,\r\n            skills: [],\r\n            godMode: false\r\n        };\r\n    }\r\n\r\n    getTestSettings(): TestSettings {\r\n        if (!this.testSettings) {\r\n            this.testSettings = this.createDefaultTestSettings();\r\n        }\r\n        return {\r\n            startLevel: Number.isFinite(this.testSettings.startLevel)\r\n                ? Math.floor(this.testSettings.startLevel)\r\n                : 1,\r\n            skills: Array.isArray(this.testSettings.skills) ? this.testSettings.skills.slice() : [],\r\n            godMode: Boolean(this.testSettings.godMode)\r\n        };\r\n    }\r\n\r\n    setTestSettings(settings: Partial<TestSettings> = {}): TestSettings {\r\n        const current = this.getTestSettings();\r\n        const maxLevel = this.playerManager?.maxLevel ?? 10;\r\n        const requestedStart = settings.startLevel;\r\n        const startLevel = typeof requestedStart === 'number' && Number.isFinite(requestedStart)\r\n            ? Math.max(1, Math.min(maxLevel, Math.floor(requestedStart)))\r\n            : current.startLevel;\r\n\r\n        const allSkills = (typeof SkillDefinitions !== 'undefined'\r\n            ? SkillDefinitions.getAll?.() || []\r\n            : []) as Array<{ id: string }>;\r\n        const validSkillIds = new Set(\r\n            allSkills.map((skill) => skill.id).filter((id): id is string => typeof id === 'string')\r\n        );\r\n        const requestedSkills: string[] = Array.isArray(settings.skills)\r\n            ? settings.skills\r\n                .map((id) => (typeof id === 'string' ? id : null))\r\n                .filter((id): id is string => typeof id === 'string' && validSkillIds.has(id))\r\n            : current.skills;\r\n        const skills = Array.from(new Set<string>(requestedSkills));\r\n        const godMode = settings.godMode !== undefined ? Boolean(settings.godMode) : current.godMode;\r\n\r\n        this.testSettings = { startLevel, skills, godMode };\r\n        return this.getTestSettings();\r\n    }\r\n\r\n    applyTestSettingsRuntime(): void {\r\n        const settings = this.getTestSettings();\r\n        const startLevel = Number.isFinite(settings.startLevel) ? settings.startLevel : 1;\r\n        if (this.playerManager?.setLevel) {\r\n            this.playerManager.setLevel(startLevel);\r\n        }\r\n        if (Array.isArray(settings.skills) && settings.skills.length) {\r\n            settings.skills.forEach((id) => this.skillManager?.addSkill?.(id));\r\n        }\r\n        this.playerManager?.ensurePlayerStats?.();\r\n        this.playerManager?.setGodMode?.(settings.godMode);\r\n    }\r\n\r\n    resetGame(): void {\r\n        this.screenManager.reset();\r\n        this.skillManager.resetRuntime();\r\n        this.playerManager.reset(this.game.start);\r\n        this.dialogManager.reset();\r\n        this.enemyManager.resetRuntime();\r\n        this.variableManager.resetRuntime();\r\n        this.itemManager.resetItems();\r\n        this.objectManager.resetRuntime();\r\n        this.objectManager.ensurePlayerStartObject();\r\n        this.applyTestSettingsRuntime();\r\n        this.setGameOver(false);\r\n        this.hidePickupOverlay();\r\n        this.clearNecromancerRevive();\r\n        this.hideLevelUpCelebration({ skipResume: true });\r\n        this.resumeGame('game-over');\r\n    }\r\n\r\n    exportGameData(): unknown {\r\n        return this.dataFacade.exportGameData();\r\n    }\r\n\r\n    importGameData(data: unknown): void {\r\n        this.dataFacade.importGameData(data);\r\n    }\r\n\r\n    normalizeRooms(rooms: unknown, totalRooms: number, cols: number): unknown {\r\n        return this.worldFacade.normalizeRooms(rooms, totalRooms, cols);\r\n    }\r\n\r\n    normalizeTileMaps(source: unknown, totalRooms: number): unknown {\r\n        return this.worldFacade.normalizeTileMaps(source, totalRooms);\r\n    }\r\n\r\n    normalizeObjects(objects: unknown): unknown {\r\n        return this.objectManager.normalizeObjects(objects);\r\n    }\r\n\r\n    cloneEnemies(enemies: unknown): unknown {\r\n        return this.enemyManager.cloneEnemies(enemies);\r\n    }\r\n\r\n    generateObjectId(type: string, roomIndex: number): string {\r\n        return this.objectManager.generateObjectId(type, roomIndex);\r\n    }\r\n\r\n    getObjects(): unknown {\r\n        return this.objectManager.getObjects();\r\n    }\r\n\r\n    getObjectsForRoom(roomIndex: number): unknown {\r\n        return this.objectManager.getObjectsForRoom(roomIndex);\r\n    }\r\n\r\n    getObjectAt(roomIndex: number, x: number, y: number): unknown {\r\n        return this.objectManager.getObjectAt(roomIndex, x, y);\r\n    }\r\n\r\n    setObjectPosition(type: string, roomIndex: number, x: number, y: number): unknown {\r\n        return this.objectManager.setObjectPosition(type, roomIndex, x, y);\r\n    }\r\n\r\n    removeObject(type: string, roomIndex: number): void {\r\n        this.objectManager.removeObject(type, roomIndex);\r\n    }\r\n\r\n    setObjectVariable(type: string, roomIndex: number, variableId: string | null) {\r\n        return this.objectManager.setObjectVariable(type, roomIndex, variableId);\r\n    }\r\n\r\n    setPlayerEndText(roomIndex: number, text: string): string {\r\n        return this.objectManager.setPlayerEndText(roomIndex, text);\r\n    }\r\n\r\n    getPlayerEndText(roomIndex: number | null = null): string {\r\n        return this.objectManager.getPlayerEndText(roomIndex);\r\n    }\r\n\r\n    setActiveEndingText(text = ''): string {\r\n        return this.screenManager.setActiveEndingText(text);\r\n    }\r\n\r\n    getActiveEndingText(): string {\r\n        return this.screenManager.getActiveEndingText();\r\n    }\r\n\r\n    addKeys(amount = 1) {\r\n        return this.playerManager.addKeys(amount);\r\n    }\r\n\r\n    addLife(amount = 1) {\r\n        return this.playerManager.gainLives(amount);\r\n    }\r\n\r\n    addBonusMaxLife(amount = 1) {\r\n        const bonus = this.skillManager.addBonusMaxLife?.(amount);\r\n        this.healPlayerToFull();\r\n        return bonus;\r\n    }\r\n\r\n    addDamageShield(amount = 1, type = null) {\r\n        return this.playerManager.addDamageShield(amount, type);\r\n    }\r\n\r\n    getDamageShield() {\r\n        return this.playerManager.getDamageShield();\r\n    }\r\n\r\n    getDamageShieldMax() {\r\n        return this.playerManager.getDamageShieldMax();\r\n    }\r\n\r\n    getSwordType() {\r\n        return this.playerManager.getSwordType();\r\n    }\r\n\r\n    consumeKey() {\r\n        return this.playerManager.consumeKey();\r\n    }\r\n\r\n    getKeys() {\r\n        return this.playerManager.getKeys();\r\n    }\r\n\r\n    getMaxKeys() {\r\n        return this.playerManager.getMaxKeys();\r\n    }\r\n\r\n    consumeLastDamageReduction() {\r\n        return this.playerManager.consumeLastDamageReduction();\r\n    }\r\n\r\n    ensureDefaultVariables(): unknown {\r\n        return this.variableManager.ensureDefaultVariables();\r\n    }\r\n\r\n    cloneVariables(list: unknown[]): unknown {\r\n        return this.variableManager.cloneVariables(list);\r\n    }\r\n\r\n    normalizeVariables(source: unknown): unknown {\r\n        return this.variableManager.normalizeVariables(source);\r\n    }\r\n\r\n    getVariableDefinitions(): unknown {\r\n        return this.variableManager.getVariableDefinitions();\r\n    }\r\n\r\n    getVariables(): unknown {\r\n        return this.variableManager.getVariables();\r\n    }\r\n\r\n    normalizeVariableId(variableId: string | number | null | undefined): string | null {\r\n        return this.variableManager.normalizeVariableId(variableId);\r\n    }\r\n\r\n    getVariable(variableId: string | number | null | undefined): unknown {\r\n        return this.variableManager.getVariable(variableId);\r\n    }\r\n\r\n    isVariableOn(variableId: string | number | null | undefined): boolean {\r\n        return this.variableManager.isVariableOn(variableId);\r\n    }\r\n\r\n    setVariableValue(variableId: string | number, value: unknown, persist = false): [boolean, boolean] {\r\n        const success = this.variableManager.setVariableValue(variableId, value, persist);\r\n        let openedMagicDoor = false;\r\n        if (success) {\r\n            openedMagicDoor = this.objectManager.checkOpenedMagicDoor(variableId, value);\r\n            this.objectManager.syncSwitchState?.(variableId, value);\r\n        }\r\n        return [success, openedMagicDoor];\r\n    }\r\n\r\n    getEnemies(): EnemyDefinition[] {\r\n        return this.enemyManager.getEnemies();\r\n    }\r\n\r\n    getEnemyDefinitions(): EnemyDefinition[] {\r\n        return this.enemyManager.getEnemyDefinitions();\r\n    }\r\n\r\n    clampRoomIndex(value: number): number {\r\n        return this.worldManager.clampRoomIndex(value);\r\n    }\r\n\r\n    clampCoordinate(value: number): number {\r\n        return this.worldManager.clampCoordinate(value);\r\n    }\r\n\r\n    getWorldRows(): number {\r\n        return this.worldManager.getWorldRows();\r\n    }\r\n\r\n    getWorldCols(): number {\r\n        return this.worldManager.getWorldCols();\r\n    }\r\n\r\n    getRoomCoords(index: number): { row: number; col: number } {\r\n        return this.worldManager.getRoomCoords(index);\r\n    }\r\n\r\n    getRoomIndex(row: number, col: number): number | null {\r\n        return this.worldManager.getRoomIndex(row, col);\r\n    }\r\n\r\n    addEnemy(enemy: EnemyDefinition): string | null {\r\n        return this.enemyManager.addEnemy(enemy);\r\n    }\r\n\r\n    removeEnemy(enemyId: string | number): void {\r\n        this.enemyManager.removeEnemy(enemyId);\r\n    }\r\n\r\n    setEnemyPosition(enemyId: string | number, x: number, y: number, roomIndex: number | null = null): void {\r\n        this.enemyManager.setEnemyPosition(enemyId, x, y, roomIndex);\r\n    }\r\n\r\n    setEnemyVariable(enemyId: string | number, variableId: string | null = null): boolean {\r\n        const normalized = this.normalizeVariableId(variableId);\r\n        return this.enemyManager.setEnemyVariable(enemyId, normalized);\r\n    }\r\n\r\n    damagePlayer(amount = 1) {\r\n        return this.playerManager.damage(amount);\r\n    }\r\n\r\n    isPlayerOnDamageCooldown() {\r\n        return this.playerManager.isOnDamageCooldown();\r\n    }\r\n\r\n    getLives() {\r\n        return this.playerManager.getLives();\r\n    }\r\n\r\n    getMaxLives() {\r\n        return this.playerManager.getMaxLives();\r\n    }\r\n\r\n    getLevel() {\r\n        return this.playerManager.getLevel();\r\n    }\r\n\r\n    healPlayerToFull() {\r\n        return this.playerManager.healToFull();\r\n    }\r\n\r\n    getExperience() {\r\n        return this.playerManager.getExperience();\r\n    }\r\n\r\n    getExperienceToNext() {\r\n        return this.playerManager.getExperienceToNext();\r\n    }\r\n\r\n    addExperience(amount = 0): LevelUpResult | null {\r\n        const result = this.playerManager.addExperience(amount);\r\n        return this.processLevelUpResult(result);\r\n    }\r\n\r\n    handleEnemyDefeated(experienceReward = 0): LevelUpResult | null {\r\n        const result = this.playerManager.handleEnemyDefeated(experienceReward);\r\n        return this.processLevelUpResult(result);\r\n    }\r\n\r\n    processLevelUpResult(result: LevelUpResult | null = null): LevelUpResult | null {\r\n        if (result?.leveledUp) {\r\n            this.showLevelUpCelebration(result.level ?? null);\r\n            const levelCount =\r\n                typeof result.levelsGained === 'number' && Number.isFinite(result.levelsGained)\r\n                    ? Math.max(1, Math.floor(result.levelsGained))\r\n                    : 1;\r\n            this.queueLevelUpChoices(levelCount, result.level ?? null);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getPickupOverlay(): PickupOverlayState {\r\n        if (!this.state.pickupOverlay) {\r\n            this.state.pickupOverlay = {\r\n                active: false,\r\n                name: '',\r\n                spriteGroup: null,\r\n                spriteType: null,\r\n                effect: null\r\n            };\r\n        }\r\n        return this.state.pickupOverlay;\r\n    }\r\n\r\n    showPickupOverlay(options: PickupOverlayOptions = {}): void {\r\n        const overlay = this.getPickupOverlay();\r\n        overlay.active = true;\r\n        overlay.name = options.name || options.title || '';\r\n        overlay.spriteGroup = options.spriteGroup || null;\r\n        overlay.spriteType = options.spriteType || null;\r\n        overlay.effect = typeof options.effect === 'function' ? options.effect : null;\r\n        this.pauseGame('pickup-overlay');\r\n    }\r\n\r\n    hidePickupOverlay(): void {\r\n        const overlay = this.getPickupOverlay();\r\n        if (!overlay.active) return;\r\n        overlay.active = false;\r\n        const effect = overlay.effect;\r\n        overlay.effect = null;\r\n        overlay.name = '';\r\n        overlay.spriteGroup = null;\r\n        overlay.spriteType = null;\r\n        if (typeof effect === 'function') {\r\n            try {\r\n                effect();\r\n            } catch (err) {\r\n                console.error('Pickup overlay effect error:', err);\r\n            }\r\n        }\r\n        this.resumeGame('pickup-overlay');\r\n    }\r\n\r\n    isPickupOverlayActive(): boolean {\r\n        return Boolean(this.getPickupOverlay().active);\r\n    }\r\n\r\n    getLevelUpCelebration(): LevelUpCelebrationState {\r\n        if (!this.state.levelUpCelebration) {\r\n            this.state.levelUpCelebration = {\r\n                active: false,\r\n                level: null,\r\n                startTime: 0,\r\n                timeoutId: null,\r\n                durationMs: 3000\r\n            };\r\n        }\r\n        return this.state.levelUpCelebration;\r\n    }\r\n\r\n    showLevelUpCelebration(level: number | null = null, options: LevelUpCelebrationOptions = {}): void {\r\n        const overlay = this.getLevelUpCelebration();\r\n        const numericLevel =\r\n            typeof level === 'number' && Number.isFinite(level) ? Math.max(1, Math.floor(level)) : this.getLevel();\r\n        overlay.active = true;\r\n        overlay.level = numericLevel;\r\n        overlay.startTime = this.getNow();\r\n        const durationSetting = options.durationMs;\r\n        overlay.durationMs =\r\n            typeof durationSetting === 'number' && Number.isFinite(durationSetting)\r\n                ? Math.max(300, Math.floor(durationSetting))\r\n                : overlay.durationMs || 3000;\r\n        if (overlay.timeoutId !== null) {\r\n            clearTimeout(overlay.timeoutId);\r\n            overlay.timeoutId = null;\r\n        }\r\n        const duration = overlay.durationMs || 3000;\r\n        overlay.timeoutId = setTimeout(() => this.hideLevelUpCelebration(), duration);\r\n        this.pauseGame('level-up-celebration');\r\n    }\r\n\r\n    hideLevelUpCelebration({ skipResume = false }: LevelUpCelebrationHideOptions = {}): void {\r\n        const overlay = this.getLevelUpCelebration();\r\n        if (overlay.timeoutId !== null) {\r\n            clearTimeout(overlay.timeoutId);\r\n            overlay.timeoutId = null;\r\n        }\r\n        const wasActive = overlay.active;\r\n        overlay.active = false;\r\n        overlay.level = null;\r\n        overlay.startTime = 0;\r\n        overlay.durationMs = overlay.durationMs || 3000;\r\n        if (wasActive && !skipResume) {\r\n            this.resumeGame('level-up-celebration');\r\n            this.startLevelUpSelectionIfNeeded();\r\n        }\r\n    }\r\n\r\n    isLevelUpCelebrationActive(): boolean {\r\n        return Boolean(this.getLevelUpCelebration().active);\r\n    }\r\n\r\n    getNow(): number {\r\n        if (typeof performance !== 'undefined' && performance.now) {\r\n            return performance.now();\r\n        }\r\n        return Date.now();\r\n    }\r\n\r\n    enableGameOverInteraction(): void {\r\n        this.screenManager.clearGameOverCooldown?.();\r\n        this.screenManager.canResetAfterGameOver = true;\r\n    }\r\n\r\n    prepareNecromancerRevive(): boolean {\r\n        if (!this.skillManager.hasPendingManualRevive?.()) {\r\n            return false;\r\n        }\r\n        this.reviveSnapshot = this.captureReviveSnapshot();\r\n        return Boolean(this.reviveSnapshot);\r\n    }\r\n\r\n    hasNecromancerReviveReady(): boolean {\r\n        return Boolean(this.skillManager.hasPendingManualRevive?.() && this.reviveSnapshot);\r\n    }\r\n\r\n    reviveFromNecromancer(): boolean {\r\n        if (!this.hasNecromancerReviveReady()) return false;\r\n        const restored = this.restoreReviveSnapshot(this.reviveSnapshot);\r\n        this.reviveSnapshot = null;\r\n        if (!restored) {\r\n            return false;\r\n        }\r\n        const consumed = this.skillManager.consumeManualRevive?.();\r\n        if (!consumed) {\r\n            return false;\r\n        }\r\n        if (this.state?.player) {\r\n            const maxLives = Number.isFinite(this.state.player.maxLives)\r\n                ? Math.max(1, Math.floor(this.state.player.maxLives))\r\n                : 1;\r\n            this.state.player.currentLives = maxLives;\r\n            this.state.player.lives = maxLives;\r\n        }\r\n        this.lifecycle.setGameOver(false);\r\n        this.lifecycle.resumeGame('game-over');\r\n        this.screenManager.clearGameOverCooldown?.();\r\n        return true;\r\n    }\r\n\r\n    clearNecromancerRevive(): void {\r\n        this.reviveSnapshot = null;\r\n        this.skillManager.clearManualReviveFlag?.();\r\n    }\r\n\r\n    captureReviveSnapshot(): ReviveSnapshot | null {\r\n        try {\r\n            const gameCopy = this.safeClone(this.game);\r\n            const stateCopy = this.safeClone(this.state);\r\n            return { game: gameCopy, state: stateCopy };\r\n        } catch (err) {\r\n            console.error('Failed to capture revive snapshot', err);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    restoreReviveSnapshot(snapshot: ReviveSnapshot | null = null): boolean {\r\n        if (!snapshot?.game || !snapshot?.state) return false;\r\n        try {\r\n            this.assignData(this.game, snapshot.game);\r\n            this.assignData(this.state, snapshot.state);\r\n            this.worldManager.setGame?.(this.game);\r\n            this.objectManager.setGame?.(this.game);\r\n            this.variableManager.setGame?.(this.game);\r\n            this.itemManager.setGame?.(this.game);\r\n            return true;\r\n        } catch (err) {\r\n            console.error('Failed to restore revive snapshot', err);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    assignData(target: AnyRecord | null | undefined, source: AnyRecord | null | undefined): void {\r\n        if (!target || !source) return;\r\n        Object.keys(target).forEach((key) => {\r\n            delete target[key];\r\n        });\r\n        Object.keys(source).forEach((key) => {\r\n            target[key] = this.safeClone(source[key]);\r\n        });\r\n    }\r\n\r\n    safeClone<T>(value: T): T {\r\n        if (typeof structuredClone === 'function') {\r\n            return structuredClone(value);\r\n        }\r\n        return JSON.parse(JSON.stringify(value));\r\n    }\r\n\r\n    pauseGame(reason = 'manual'): void {\r\n        this.lifecycle.pauseGame(reason);\r\n    }\r\n\r\n    resumeGame(reason = 'manual'): void {\r\n        this.lifecycle.resumeGame(reason);\r\n    }\r\n\r\n    setGameOver(active = true, reason = 'defeat'): void {\r\n        this.lifecycle.setGameOver(active, reason);\r\n    }\r\n\r\n    isGameOver(): boolean {\r\n        return this.lifecycle.isGameOver();\r\n    }\r\n\r\n    getGameOverReason(): string | null {\r\n        return this.lifecycle.getGameOverReason();\r\n    }\r\n\r\n    get canResetAfterGameOver(): boolean {\r\n        return this.screenManager.canResetAfterGameOver;\r\n    }\r\n}\r\n\r\nexport { GameState };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\definitions\\SkillDefinitions.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":69,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":69,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":79,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":79,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":102,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":102,"endColumn":22}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { Skill } from '../entities/Skill';\nimport type { SkillDefinitionData } from '../entities/Skill';\n\n/**\n * SkillDefinitions centralizes the available level-up skills.\n */\nclass SkillDefinitions {\n    static SKILL_DEFINITION_DATA: SkillDefinitionData[] = [\n        {\n            id: 'keyless-doors',\n            nameKey: 'skills.keylessDoors.name',\n            descriptionKey: 'skills.keylessDoors.desc',\n            icon: ''\n        },\n        {\n            id: 'charisma',\n            nameKey: 'skills.charisma.name',\n            descriptionKey: 'skills.charisma.desc',\n            icon: ''\n        },\n        {\n            id: 'necromancer',\n            nameKey: 'skills.necromancer.name',\n            descriptionKey: 'skills.necromancer.desc',\n            icon: ''\n        },\n        {\n            id: 'stealth',\n            nameKey: 'skills.stealth.name',\n            descriptionKey: 'skills.stealth.desc',\n            icon: ''\n        },\n        {\n            id: 'lava-walker',\n            nameKey: 'skills.lavaWalker.name',\n            descriptionKey: 'skills.lavaWalker.desc',\n            icon: ''\n        },\n        {\n            id: 'potion-master',\n            nameKey: 'skills.potionMaster.name',\n            descriptionKey: 'skills.potionMaster.desc',\n            icon: ''\n        },\n    ];\n\n    static SKILLS: Skill[] = SkillDefinitions.SKILL_DEFINITION_DATA.map((entry) => new Skill(entry));\n\n    static LEVEL_SKILLS = {\n        2: ['necromancer', 'charisma'],\n        4: ['stealth'],\n        6: ['potion-master'],\n        8: ['lava-walker'],\n        10: ['keyless-doors']\n    };\n\n    static getAll(): Skill[] {\n        return this.SKILLS;\n    }\n\n    static getById(id: string | null | undefined): Skill | null {\n        if (typeof id !== 'string' || !id) return null;\n        return this.SKILLS.find((skill) => skill.id === id) || null;\n    }\n\n    static getSkillsForLevel(level: number): string[] {\n        const numeric = Number.isFinite(level) ? Math.max(1, Math.floor(level)) : 1;\n        const list = this.LEVEL_SKILLS[numeric] || [];\n        if (!Array.isArray(list)) return [];\n        const unique = [];\n        list.forEach((id) => {\n            if (typeof id !== 'string' || !id) return;\n            if (!this.getById(id)) return;\n            if (!unique.includes(id)) {\n                unique.push(id);\n            }\n        });\n        return unique;\n    }\n\n    static buildQueueForLevel(level: number, carryover: string[] = [], owned: string[] = []) {\n        const normalizedCarry = Array.isArray(carryover) ? carryover : [];\n        const ownedSet = new Set(Array.isArray(owned) ? owned : []);\n        const base = this.getSkillsForLevel(level);\n        const queue = [];\n        [...normalizedCarry, ...base].forEach((id) => {\n            if (typeof id !== 'string' || !id) return;\n            if (ownedSet.has(id)) return;\n            if (!this.getById(id)) return;\n            if (!queue.includes(id)) {\n                queue.push(id);\n            }\n        });\n        if (!queue.length) {\n            this.getAll().forEach((skill) => {\n                if (!ownedSet.has(skill.id) && !queue.includes(skill.id)) {\n                    queue.push(skill.id);\n                }\n            });\n        }\n        return queue;\n    }\n\n    static pickRandom(count = 2, exclude: string[] = []) {\n        const normalized = Array.isArray(exclude) ? exclude : [];\n        const pool = this.getAll().filter((skill) => !normalized.includes(skill.id));\n        if (!pool.length) return [];\n        const shuffled = this.shuffle(pool);\n        return shuffled.slice(0, Math.max(1, Math.min(count, shuffled.length)));\n    }\n\n    static shuffle(list: Skill[]): Skill[] {\n        const arr = Array.isArray(list) ? list.slice() : [];\n        for (let i = arr.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [arr[i], arr[j]] = [arr[j], arr[i]];\n        }\n        return arr;\n    }\n}\n\nexport { SkillDefinitions };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\definitions\\TileDefinitions.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":50,"column":48,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":50,"endColumn":67}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { Tile } from '../entities/Tile';\nimport type { TileDefinitionData, TileFrame } from '../entities/Tile';\n\n/**\n * TileDefinitions centraliza a paleta PICO-8 e os tiles padro.\n */\nclass TileDefinitions {\n    static PICO8_COLORS = Object.freeze([\r\n        \"#000000\",\r\n        \"#1D2B53\",\r\n        \"#7E2553\",\r\n        \"#008751\",\r\n        \"#AB5236\",\r\n        \"#5F574F\",\r\n        \"#C2C3C7\",\r\n        \"#FFF1E8\",\r\n        \"#FF004D\",\r\n        \"#FFA300\",\r\n        \"#FFFF27\",\r\n        \"#00E756\",\r\n        \"#29ADFF\",\r\n        \"#83769C\",\r\n        \"#FF77A8\",\r\n        \"#FFCCAA\"\r\n    ]);\r\n\r\n    static createTile(\n        id: number,\n        name: string,\n        layouts: (number | null)[][][] | (number | null)[][],\n        collision = false,\n        category = 'Diversos'\n    ) {\n        const layoutList = Array.isArray(layouts) ? layouts.filter(Boolean) : [layouts];\n        const frames = (layoutList.length ? layoutList : [this.createEmptyLayout()])\n            .map((layout) => this.toPixels(layout));\n        const data: TileDefinitionData = {\n            id,\n            name,\n            pixels: frames[0] as TileFrame,\n            frames: frames as TileFrame[],\n            collision,\n            category\n        };\n        return new Tile(data);\n    }\n\r\n    static createEmptyLayout() {\n        return Array.from({ length: 8 }, () => Array(8).fill(null));\n    }\n\n    static toPixels(layout: (number | null)[][]): TileFrame {\n        return layout.map((row) =>\n            row.map((value) => (value === null ? 'transparent' : (this.PICO8_COLORS[value] ?? 'transparent')))\n        );\n    }\n\n    static tile(\n        index: number,\n        name: string,\n        layout: (number | null)[][],\n        collision = false,\n        category = 'Diversos',\n        alternateLayout: (number | null)[][] | null = null\n    ) {\n        const layouts = [layout];\n        if (Array.isArray(alternateLayout)) {\n            layouts.push(alternateLayout);\n        }\n        return this.createTile(index, name, layouts, collision, category);\n    }\n\n    static TILE_PRESETS: Tile[] = [\n        this.tile(0, 'Grama Vibrante', [\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ]\r\n        ], false, 'Terreno'),\r\n\r\n        this.tile(1, 'Grama Alta', [\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3, 11,  3,  3 ],\r\n            [  3,  3,  3,  3, 11,  3, 11,  3 ],\r\n            [  3, 11,  3,  3,  3,  3,  3,  3 ],\r\n            [ 11,  3, 11,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ]\r\n        ], false, 'Terreno', [\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3, 11,  3 ],\r\n            [  3,  3,  3,  3,  3, 11,  3, 11 ],\r\n            [  3,  3, 11,  3,  3,  3,  3,  3 ],\r\n            [  3, 11,  3, 11,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ]\r\n        ]),\r\n\r\n        this.tile(2, 'Trilha de Terra', [\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ],\r\n            [  4,  9,  4,  4,  4,  4,  4,  4 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ],\r\n            [  4,  4,  4,  4,  4,  4,  9,  4 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ],\r\n            [  4,  4,  4,  9,  4,  4,  4,  4 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ]\r\n        ], false, 'Terreno'),\r\n\r\n        this.tile(3, 'Cascalho', [\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  5,  5,  3,  3,  3,  3,  3 ],\r\n            [  5,  6,  6,  5,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  5,  3,  3 ],\r\n            [  3,  3,  3,  3,  5,  6,  5,  3 ],\r\n            [  3,  3,  3,  5,  6,  6,  5,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ],\r\n            [  3,  3,  3,  3,  3,  3,  3,  3 ]\r\n        ], false, 'Terreno'),\r\n\r\n        this.tile(4, 'Areia Macia', [\r\n            [15, 15, 15, 15, 15, 15, 15, 15],\r\n            [15, 15, 10, 15, 15, 10, 15, 15],\r\n            [15, 15, 15, 15, 15, 15, 15, 15],\r\n            [15, 10, 15, 15, 15, 15, 10, 15],\r\n            [15, 15, 15, 15, 15, 15, 15, 15],\r\n            [15, 15, 10, 15, 15, 10, 15, 15],\r\n            [15, 15, 15, 15, 15, 15, 15, 15],\r\n            [15, 10, 15, 15, 15, 15, 10, 15]\r\n        ], false, 'Terreno'),\r\n\r\n        this.tile(16, 'Piso de madeira', [\r\n            [  5,  5,  4,  4,  5,  5,  4,  4 ],\r\n            [  5,  5,  4,  4,  5,  5,  4,  4 ],\r\n            [  4,  4,  5,  5,  4,  4,  5,  5 ],\r\n            [  4,  4,  5,  5,  4,  4,  5,  5 ],\r\n            [  5,  5,  4,  4,  5,  5,  4,  4 ],\r\n            [  5,  5,  4,  4,  5,  5,  4,  4 ],\r\n            [  4,  4,  5,  5,  4,  4,  5,  5 ],\r\n            [  4,  4,  5,  5,  4,  4,  5,  5 ]\r\n        ], false, 'Terreno'),\r\n\r\n        this.tile(17, 'Piso de pedra', [\r\n            [ 13,  5,  5,  5,  5, 13,  5,  5 ],\r\n            [  5,  5, 13,  5,  5,  5, 13,  5 ],\r\n            [  5, 13,  5, 13,  5,  5,  5,  5 ],\r\n            [  5,  5,  5, 13,  5,  5,  5,  5 ],\r\n            [  5,  5,  5,  5,  5,  5,  5, 13 ],\r\n            [  5,  5,  5,  5,  5,  5,  5, 13 ],\r\n            [ 13,  5,  5,  5, 13,  5,  5,  5 ],\r\n            [ 13,  5,  5,  5,  5, 13,  5, 13 ]\r\n        ], false, 'Terreno'),\r\n\r\n        this.tile(5, 'Agua Brilhante', [\r\n            [ 12, 12, 12, 12, 12, 12, 12,  7 ],\r\n            [ 12,  7, 12, 12, 12, 12, 12, 12 ],\r\n            [  7,  6,  7, 12, 12, 12, 12, 12 ],\r\n            [ 12, 12, 12, 12, 12, 12, 12, 12 ],\r\n            [ 12, 12, 12, 12, 12,  7, 12, 12 ],\r\n            [ 12, 12, 12, 12,  7, 12,  7,  6 ],\r\n            [ 12,  7, 12, 12, 12, 12, 12, 12 ],\r\n            [ 12, 12, 12, 12, 12, 12, 12, 12 ]\r\n        ], true, 'Agua', [\r\n            [ 12, 12, 12, 12, 12, 12, 12, 12 ],\r\n            [ 12,  7, 12, 12, 12, 12,  7, 12 ],\r\n            [ 12, 12, 12, 12, 12,  7, 12,  7 ],\r\n            [ 12, 12,  6,  7, 12, 12, 12, 12 ],\r\n            [  7, 12, 12, 12, 12, 12, 12, 12 ],\r\n            [ 12,  7, 12, 12, 12, 12, 12,  7 ],\r\n            [ 12, 12, 12, 12,  6,  7, 12, 12 ],\r\n            [ 12, 12, 12, 12, 12, 12, 12, 12 ]\r\n        ]),\r\n\r\n        this.tile(6, 'Lava Borbulhante', [\r\n            [ 10, 10,  8,  8,  8,  8,  9,  8 ],\r\n            [  8, 10,  9, 10,  9,  9,  8,  8 ],\r\n            [  9,  9, 10,  9,  9, 10,  9, 10 ],\r\n            [  8,  8,  8,  8,  9, 10, 10,  8 ],\r\n            [  8,  8,  8,  8,  8,  8,  8,  8 ],\r\n            [  8,  9, 10,  8,  8, 10,  9,  8 ],\r\n            [  8, 10,  9, 10,  9, 10,  8,  8 ],\r\n            [ 10,  8,  8,  8,  8,  8,  9,  8 ]\r\n        ], true, 'Perigo', [\r\n            [  9, 10,  8,  8, 10,  8,  9,  8 ],\r\n            [  8,  9, 10,  9,  9, 10,  8,  8 ],\r\n            [  9, 10,  9, 10,  9, 10,  9,  8 ],\r\n            [  8,  8, 10,  8,  9,  9, 10,  8 ],\r\n            [  8,  8,  8,  8,  8,  9,  8,  8 ],\r\n            [  8, 10,  9,  8, 10,  8,  9,  8 ],\r\n            [ 10,  9, 10,  9, 10,  9,  8,  8 ],\r\n            [ 10,  8,  8,  9,  8,  8, 10,  8 ]\r\n        ]),\r\n\r\n        this.tile(7, 'Pedra Grande', [\r\n            [ null, null, null, null, null, null, null, null ],\r\n            [ null, null, null, null,  5, null, null, null ],\r\n            [ null, null, null,  5,  7,  5, null, null ],\r\n            [ null, null,  5, 13,  6,  7,  5, null ],\r\n            [ null,  5, 13,  6,  6,  6,  5, null ],\r\n            [ null,  5, 13,  6,  6,  6,  7,  5 ],\r\n            [ null,  5, 13,  6,  6,  6,  6,  5 ],\r\n            [ null, null, null, null, null, null, null, null ]\r\n        ], true, 'Natureza'),\r\n\r\n        this.tile(8, 'Arvore Verde', [\r\n            [ null, null,  1,  1,  1,  1, null, null ],\r\n            [ null,  1, 11, 11, 11, 11,  1, null ],\r\n            [  1, 11,  3, 11, 11, 11, 11,  1 ],\r\n            [  1, 11, 11, 11, 11,  3, 11,  1 ],\r\n            [  1, 11, 11, 11, 11, 11, 11,  1 ],\r\n            [ null,  1,  1,  4,  4,  1,  1, null ],\r\n            [ null, null, null,  4,  4, null, null, null ],\r\n            [ null, null,  4,  4,  4,  4, null, null ]\r\n        ], true, 'Natureza'),\r\n\r\n        this.tile(9, 'Arbusto Denso', [\r\n            [ null, null, null, null, null, null, null, null ],\r\n            [ null, null, null, null, null, null, null, null ],\r\n            [ null, null, null, null, null, null, null, null ],\r\n            [ null, null,  1,  1,  1,  1, null, null ],\r\n            [ null,  1, 11, 11, 11, 11,  1, null ],\r\n            [  1, 11, 11, 11, 11,  3, 11,  1 ],\r\n            [  1, 11,  3, 11, 11, 11, 11,  1 ],\r\n            [  1,  1,  1,  1,  1,  1,  1,  1 ]\r\n        ], true, 'Natureza'),\r\n\r\n        this.tile(10, 'Parede de Pedra', [\r\n            [  6,  7,  6,  5, 13,  5, 13,  6 ],\r\n            [  5, 13,  6,  6,  6,  5,  5,  5 ],\r\n            [  5,  5,  6,  7,  6,  5,  5, 13 ],\r\n            [  6,  5,  5,  5, 13,  6,  6,  7 ],\r\n            [  6,  6, 13,  5,  5,  7,  6,  6 ],\r\n            [ 13,  5,  7, 13,  5,  5,  6,  5 ],\r\n            [  5,  6,  6,  6,  7, 13, 13,  5 ],\r\n            [  7,  6,  6, 13,  5,  5,  5,  6 ]\r\n        ], true, 'Construcoes'),\r\n\r\n        this.tile(11, 'Parede de Madeira', [\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ],\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ]\r\n        ], true, 'Construcoes'),\r\n\r\n        this.tile(12, 'Telhado Classico', [\r\n            [  2,  2,  8,  8,  2,  2,  8,  8 ],\r\n            [  8,  8, 14, 14,  8,  8, 14, 14 ],\r\n            [  8,  8,  2,  2,  8,  8,  2,  2 ],\r\n            [ 14, 14,  8,  8, 14, 14,  8,  8 ],\r\n            [  2,  2,  8,  8,  2,  2,  8,  8 ],\r\n            [  8,  8, 14, 14,  8,  8, 14, 14 ],\r\n            [  8,  8,  2,  2,  8,  8,  2,  2 ],\r\n            [ 14, 14,  8,  8, 14, 14,  8,  8 ]\r\n        ], true, 'Construcoes'),\r\n\r\n        this.tile(13, 'Porta de Madeira', [\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ],\r\n            [  4,  9,  9,  9,  9,  9,  9,  4 ],\r\n            [  4,  9,  9,  9,  9,  9,  9,  4 ],\r\n            [  4,  9,  9,  9,  9,  9,  9,  4 ],\r\n            [  4,  9,  9,  9,  9, 10,  9,  4 ],\r\n            [  4,  9,  9,  9,  9,  9,  9,  4 ],\r\n            [  4,  9,  9,  9,  9,  9,  9,  4 ],\r\n            [  4,  9,  9,  9,  9,  9,  9,  4 ]\r\n        ], false, 'Construcoes'),\r\n\r\n        this.tile(14, 'Janela Azul', [\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  9,  9,  5,  5,  5,  5,  9,  9 ],\r\n            [  9,  9,  5, 12,  7,  5,  9,  9 ],\r\n            [  9,  9,  5, 12, 12,  5,  9,  9 ],\r\n            [  9,  9,  5,  5,  5,  5,  9,  9 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ],\r\n            [  9,  9,  9,  9,  9,  9,  9,  9 ],\r\n            [  4,  4,  4,  4,  4,  4,  4,  4 ]\r\n        ], true, 'Construcoes'),\r\n\r\n        this.tile(15, 'Tocha de Parede', [\r\n            [ null, null, null,  7, null, null, null, null ],\r\n            [ null, null, null, 10,  7, null, null, null ],\r\n            [ null, null, 10, 10, 10, null, null, null ],\r\n            [ null, null, 10,  8, 10, null, null, null ],\r\n            [ null, null, null,  4, null, null, null, null ],\r\n            [ null, null, null,  4, null, null, null, null ],\r\n            [ null, null, null, null, null, null, null, null ],\r\n            [ null, null, null, null, null, null, null, null ]\r\n        ], true, 'Decoracao')\r\n    ];\r\n\r\n    static get presets() {\r\n        return this.TILE_PRESETS;\r\n    }\r\n}\r\n\r\nconst PICO8_COLORS = TileDefinitions.PICO8_COLORS;\r\nconst TILE_PRESETS = TileDefinitions.TILE_PRESETS;\r\n\r\nexport { PICO8_COLORS, TILE_PRESETS, TileDefinitions };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\sprites\\SpriteMatrixRegistry.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":17,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":17,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":22,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":22,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [key] on a type that cannot be resolved.","line":22,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":22,"endColumn":36}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { PlayerSpriteMatrices } from './PlayerSprites';\nimport { NpcSpriteMatrices } from './NpcSprites';\nimport { EnemySpriteMatrices } from './EnemySprites';\nimport { ObjectSpriteMatrices } from './ObjectSprites';\n\ntype SpriteMatrix = (number | null)[][];\n\nclass SpriteMatrixRegistry {\n    static get(group, type = 'default') {\n        const registries = {\n            player: PlayerSpriteMatrices,\n            npc: NpcSpriteMatrices,\n            enemy: EnemySpriteMatrices,\n            object: ObjectSpriteMatrices\n        };\n        const normalizedGroup = String(group || '').toLowerCase();\n        const registry = registries[normalizedGroup];\n        if (!registry) {\n            throw new Error(`SpriteMatrixRegistry: registry not found for \"${group}\"`);\n        }\n        const key = type ?? 'default';\n        const matrix = registry[key];\n        if (!matrix) {\n            throw new Error(`SpriteMatrixRegistry: sprite \"${key}\" not found for group \"${normalizedGroup}\"`);\n        }\n        return matrix as SpriteMatrix;\n    }\n}\n\nexport { SpriteMatrixRegistry };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\GameStateDataFacade.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":6,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":6,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":10,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":10,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":10,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":10,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .exportGameData on a type that cannot be resolved.","line":10,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":10,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":14,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":14,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .importGameData on a type that cannot be resolved.","line":14,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":14,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":15,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":15,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemyManager on a type that cannot be resolved.","line":15,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":15,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":15,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":15,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":16,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":16,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .itemManager on a type that cannot be resolved.","line":16,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":16,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":16,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":16,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":17,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":17,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objectManager on a type that cannot be resolved.","line":17,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":17,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":17,"column":61,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":17,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":18,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":18,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableManager on a type that cannot be resolved.","line":18,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":18,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":18,"column":63,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":18,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":19,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":19,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ensureDefaultVariables on a type that cannot be resolved.","line":19,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":19,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":20,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":20,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .resetGame on a type that cannot be resolved.","line":20,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":20,"endColumn":33}],"suppressedMessages":[],"errorCount":22,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { GameState } from \"../GameState\";\n\nclass GameStateDataFacade {\n    constructor(gameState : GameState, dataManager) {\n        this.gameState = gameState;\n        this.dataManager = dataManager;\n    }\n\n    exportGameData() {\n        return this.dataManager.exportGameData();\n    }\n\n    importGameData(data) {\n        this.dataManager.importGameData(data);\n        this.gameState.enemyManager.setGame(this.gameState.game);\n        this.gameState.itemManager.setGame(this.gameState.game);\n        this.gameState.objectManager.setGame(this.gameState.game);\n        this.gameState.variableManager.setGame(this.gameState.game);\n        this.gameState.ensureDefaultVariables();\n        this.gameState.resetGame();\n    }\n}\n\nexport { GameStateDataFacade };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\GameStateLifecycle.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":5,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":5,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":8,"column":27,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":8,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":14,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":14,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .add on a type that cannot be resolved.","line":14,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":14,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":20,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":20,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clear on a type that cannot be resolved.","line":20,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":20,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":22,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":22,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .delete on a type that cannot be resolved.","line":22,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":22,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .playing on a type that cannot be resolved.","line":28,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":28,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .size on a type that cannot be resolved.","line":28,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":28,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":32,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":32,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":32,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":32,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":36,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":36,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startGameOverCooldown on a type that cannot be resolved.","line":36,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameOver on a type that cannot be resolved.","line":38,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":38,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .gameOverReason on a type that cannot be resolved.","line":39,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":39,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":43,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":43,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":47,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":47,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .state on a type that cannot be resolved.","line":47,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":47,"endColumn":36}],"suppressedMessages":[],"errorCount":20,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass GameStateLifecycle {\n    constructor(gameState, screenManager, options = {}) {\n        this.gameState = gameState;\n        this.screenManager = screenManager;\n        this.pauseReasons = new Set();\n        this.timeToResetAfterGameOver = Number.isFinite(options.timeToResetAfterGameOver)\n            ? Math.max(0, options.timeToResetAfterGameOver)\n            : 2000;\n    }\n\n    pauseGame(reason = 'manual') {\n        const label = reason || 'manual';\n        this.pauseReasons.add(label);\n        this.updatePlayingLock();\n    }\n\n    resumeGame(reason = 'manual') {\n        if (reason === null || reason === undefined) {\n            this.pauseReasons.clear();\n        } else {\n            this.pauseReasons.delete(reason || 'manual');\n        }\n        this.updatePlayingLock();\n    }\n\n    updatePlayingLock() {\n        this.gameState.playing = this.pauseReasons.size === 0;\n    }\n\n    setGameOver(active = true, reason = 'defeat') {\n        const state = this.gameState.state;\n        if (!state) return;\n        const activeValue = Boolean(active);\n        if (activeValue) {\n            this.screenManager.startGameOverCooldown(this.timeToResetAfterGameOver);\n        }\n        state.gameOver = activeValue;\n        state.gameOverReason = activeValue ? (reason || 'defeat') : null;\n    }\n\n    isGameOver() {\n        return Boolean(this.gameState.state?.gameOver);\n    }\n\n    getGameOverReason() {\n        return this.gameState.state?.gameOverReason || 'defeat';\n    }\n}\n\nexport { GameStateLifecycle };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\GameStateScreenManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":33,"column":63,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":33,"endColumn":71}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass GameStateScreenManager {\n    canResetAfterGameOver: boolean;\n    lastEndingText: string;\n    gameOverResetTimer: ReturnType<typeof setTimeout> | null;\n\n    constructor(gameState: unknown) {\n        this.gameState = gameState;\n        this.canResetAfterGameOver = false;\n        this.lastEndingText = '';\n        this.gameOverResetTimer = null;\n    }\n\n    reset() {\n        this.lastEndingText = '';\n        this.clearGameOverCooldown();\n        this.canResetAfterGameOver = false;\n    }\n\n    setActiveEndingText(text = '') {\n        const normalized = typeof text === 'string' ? text.trim() : '';\n        this.lastEndingText = normalized;\n        return this.lastEndingText;\n    }\n\n    getActiveEndingText() {\n        return this.lastEndingText;\n    }\n\n    startGameOverCooldown(duration) {\n        this.canResetAfterGameOver = false;\n        this.clearGameOverCooldown();\n        const delay = Number.isFinite(duration) ? Math.max(0, duration) : 0;\n        this.gameOverResetTimer = setTimeout(() => {\n            this.canResetAfterGameOver = true;\n            this.gameOverResetTimer = null;\n        }, delay);\n    }\n\n    clearGameOverCooldown() {\n        if (this.gameOverResetTimer) {\n            clearTimeout(this.gameOverResetTimer);\n            this.gameOverResetTimer = null;\n        }\n    }\n}\n\nexport { GameStateScreenManager };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\GameStateWorldFacade.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":5,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":5,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":9,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":9,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":9,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":9,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .createEmptyRoom on a type that cannot be resolved.","line":9,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":9,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":13,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":13,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":13,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":13,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .createWorldRooms on a type that cannot be resolved.","line":13,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":13,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":17,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":17,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":17,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":17,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .createEmptyTileMap on a type that cannot be resolved.","line":17,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":17,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":21,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":21,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":21,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":21,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeRooms on a type that cannot be resolved.","line":21,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":21,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":25,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":25,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":25,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":25,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeTileMaps on a type that cannot be resolved.","line":25,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":51}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass GameStateWorldFacade {\n    constructor(gameState, worldManager) {\n        this.gameState = gameState;\n        this.worldManager = worldManager;\n    }\n\n    createEmptyRoom(size, index = 0, cols = 1) {\n        return this.worldManager.createEmptyRoom(size, index, cols);\n    }\n\n    createWorldRooms(rows, cols, size) {\n        return this.worldManager.createWorldRooms(rows, cols, size);\n    }\n\n    createEmptyTileMap(size) {\n        return this.worldManager.createEmptyTileMap(size);\n    }\n\n    normalizeRooms(rooms, totalRooms, cols) {\n        return this.worldManager.normalizeRooms(rooms, totalRooms, cols);\n    }\n\n    normalizeTileMaps(source, totalRooms) {\n        return this.worldManager.normalizeTileMaps(source, totalRooms);\n    }\n}\n\nexport { GameStateWorldFacade };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateDataManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":5,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":5,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":6,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":6,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":7,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":7,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":11,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":11,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":15,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":15,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":19,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":19,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":23,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":23,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":28,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":28,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .title on a type that cannot be resolved.","line":28,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":28,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":29,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":29,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .author on a type that cannot be resolved.","line":29,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":29,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":30,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":30,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .palette on a type that cannot be resolved.","line":30,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":30,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":31,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":31,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomSize on a type that cannot be resolved.","line":31,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":32,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":32,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on a type that cannot be resolved.","line":32,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":32,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":33,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":33,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on a type that cannot be resolved.","line":33,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":33,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":34,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":34,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on a type that cannot be resolved.","line":34,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":35,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":35,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .sprites on a type that cannot be resolved.","line":35,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":36,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":36,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":36,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":37,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":37,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .items on a type that cannot be resolved.","line":37,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":38,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":38,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":38,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":38,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":39,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":39,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":39,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":39,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":40,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":40,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .exits on a type that cannot be resolved.","line":40,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":40,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":41,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":41,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on a type that cannot be resolved.","line":41,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":52,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":52,"endColumn":120},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":52,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":52,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":52,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":52,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on a type that cannot be resolved.","line":52,"column":99,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":52,"endColumn":106},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":53,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":53,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":33,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeRooms on a type that cannot be resolved.","line":53,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on an `any` value.","line":53,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":53,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":54,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":57,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":54,"column":32,"nodeType":"MemberExpression","messageId":"errorCall","endLine":54,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeTileMaps on a type that cannot be resolved.","line":54,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":54,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":55,"column":18,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":55,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":55,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":55,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":58,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":58,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":58,"column":35,"nodeType":"MemberExpression","messageId":"errorCall","endLine":58,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeObjects on a type that cannot be resolved.","line":58,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on an `any` value.","line":58,"column":76,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":58,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":59,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":59,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":59,"column":37,"nodeType":"MemberExpression","messageId":"errorCall","endLine":59,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariables on a type that cannot be resolved.","line":59,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on an `any` value.","line":59,"column":82,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":59,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":62,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":62,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .title on an `any` value.","line":62,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":62,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":62,"column":53,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":62,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .title on an `any` value.","line":62,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":62,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":63,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":63,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .author on an `any` value.","line":63,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":63,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":63,"column":55,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":63,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .author on an `any` value.","line":63,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":63,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":64,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":64,"endColumn":140},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .palette on an `any` value.","line":64,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .palette on an `any` value.","line":64,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":64,"column":80,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":64,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .palette on an `any` value.","line":64,"column":85,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":67,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":67,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":68,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":68,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on an `any` value.","line":68,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":69,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":69,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .sprites on an `any` value.","line":69,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":69,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .sprites on an `any` value.","line":69,"column":57,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":69,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":70,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":70,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on an `any` value.","line":70,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":70,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on an `any` value.","line":70,"column":57,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":70,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":71,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":71,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .items on an `any` value.","line":71,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .items on an `any` value.","line":71,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":72,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":72,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":73,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":73,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":74,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":74,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .exits on an `any` value.","line":74,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":74,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .exits on an `any` value.","line":74,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":74,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":76,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":76,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":77,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":77,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":81,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":81,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on a type that cannot be resolved.","line":81,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on a type that cannot be resolved.","line":81,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":84,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":84,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":84,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":84,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":84,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on an `any` value.","line":84,"column":55,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":84,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":85,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":85,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":85,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":85,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":85,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":85,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on an `any` value.","line":85,"column":55,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":85,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":86,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":86,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":86,"column":24,"nodeType":"MemberExpression","messageId":"errorCall","endLine":86,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":86,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":86,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on an `any` value.","line":86,"column":62,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":86,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on a type that cannot be resolved.","line":88,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":88,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":90,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":90,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setGame on a type that cannot be resolved.","line":90,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":90,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":91,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":91,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setGame on a type that cannot be resolved.","line":91,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":91,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":92,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":92,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .setGame on a type that cannot be resolved.","line":92,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":92,"endColumn":37}],"suppressedMessages":[],"errorCount":111,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass StateDataManager {\n    constructor({ game, worldManager, objectManager, variableManager }) {\n        this.game = game;\n        this.worldManager = worldManager;\n        this.objectManager = objectManager;\n        this.variableManager = variableManager;\n    }\n\n    setGame(game) {\n        this.game = game;\n    }\n\n    setWorldManager(worldManager) {\n        this.worldManager = worldManager;\n    }\n\n    setObjectManager(objectManager) {\n        this.objectManager = objectManager;\n    }\n\n    setVariableManager(variableManager) {\n        this.variableManager = variableManager;\n    }\n\n    exportGameData() {\n        return {\n            title: this.game.title,\n            author: this.game.author,\n            palette: this.game.palette,\n            roomSize: this.game.roomSize,\n            world: this.game.world,\n            rooms: this.game.rooms,\n            start: this.game.start,\n            sprites: this.game.sprites,\n            enemies: this.game.enemies,\n            items: this.game.items,\n            objects: this.game.objects,\n            variables: this.game.variables,\n            exits: this.game.exits,\n            tileset: this.game.tileset\n        };\n    }\n\n    importGameData(data) {\n        if (!data) return null;\n\n        const worldRows = 3;\n        const worldCols = 3;\n        const totalRooms = worldRows * worldCols;\n\n        const tilesetTiles = Array.isArray(data.tileset?.tiles) ? data.tileset.tiles : (this.game.tileset?.tiles ?? []);\n        const normalizedRooms = this.worldManager.normalizeRooms(data.rooms, totalRooms, worldCols);\n        const normalizedMaps = this.worldManager.normalizeTileMaps(\n            data.tileset?.maps ?? data.tileset?.map ?? null,\n            totalRooms\n        );\n        const normalizedObjects = this.objectManager.normalizeObjects(data.objects);\n        const normalizedVariables = this.variableManager.normalizeVariables(data.variables);\n\n        Object.assign(this.game, {\n            title: typeof data.title === 'string' ? data.title.slice(0, 18) : \"My Tiny RPG Game\",\n            author: typeof data.author === 'string' ? data.author.slice(0, 18) : \"\",\n            palette: Array.isArray(data.palette) && data.palette.length >= 3 ? data.palette.slice(0, 3) : ['#000000', '#1D2B53', '#FFF1E8'],\n            roomSize: 8,\n            world: { rows: worldRows, cols: worldCols },\n            rooms: normalizedRooms,\n            start: data.start || { x: 1, y: 1, roomIndex: 0 },\n            sprites: Array.isArray(data.sprites) ? data.sprites : [],\n            enemies: Array.isArray(data.enemies) ? data.enemies : [],\n            items: Array.isArray(data.items) ? data.items : [],\n            objects: normalizedObjects,\n            variables: normalizedVariables,\n            exits: Array.isArray(data.exits) ? data.exits : [],\n            tileset: {\n                tiles: tilesetTiles,\n                maps: normalizedMaps\n            }\n        });\n\n        this.game.tileset.map = this.game.tileset.maps[0];\n\n        const start = {\n            x: this.worldManager.clampCoordinate(data.start?.x ?? 1),\n            y: this.worldManager.clampCoordinate(data.start?.y ?? 1),\n            roomIndex: this.worldManager.clampRoomIndex(data.start?.roomIndex ?? 0)\n        };\n        this.game.start = start;\n\n        this.worldManager.setGame(this.game);\n        this.objectManager.setGame(this.game);\n        this.variableManager.setGame(this.game);\n\n        return start;\n    }\n}\n\nexport { StateDataManager };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateDialogManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":14,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":14,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .dialog on a type that cannot be resolved.","line":14,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":14,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":18,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":18,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":22,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":22,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":25,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on a type that cannot be resolved.","line":26,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .page on a type that cannot be resolved.","line":27,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":27,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxPages on a type that cannot be resolved.","line":28,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":28,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .meta on a type that cannot be resolved.","line":29,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":29,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":32,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":32,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on a type that cannot be resolved.","line":33,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":33,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .page on a type that cannot be resolved.","line":34,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxPages on a type that cannot be resolved.","line":35,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .meta on a type that cannot be resolved.","line":36,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":40,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":40,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":44,"column":38,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":44,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxPages on a type that cannot be resolved.","line":44,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .page on a type that cannot be resolved.","line":46,"column":16,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":20}],"suppressedMessages":[],"errorCount":18,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport type { AnyRecord } from '../../../types/gameState';\r\n\r\nclass StateDialogManager {\r\n    constructor(state: unknown) {\r\n        this.state = state;\r\n    }\r\n\r\n    setState(state: unknown) {\r\n        this.state = state;\r\n    }\r\n\r\n    get dialog() {\r\n        return this.state?.dialog;\r\n    }\r\n\r\n    getDialog() {\r\n        return this.dialog;\r\n    }\r\n\r\n    setDialog(active: boolean, text: string = \"\", meta: AnyRecord | null = null) {\r\n        const dialog = this.dialog;\r\n        if (!dialog) return;\r\n        if (!active) {\r\n            dialog.active = false;\r\n            dialog.text = \"\";\r\n            dialog.page = 1;\r\n            dialog.maxPages = 1;\r\n            dialog.meta = null;\r\n            return;\r\n        }\r\n        dialog.active = true;\r\n        dialog.text = text;\r\n        dialog.page = 1;\r\n        dialog.maxPages = 1;\r\n        dialog.meta = meta || null;\r\n    }\r\n\r\n    setPage(page: number) {\r\n        const dialog = this.dialog;\r\n        if (!dialog) return;\r\n        const numeric = Number(page);\r\n        if (!Number.isFinite(numeric)) return;\r\n        const maxPages = Math.max(1, dialog.maxPages || 1);\r\n        const clamped = Math.min(Math.max(1, Math.floor(numeric)), maxPages);\r\n        dialog.page = clamped;\r\n    }\r\n\r\n    reset() {\r\n        this.setDialog(false);\r\n    }\r\n}\r\n\r\nexport { StateDialogManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateEnemyManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":24,"column":9,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":24,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on an `any` value.","line":24,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":24,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":25,"column":66,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":25,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":27,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":27,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":33,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":33,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":33,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":33,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":35,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":35,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":35,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":35,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":35,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":35,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":35,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":36,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":36,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":36,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":36,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":36,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":36,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":36,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":36,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":37,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":37,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":37,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":37,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":37,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":37,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":37,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":38,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":38,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":38,"column":24,"nodeType":"MemberExpression","messageId":"errorCall","endLine":38,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":38,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":38,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":38,"column":64,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":38,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":39,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":39,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on an `any` value.","line":39,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":39,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on an `any` value.","line":40,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":40,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":43,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":43,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":48,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":48,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":49,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":49,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":49,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":49,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":53,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":53,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":53,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":57,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":57,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":57,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":57,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":62,"column":62,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":62,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":64,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":64,"endColumn":132},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":64,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":64,"column":33,"nodeType":"MemberExpression","messageId":"errorCall","endLine":64,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":64,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .filter on a type that cannot be resolved.","line":64,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":64,"column":107,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":111},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":65,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":65,"endColumn":134},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":65,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":65,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":65,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":65,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .filter on a type that cannot be resolved.","line":65,"column":61,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":65,"column":109,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":65,"endColumn":113},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":68,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":68,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":68,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":68,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":68,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":68,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":68,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":70,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":73,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":70,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":70,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":70,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .reduce on a type that cannot be resolved.","line":70,"column":61,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":71,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":71,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":71,"column":26,"nodeType":"MemberExpression","messageId":"errorCall","endLine":71,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":71,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":71,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":71,"column":65,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":72,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":72,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":79,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":79,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":79,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":79,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":81,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":81,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":82,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":82,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":82,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":82,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":82,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":82,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":82,"column":56,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":82,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":83,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":83,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":83,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":83,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":83,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":83,"column":56,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":83,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":84,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":84,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":84,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":84,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":84,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":84,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":84,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on an `any` value.","line":85,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":85,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":87,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":87,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":87,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":88,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":88,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":88,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":88,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":89,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":89,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":94,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":94,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":94,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":94,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":94,"column":29,"nodeType":"MemberExpression","messageId":"errorCall","endLine":94,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":94,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":94,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":94,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":94,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":95,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":95,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":95,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":95,"column":30,"nodeType":"MemberExpression","messageId":"errorCall","endLine":95,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":95,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":95,"column":73,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":95,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":99,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":99,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":99,"column":23,"nodeType":"MemberExpression","messageId":"errorCall","endLine":99,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":99,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":99,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":99,"column":63,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":99,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":101,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":101,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastX on a type that cannot be resolved.","line":101,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":101,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":102,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":102,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":102,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":102,"endColumn":16},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":102,"column":19,"nodeType":"MemberExpression","messageId":"errorCall","endLine":102,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":102,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":102,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":103,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":103,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":103,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":16},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":103,"column":19,"nodeType":"MemberExpression","messageId":"errorCall","endLine":103,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":103,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":105,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":105,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":105,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":105,"column":31,"nodeType":"MemberExpression","messageId":"errorCall","endLine":105,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":105,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":113,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":113,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":114,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":114,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":114,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":114,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":114,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":114,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":114,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":114,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on a type that cannot be resolved.","line":115,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on a type that cannot be resolved.","line":116,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":116,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":121,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":121,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":122,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":122,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":122,"column":29,"nodeType":"MemberExpression","messageId":"errorCall","endLine":122,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on a type that cannot be resolved.","line":122,"column":40,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":122,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":122,"column":70,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":122,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on a type that cannot be resolved.","line":123,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":123,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on a type that cannot be resolved.","line":124,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":124,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `EnemyTypeInput`.","line":132,"column":47,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":132,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `EnemyTypeInput`.","line":136,"column":64,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":136,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":142,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":142,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":142,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":142,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":142,"column":77,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":142,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":143,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":143,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .some on a type that cannot be resolved.","line":143,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":143,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":143,"column":56,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":143,"endColumn":58}],"suppressedMessages":[],"errorCount":132,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EnemyDefinitions } from '../definitions/EnemyDefinitions';\r\nclass StateEnemyManager {\r\n    constructor(game: unknown, state: unknown, worldManager: unknown) {\r\n        this.game = game;\r\n        this.state = state;\r\n        this.worldManager = worldManager;\r\n    }\r\n\r\n    setGame(game: unknown) {\r\n        this.game = game;\r\n    }\r\n\r\n    setState(state: unknown) {\r\n        this.state = state;\r\n    }\r\n\r\n    setWorldManager(worldManager: unknown) {\r\n        this.worldManager = worldManager;\r\n    }\r\n\r\n    cloneEnemies(enemies) {\r\n        const list = [];\r\n        (enemies || []).forEach((enemy) => {\r\n            const normalizedType = this.normalizeEnemyType(enemy.type);\r\n            if (this.isBossType(normalizedType)) {\r\n                const idx = list.findIndex((entry) => entry.type === normalizedType);\r\n                if (idx !== -1) {\r\n                    list.splice(idx, 1);\r\n                }\r\n            }\r\n            list.push({\r\n                id: enemy.id,\r\n                type: normalizedType,\r\n                roomIndex: this.worldManager.clampRoomIndex(enemy.roomIndex ?? 0),\r\n                x: this.worldManager.clampCoordinate(enemy.x ?? 0),\r\n                y: this.worldManager.clampCoordinate(enemy.y ?? 0),\r\n                lastX: this.worldManager.clampCoordinate(enemy.x ?? 0),\r\n                lives: enemy.lives ?? 1,\r\n                defeatVariableId: this.normalizeEnemyVariableId(enemy.defeatVariableId)\r\n            });\r\n        });\r\n        return list;\r\n    }\r\n\r\n    resetRuntime() {\r\n        if (!this.state) return [];\r\n        this.state.enemies = this.cloneEnemies(this.game?.enemies);\r\n        return this.state.enemies;\r\n    }\r\n\r\n    getEnemies() {\r\n        return this.state?.enemies ?? [];\r\n    }\r\n\r\n    getEnemyDefinitions() {\r\n        return this.game?.enemies ?? [];\r\n    }\r\n\r\n    addEnemy(enemy) {\r\n        if (!this.game || !this.state) return null;\r\n        const normalizedType = this.normalizeEnemyType(enemy.type);\r\n        if (this.isBossType(normalizedType)) {\r\n            this.game.enemies = (this.game.enemies || []).filter((entry) => this.normalizeEnemyType(entry.type) !== normalizedType);\r\n            this.state.enemies = (this.state.enemies || []).filter((entry) => this.normalizeEnemyType(entry.type) !== normalizedType);\r\n        }\r\n\r\n        const targetRoom = this.worldManager.clampRoomIndex(enemy.roomIndex ?? 0);\r\n        const maxEnemiesPerRoom = 6;\r\n        const currentRoomCount = (this.game?.enemies || []).reduce((count, entry) => {\r\n            const room = this.worldManager.clampRoomIndex(entry.roomIndex ?? 0);\r\n            return room === targetRoom ? count + 1 : count;\r\n        }, 0);\r\n        if (currentRoomCount >= maxEnemiesPerRoom) {\r\n            return null;\r\n        }\r\n\r\n        const entry = {\r\n            id: enemy.id,\r\n            type: normalizedType,\r\n            roomIndex: targetRoom,\r\n            x: this.worldManager.clampCoordinate(enemy.x ?? 0),\r\n            y: this.worldManager.clampCoordinate(enemy.y ?? 0),\r\n            lastX: this.worldManager.clampCoordinate(enemy.x ?? 0),\r\n            defeatVariableId: this.normalizeEnemyVariableId(enemy.defeatVariableId)\r\n        };\r\n        this.game.enemies.push(entry);\r\n        this.state.enemies.push({ ...entry });\r\n        return entry.id;\r\n    }\r\n\r\n    removeEnemy(enemyId) {\r\n        if (!this.game || !this.state) return;\r\n        this.game.enemies = this.game.enemies.filter((enemy) => enemy.id !== enemyId);\r\n        this.state.enemies = this.state.enemies.filter((enemy) => enemy.id !== enemyId);\r\n    }\r\n\r\n    setEnemyPosition(enemyId: string | number, x: number, y: number, roomIndex: number | null = null) {\r\n        const enemy = this.getEnemies().find((entry) => entry.id === enemyId);\r\n        if (!enemy) return;\r\n        enemy.lastX = enemy.x;\r\n        enemy.x = this.worldManager.clampCoordinate(x);\r\n        enemy.y = this.worldManager.clampCoordinate(y);\r\n        if (roomIndex !== null && roomIndex !== undefined) {\r\n            enemy.roomIndex = this.worldManager.clampRoomIndex(roomIndex);\r\n        }\r\n    }\r\n\r\n    setEnemyVariable(enemyId: string | number, variableId: string | null = null) {\r\n        const normalized = this.normalizeEnemyVariableId(variableId);\r\n        let changed = false;\r\n\r\n        if (Array.isArray(this.game?.enemies)) {\r\n            const entry = this.game.enemies.find((enemy) => enemy.id === enemyId);\r\n            if (entry && entry.defeatVariableId !== normalized) {\r\n                entry.defeatVariableId = normalized;\r\n                changed = true;\r\n            }\r\n        }\r\n\r\n        if (Array.isArray(this.state?.enemies)) {\r\n            const runtime = this.state.enemies.find((enemy) => enemy.id === enemyId);\r\n            if (runtime && runtime.defeatVariableId !== normalized) {\r\n                runtime.defeatVariableId = normalized;\r\n                changed = true;\r\n            }\r\n        }\r\n        return changed;\r\n    }\r\n\r\n    normalizeEnemyType(type) {\r\n        return EnemyDefinitions.normalizeType(type);\r\n    }\r\n\r\n    isBossType(type) {\r\n        const definition = EnemyDefinitions.getEnemyDefinition(type);\r\n        return Boolean(definition?.boss);\r\n    }\r\n\r\n    normalizeEnemyVariableId(variableId) {\r\n        if (typeof variableId !== 'string') return null;\r\n        const definitions = Array.isArray(this.game?.variables) ? this.game.variables : [];\r\n        return definitions.some((variable) => variable.id === variableId) ? variableId : null;\r\n    }\r\n}\r\n\r\nexport { StateEnemyManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateItemManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":8,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":8,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .items on a type that cannot be resolved.","line":12,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":12,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":13,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":13,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .items on a type that cannot be resolved.","line":13,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":13,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .collected on an `any` value.","line":14,"column":18,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":14,"endColumn":27}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass StateItemManager {\n    constructor(game) {\n        this.game = game;\n    }\n\n    setGame(game) {\n        this.game = game;\n    }\n\n    resetItems() {\n        if (!Array.isArray(this.game?.items)) return;\n        this.game.items.forEach((item) => {\n            item.collected = false;\n        });\n    }\n}\n\nexport { StateItemManager };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateObjectManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":32,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":32,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":51,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":51,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":55,"column":42,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":55,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":59,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":59,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":60,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":60,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":61,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":61,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":66,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":66,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":71,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":71,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":75,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":75,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":84,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":127,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":86,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":86,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":86,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":86,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":86,"column":78,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":86,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":87,"column":39,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":87,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":88,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":88,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":89,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":89,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":89,"column":35,"nodeType":"MemberExpression","messageId":"errorCall","endLine":89,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":89,"column":53,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":89,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":89,"column":76,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":89,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":98,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":98,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":98,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":98,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":98,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":98,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":98,"column":69,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":99,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":99,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":99,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":99,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":99,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":99,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":99,"column":69,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":99,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":100,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":102,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":100,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":100,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":100,"column":62,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":100,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":100,"column":69,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":100,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":101,"column":23,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":101,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":101,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":101,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":103,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":103,"endColumn":96},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":103,"column":44,"nodeType":"MemberExpression","messageId":"errorCall","endLine":103,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getFirstVariableId on a type that cannot be resolved.","line":103,"column":66,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":104,"column":68,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":104,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":105,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":107,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":106,"column":24,"nodeType":"MemberExpression","messageId":"errorCall","endLine":106,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":106,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":106,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on an `any` value.","line":106,"column":76,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":106,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":110,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":110,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":111,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":111,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":112,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":112,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":113,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":113,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":114,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":114,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .collected on an `any` value.","line":115,"column":93,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":115,"endColumn":102},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .opened on an `any` value.","line":116,"column":64,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":116,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":117,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":117,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .on on an `any` value.","line":120,"column":47,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":120,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .endingText on an `any` value.","line":123,"column":75,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":123,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":125,"column":17,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":125,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":138,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":138,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":139,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":139,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":139,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":139,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .isCollectible on an `any` value.","line":140,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":140,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .collected on an `any` value.","line":141,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":141,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .isLockedDoor on an `any` value.","line":143,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":143,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .opened on an `any` value.","line":145,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":145,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":147,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":147,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .on on an `any` value.","line":148,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":148,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":163,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":163,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":164,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":164,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":166,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":166,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":166,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":166,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":166,"column":47,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":166,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":167,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":167,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":167,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":167,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":171,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":171,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":171,"column":24,"nodeType":"MemberExpression","messageId":"errorCall","endLine":171,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":171,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":171,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":172,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":172,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":172,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":172,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .filter on a type that cannot be resolved.","line":172,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":172,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":172,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":172,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":176,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":176,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":176,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":176,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":176,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":176,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":177,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":177,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":177,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":177,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":177,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":177,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":178,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":178,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":178,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":178,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":178,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":178,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":179,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":183,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":179,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":179,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":179,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":179,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":180,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":180,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":181,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":181,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":182,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":182,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":188,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":188,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":188,"column":51,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":188,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":190,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":190,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":190,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":190,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":190,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":190,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":191,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":191,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":191,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":191,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":191,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":191,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":192,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":192,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":192,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":192,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":192,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":192,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":193,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":193,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":196,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":196,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":196,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":196,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":196,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":196,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":196,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":196,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":198,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":200,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":198,"column":21,"nodeType":"MemberExpression","messageId":"errorCall","endLine":198,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":198,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":198,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":199,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":199,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":199,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":199,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":205,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":205,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":206,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":206,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":207,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":207,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":208,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":208,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":216,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":216,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .push on a type that cannot be resolved.","line":216,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":216,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":218,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":218,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":218,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":218,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":219,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":219,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":219,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":219,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":220,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":220,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":220,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":220,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .collected on a type that cannot be resolved.","line":223,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":223,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":225,"column":38,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":225,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .opened on a type that cannot be resolved.","line":226,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":226,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":228,"column":40,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":228,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":229,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":229,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":229,"column":40,"nodeType":"MemberExpression","messageId":"errorCall","endLine":229,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getFirstVariableId on a type that cannot be resolved.","line":229,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":229,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":230,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":230,"endColumn":115},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on a type that cannot be resolved.","line":230,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":230,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":230,"column":32,"nodeType":"MemberExpression","messageId":"errorCall","endLine":230,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":230,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":230,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on a type that cannot be resolved.","line":230,"column":82,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":230,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":236,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":236,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":236,"column":40,"nodeType":"MemberExpression","messageId":"errorCall","endLine":236,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getFirstVariableId on a type that cannot be resolved.","line":236,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":236,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":237,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":237,"endColumn":115},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on a type that cannot be resolved.","line":237,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":237,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":237,"column":32,"nodeType":"MemberExpression","messageId":"errorCall","endLine":237,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":237,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":237,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on a type that cannot be resolved.","line":237,"column":82,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":237,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .on on a type that cannot be resolved.","line":238,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":238,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .on on a type that cannot be resolved.","line":238,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":238,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .endingText on a type that cannot be resolved.","line":241,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":241,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .endingText on a type that cannot be resolved.","line":241,"column":66,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":241,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":243,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":243,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":248,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":248,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":248,"column":51,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":248,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":250,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":250,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":250,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":250,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":250,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":250,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":251,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":253,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on a type that cannot be resolved.","line":251,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":251,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":251,"column":29,"nodeType":"MemberExpression","messageId":"errorCall","endLine":251,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .filter on a type that cannot be resolved.","line":251,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":251,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":252,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":252,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":252,"column":56,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":252,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":259,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":259,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":259,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":259,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":259,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":259,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":260,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":263,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":260,"column":23,"nodeType":"MemberExpression","messageId":"errorCall","endLine":260,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":260,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":260,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":261,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":261,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":262,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":262,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":265,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":265,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":265,"column":36,"nodeType":"MemberExpression","messageId":"errorCall","endLine":265,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getFirstVariableId on a type that cannot be resolved.","line":265,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":265,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":266,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":266,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":266,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":266,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":266,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":266,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":267,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":267,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on a type that cannot be resolved.","line":267,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":267,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":268,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":268,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on a type that cannot be resolved.","line":268,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":268,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":274,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":274,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":274,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":274,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":274,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":274,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":277,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":277,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":277,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":277,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":278,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":278,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on an `any` value.","line":278,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":278,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .on on an `any` value.","line":279,"column":28,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":279,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .on on an `any` value.","line":280,"column":28,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":280,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":290,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":290,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":291,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":291,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on a type that cannot be resolved.","line":291,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":291,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":292,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":292,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":292,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":292,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":292,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":292,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":292,"column":67,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":292,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":293,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":293,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":293,"column":19,"nodeType":"MemberExpression","messageId":"errorCall","endLine":293,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":293,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":293,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":293,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":293,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":294,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":294,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":294,"column":19,"nodeType":"MemberExpression","messageId":"errorCall","endLine":294,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":294,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":294,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":294,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":294,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":295,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":295,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":295,"column":22,"nodeType":"MemberExpression","messageId":"errorCall","endLine":295,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":295,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":295,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":295,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":295,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":300,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":300,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":301,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":301,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":302,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":302,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":304,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":304,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .unshift on a type that cannot be resolved.","line":304,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":304,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":306,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":306,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":306,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":306,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":307,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":307,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":307,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":307,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":308,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":308,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":308,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":308,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":310,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":310,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":314,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":314,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":316,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":316,"endColumn":105},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":316,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":316,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":316,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":316,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":316,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":316,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":318,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":318,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":318,"column":28,"nodeType":"MemberExpression","messageId":"errorCall","endLine":318,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":318,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":318,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":319,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":321,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":319,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":319,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":319,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":319,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":320,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":320,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":320,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":320,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":325,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":325,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":326,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":326,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .endingText on a type that cannot be resolved.","line":326,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":326,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .endingText on a type that cannot be resolved.","line":326,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":326,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":330,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":330,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .endingText on a type that cannot be resolved.","line":333,"column":15,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":333,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":339,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":339,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":339,"column":19,"nodeType":"MemberExpression","messageId":"errorCall","endLine":339,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":339,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":339,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":339,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":339,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":340,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":340,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":340,"column":19,"nodeType":"MemberExpression","messageId":"errorCall","endLine":340,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":340,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":340,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":340,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":340,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":341,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":341,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":341,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":341,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":341,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":341,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":341,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":341,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on a type that cannot be resolved.","line":342,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":342,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":342,"column":29,"nodeType":"Property","messageId":"anyAssignment","endLine":342,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":342,"column":32,"nodeType":"Property","messageId":"anyAssignment","endLine":342,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":342,"column":35,"nodeType":"Property","messageId":"anyAssignment","endLine":342,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":343,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":343,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":343,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":343,"endColumn":16},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":344,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":344,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":344,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":344,"endColumn":16},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":345,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":345,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":345,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":345,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":349,"column":21,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":349,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":350,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":350,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":350,"column":28,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":350,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .isCollectible on an `any` value.","line":352,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":352,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hideWhenCollected on an `any` value.","line":353,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":353,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":353,"column":71,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":353,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hiddenInRuntime on an `any` value.","line":354,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":354,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":354,"column":63,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":354,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .isLockedDoor on an `any` value.","line":355,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":355,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":355,"column":55,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":355,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hideWhenOpened on an `any` value.","line":356,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":356,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":356,"column":65,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":356,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .isVariableDoor on an `any` value.","line":357,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":357,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":357,"column":59,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":357,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hideWhenVariableOpen on an `any` value.","line":358,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":358,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":358,"column":77,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":358,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .requiresVariable on an `any` value.","line":359,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":359,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":359,"column":63,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":359,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordDurability on an `any` value.","line":360,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":360,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `ItemType`.","line":360,"column":64,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":360,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":361,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":361,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":367,"column":33,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":367,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on a type that cannot be resolved.","line":367,"column":68,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":367,"endColumn":78}],"suppressedMessages":[],"errorCount":281,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ITEM_TYPES } from '../constants/itemTypes';\nimport { itemCatalog } from '../services/ItemCatalog';\nconst PLAYER_END_TEXT_LIMIT = 40;\r\n\r\nclass StateObjectManager {\r\n    static get TYPES() {\r\n        return ITEM_TYPES;\r\n    }\r\n\r\n    get types() {\r\n        return StateObjectManager.TYPES;\r\n    }\r\n\r\n    static get PLAYER_START_TYPE() {\r\n        return this.TYPES.PLAYER_START;\r\n    }\r\n\r\n    static get PLAYER_END_TYPE() {\r\n        return this.TYPES.PLAYER_END;\r\n    }\r\n\r\n    static get SWITCH_TYPE() {\r\n        return this.TYPES.SWITCH;\r\n    }\r\n\r\n    static get PLACEABLE_OBJECT_TYPES() {\r\n        return this.getPlaceableTypesArray();\r\n    }\r\n\r\n    static get COLLECTIBLE_OBJECT_TYPES() {\r\n        return this.getCollectibleTypeSet();\r\n    }\r\n\r\n    static get PLAYER_END_TEXT_LIMIT() {\r\n        return PLAYER_END_TEXT_LIMIT;\r\n    }\r\n\r\n    static getPlaceableTypesArray() {\n        return itemCatalog.getPlaceableTypes();\n    }\n\r\n    static getPlaceableTypeSet() {\r\n        return new Set(this.getPlaceableTypesArray());\r\n    }\r\n\r\n    static getCollectibleTypeSet() {\r\n        if (!this._collectibleSet) {\r\n            this._collectibleSet = new Set(itemCatalog.getCollectibleTypes());\n        }\n        return this._collectibleSet;\n    }\n\r\n    static isCollectibleType(type) {\r\n        return itemCatalog.isCollectible(type);\n    }\n\r\n    constructor(game, worldManager, variableManager) {\r\n        this.game = game;\r\n        this.worldManager = worldManager;\r\n        this.variableManager = variableManager;\r\n        this.ensurePlayerStartObject();\r\n    }\r\n\r\n    setGame(game) {\r\n        this.game = game;\r\n        this.ensurePlayerStartObject();\r\n    }\r\n\r\n    setWorldManager(worldManager) {\r\n        this.worldManager = worldManager;\r\n    }\r\n\r\n    setVariableManager(variableManager) {\r\n        this.variableManager = variableManager;\r\n    }\r\n\r\n    normalizeObjects(objects) {\r\n        if (!Array.isArray(objects)) return [];\r\n        const OT = this.types;\r\n        const allowedTypes = StateObjectManager.getPlaceableTypeSet();\r\n        let playerStartIncluded = false;\r\n        const playerEndRooms = new Set();\r\n        return objects\r\n            .map((object) => {\r\n                const sourceType = typeof object?.type === 'string' ? object.type : null;\r\n                if (!allowedTypes.has(sourceType)) return null;\r\n                const type = sourceType;\r\n                const roomIndex = this.worldManager.clampRoomIndex(object?.roomIndex ?? 0);\r\n                if (type === StateObjectManager.PLAYER_START_TYPE) {\r\n                    if (playerStartIncluded) return null;\r\n                    playerStartIncluded = true;\r\n                }\r\n                if (type === StateObjectManager.PLAYER_END_TYPE) {\r\n                    if (playerEndRooms.has(roomIndex)) return null;\r\n                    playerEndRooms.add(roomIndex);\r\n                }\r\n                const x = this.worldManager.clampCoordinate(object?.x ?? 0);\r\n                const y = this.worldManager.clampCoordinate(object?.y ?? 0);\r\n                const id = typeof object?.id === 'string' && object.id.trim()\r\n                    ? object.id.trim()\r\n                    : this.generateObjectId(type, roomIndex);\r\n                const fallbackVariableId = this.variableManager?.getFirstVariableId?.() ?? null;\r\n                const needsVariable = itemCatalog.requiresVariable(type);\n                const normalizedVariable = needsVariable\r\n                    ? (this.variableManager?.normalizeVariableId?.(object?.variableId) ?? fallbackVariableId)\r\n                    : null;\r\n\r\n                const base = {\r\n                    id,\r\n                    type,\r\n                    roomIndex,\r\n                    x,\r\n                    y,\r\n                    collected: StateObjectManager.isCollectibleType(type) ? Boolean(object?.collected) : false,\r\n                    opened: type === OT.DOOR ? Boolean(object?.opened) : false,\r\n                    variableId: normalizedVariable\r\n                };\r\n                if (type === StateObjectManager.SWITCH_TYPE) {\r\n                    base.on = Boolean(object?.on);\r\n                }\r\n                if (type === StateObjectManager.PLAYER_END_TYPE) {\r\n                    base.endingText = this.normalizePlayerEndText(object?.endingText);\r\n                }\r\n                return this.applyObjectBehavior(base);\r\n            })\r\n            .filter(Boolean);\r\n    }\r\n\r\n    normalizePlayerEndText(value) {\r\n        if (typeof value !== 'string') return '';\r\n        const normalized = value.replace(/\\r\\n/g, '\\n');\r\n        const sliced = normalized.slice(0, PLAYER_END_TEXT_LIMIT);\r\n        return sliced.trim();\r\n    }\r\n\r\n    resetRuntime() {\r\n        const objects = this.getObjects();\r\n        objects.forEach((object) => {\r\n            if (object.isCollectible) {\r\n                object.collected = false;\r\n            }\r\n            const isLockedDoor = Boolean(object.isLockedDoor);\r\n            if (isLockedDoor) {\r\n                object.opened = false;\r\n            }\r\n            if (object.type === StateObjectManager.SWITCH_TYPE) {\r\n                object.on = false;\r\n            }\r\n        });\r\n        this.ensurePlayerStartObject();\r\n    }\r\n\r\n    generateObjectId(type, roomIndex) {\r\n        if (type === StateObjectManager.PLAYER_START_TYPE) {\r\n            return StateObjectManager.PLAYER_START_TYPE;\r\n        }\r\n        return `${type}-${roomIndex}`;\r\n    }\r\n\r\n    getObjects() {\r\n        if (!this.game) return [];\r\n        if (!Array.isArray(this.game.objects)) {\r\n            this.game.objects = [];\r\n        }\r\n        this.game.objects.forEach((object) => this.applyObjectBehavior(object));\r\n        return this.game.objects;\r\n    }\r\n\r\n    getObjectsForRoom(roomIndex) {\r\n        const target = this.worldManager.clampRoomIndex(roomIndex ?? 0);\r\n        return this.getObjects().filter((object) => object.roomIndex === target);\r\n    }\r\n\r\n    getObjectAt(roomIndex, x, y) {\r\n        const targetRoom = this.worldManager.clampRoomIndex(roomIndex ?? 0);\r\n        const cx = this.worldManager.clampCoordinate(x ?? 0);\r\n        const cy = this.worldManager.clampCoordinate(y ?? 0);\r\n        return this.getObjects().find((object) =>\r\n            object.roomIndex === targetRoom &&\r\n            object.x === cx &&\r\n            object.y === cy\r\n        ) || null;\r\n    }\r\n\r\n    setObjectPosition(type, roomIndex, x, y) {\r\n        const placeableTypes = StateObjectManager.getPlaceableTypeSet();\r\n        const normalizedType = placeableTypes.has(type) ? type : null;\r\n        if (!normalizedType) return null;\r\n        const targetRoom = this.worldManager.clampRoomIndex(roomIndex ?? 0);\r\n        const cx = this.worldManager.clampCoordinate(x ?? 0);\r\n        const cy = this.worldManager.clampCoordinate(y ?? 0);\r\n        const objects = this.getObjects();\r\n        let entry = null;\r\n        if (normalizedType === StateObjectManager.PLAYER_START_TYPE) {\r\n            entry = objects.find((object) => object.type === normalizedType) || null;\r\n        } else {\r\n            entry = objects.find((object) =>\r\n                object.type === normalizedType && object.roomIndex === targetRoom\r\n            ) || null;\r\n        }\r\n        if (!entry) {\r\n            entry = {\r\n                id: this.generateObjectId(normalizedType, targetRoom),\r\n                type: normalizedType,\r\n                roomIndex: targetRoom,\r\n                x: cx,\r\n                y: cy\r\n            };\r\n            if (normalizedType === StateObjectManager.SWITCH_TYPE) {\r\n                entry.on = false;\r\n            }\r\n            if (normalizedType === StateObjectManager.PLAYER_END_TYPE) {\r\n                entry.endingText = '';\r\n            }\r\n            objects.push(entry);\r\n        } else {\r\n            entry.roomIndex = targetRoom;\r\n            entry.x = cx;\r\n            entry.y = cy;\r\n        }\r\n        if (StateObjectManager.isCollectibleType(normalizedType)) {\r\n            entry.collected = false;\r\n        }\r\n        if (itemCatalog.isLockedDoor(normalizedType)) {\n            entry.opened = false;\n        }\n        if (itemCatalog.isVariableDoor(normalizedType)) {\n            const fallbackVariableId = this.variableManager?.getFirstVariableId?.() ?? null;\n            entry.variableId = this.variableManager?.normalizeVariableId?.(entry.variableId) ?? fallbackVariableId;\n        }\n        if (normalizedType === StateObjectManager.PLAYER_START_TYPE) {\r\n            this.syncPlayerStart(entry);\r\n        }\r\n        if (normalizedType === StateObjectManager.SWITCH_TYPE) {\r\n            const fallbackVariableId = this.variableManager?.getFirstVariableId?.() ?? null;\r\n            entry.variableId = this.variableManager?.normalizeVariableId?.(entry.variableId) ?? fallbackVariableId;\r\n            entry.on = Boolean(entry.on);\r\n        }\r\n        if (normalizedType === StateObjectManager.PLAYER_END_TYPE) {\r\n            entry.endingText = this.normalizePlayerEndText(entry.endingText ?? '');\r\n        }\r\n        return this.applyObjectBehavior(entry);\r\n    }\r\n\r\n    removeObject(type, roomIndex) {\r\n        const placeableTypes = StateObjectManager.getPlaceableTypeSet();\r\n        const normalizedType = placeableTypes.has(type) ? type : null;\r\n        if (!normalizedType || normalizedType === StateObjectManager.PLAYER_START_TYPE) return;\r\n        const targetRoom = this.worldManager.clampRoomIndex(roomIndex ?? 0);\r\n        this.game.objects = this.getObjects().filter((object) =>\r\n            !(object.type === normalizedType && object.roomIndex === targetRoom)\r\n        );\r\n    }\r\n\r\n    setObjectVariable(type: string, roomIndex: number, variableId: string | null) {\r\n        const handledByDefinition = itemCatalog.requiresVariable(type);\n        if (!handledByDefinition) return null;\r\n        const targetRoom = this.worldManager.clampRoomIndex(roomIndex ?? 0);\r\n        const entry = this.getObjects().find((object) =>\r\n            object.type === type &&\r\n            object.roomIndex === targetRoom\r\n        );\r\n        if (!entry) return null;\r\n        const fallbackVariableId = this.variableManager?.getFirstVariableId?.() ?? null;\r\n        const normalized = this.variableManager?.normalizeVariableId?.(variableId);\r\n        entry.variableId = normalized ?? fallbackVariableId;\r\n        return entry.variableId;\r\n    }\r\n\r\n    syncSwitchState(variableId, value) {\r\n        if (!variableId) return false;\r\n        let changed = false;\r\n        const normalized = this.variableManager?.normalizeVariableId?.(variableId) ?? null;\r\n        if (!normalized) return false;\r\n        const desired = Boolean(value);\r\n        this.getObjects().forEach((object) => {\r\n            if (object.type === StateObjectManager.SWITCH_TYPE && object.variableId === normalized) {\r\n                if (object.on !== desired) {\r\n                    object.on = desired;\r\n                    changed = true;\r\n                }\r\n            }\r\n        });\r\n        return changed;\r\n    }\r\n\r\n    ensurePlayerStartObject() {\r\n        if (!this.game || !this.worldManager) return null;\r\n        const objects = this.getObjects();\r\n        const start = this.game.start || { x: 1, y: 1, roomIndex: 0 };\r\n        const roomIndex = this.worldManager.clampRoomIndex(start?.roomIndex ?? 0);\r\n        const x = this.worldManager.clampCoordinate(start?.x ?? 1);\r\n        const y = this.worldManager.clampCoordinate(start?.y ?? 1);\r\n        let marker = objects.find((object) => object.type === StateObjectManager.PLAYER_START_TYPE);\r\n        if (!marker) {\r\n            marker = {\r\n                id: StateObjectManager.PLAYER_START_TYPE,\r\n                type: StateObjectManager.PLAYER_START_TYPE,\r\n                roomIndex,\r\n                x,\r\n                y\r\n            };\r\n            objects.unshift(marker);\r\n        } else {\r\n            marker.roomIndex = roomIndex;\r\n            marker.x = x;\r\n            marker.y = y;\r\n        }\r\n        return this.applyObjectBehavior(marker);\r\n    }\r\n\r\n    getPlayerEndObject(roomIndex: number | null = null) {\r\n        const objects = this.getObjects();\r\n        if (roomIndex === null || roomIndex === undefined) {\r\n            return objects.find((object) => object.type === StateObjectManager.PLAYER_END_TYPE) || null;\r\n        }\r\n        const targetRoom = this.worldManager.clampRoomIndex(roomIndex ?? 0);\r\n        return objects.find((object) =>\r\n            object.type === StateObjectManager.PLAYER_END_TYPE && object.roomIndex === targetRoom\r\n        ) || null;\r\n    }\r\n\r\n    getPlayerEndText(roomIndex: number | null = null) {\r\n        const entry = this.getPlayerEndObject(roomIndex);\r\n        return typeof entry?.endingText === 'string' ? entry.endingText : '';\r\n    }\r\n\r\n    setPlayerEndText(roomIndex: number, text: string) {\r\n        const entry = this.getPlayerEndObject(roomIndex);\r\n        if (!entry) return '';\r\n        const normalized = this.normalizePlayerEndText(text);\r\n        entry.endingText = normalized;\r\n        return normalized;\r\n    }\r\n\r\n    syncPlayerStart(entry) {\r\n        if (!entry || !this.worldManager || !this.game) return;\r\n        const x = this.worldManager.clampCoordinate(entry?.x ?? 0);\r\n        const y = this.worldManager.clampCoordinate(entry?.y ?? 0);\r\n        const roomIndex = this.worldManager.clampRoomIndex(entry?.roomIndex ?? 0);\r\n        this.game.start = { x, y, roomIndex };\r\n        entry.x = x;\r\n        entry.y = y;\r\n        entry.roomIndex = roomIndex;\r\n    }\r\n\r\n    applyObjectBehavior(entry) {\r\n        if (!entry) return entry;\r\n        const type = entry.type;\r\n        const isCollectible = StateObjectManager.isCollectibleType(type);\r\n        entry.isCollectible = isCollectible;\r\n        entry.hideWhenCollected = itemCatalog.shouldHideWhenCollected(type);\n        entry.hiddenInRuntime = itemCatalog.isHiddenInRuntime(type);\n        entry.isLockedDoor = itemCatalog.isLockedDoor(type);\n        entry.hideWhenOpened = itemCatalog.shouldHideWhenOpened(type);\n        entry.isVariableDoor = itemCatalog.isVariableDoor(type);\n        entry.hideWhenVariableOpen = itemCatalog.shouldHideWhenVariableOpen(type);\n        entry.requiresVariable = itemCatalog.requiresVariable(type);\n        entry.swordDurability = itemCatalog.getSwordDurability(type);\n        return entry;\r\n    }\r\n\r\n    checkOpenedMagicDoor(variableId, value) {\r\n        const OT = this.types;\r\n        for (const object of this.getObjects()) {\r\n            if (value && object.type == OT.DOOR_VARIABLE && object.variableId == variableId) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nexport { StateObjectManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StatePlayerManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":23,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":23,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":27,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":27,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":31,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":31,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":35,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":35,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .player on a type that cannot be resolved.","line":35,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":39,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":39,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":44,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":44,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastX on a type that cannot be resolved.","line":44,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":44,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":45,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":45,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":45,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":45,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":45,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":45,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":45,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":45,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":46,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":46,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":46,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":46,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":46,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampCoordinate on a type that cannot be resolved.","line":46,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":48,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":48,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":48,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":48,"column":37,"nodeType":"MemberExpression","messageId":"errorCall","endLine":48,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .clampRoomIndex on a type that cannot be resolved.","line":48,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":54,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":54,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":55,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":55,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":55,"column":47,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":55,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `null`.","line":55,"column":50,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":55,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":55,"column":59,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":55,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":57,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":57,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":58,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":58,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":58,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":58,"column":67,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":59,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":59,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":59,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":59,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":59,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":60,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":60,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":60,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":60,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":61,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":61,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":62,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":62,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":63,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":63,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":64,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":64,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":65,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":65,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastDamageReduction on a type that cannot be resolved.","line":66,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":66,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":67,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":67,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":73,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":73,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":74,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":74,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":75,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":75,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":75,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":75,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":76,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":76,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":76,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":76,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":77,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":77,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":77,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":77,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":77,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":77,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":84,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":85,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":85,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":86,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":86,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":86,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":86,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":86,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":86,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":87,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":87,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":87,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":87,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":89,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":89,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":89,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":89,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":93,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":93,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":99,"column":40,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":99,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":99,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":99,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":101,"column":38,"nodeType":"BinaryExpression","messageId":"unsafeArgument","endLine":101,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":101,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":102,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":102,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":103,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":103,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":103,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":103,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":108,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":108,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":109,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":109,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":114,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":114,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .keys on a type that cannot be resolved.","line":114,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":114,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":125,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":125,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hasSkill on a type that cannot be resolved.","line":125,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":125,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":128,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":128,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastDamageReduction on a type that cannot be resolved.","line":129,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":129,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":130,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":130,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":130,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":130,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":130,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":130,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":131,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":131,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":131,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":131,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":131,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":131,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":132,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":132,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":132,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":132,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":134,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":134,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":137,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":137,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":138,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":138,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":139,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":139,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":140,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":140,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastDamageReduction on a type that cannot be resolved.","line":142,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":142,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":143,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":143,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":143,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":143,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":144,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":144,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":145,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":145,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .attemptRevive on a type that cannot be resolved.","line":145,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":145,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":147,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":147,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":147,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":147,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":147,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":147,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":148,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":148,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":148,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":148,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":153,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":153,"endColumn":119},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastRoomChangeTime on a type that cannot be resolved.","line":153,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":153,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastRoomChangeTime on a type that cannot be resolved.","line":153,"column":68,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":153,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":159,"column":27,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":159,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":159,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":159,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":161,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":161,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":162,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":162,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":163,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":163,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":163,"column":84,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":163,"endColumn":99},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":165,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":165,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":171,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":171,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":175,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":175,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":179,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":179,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":179,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":179,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":179,"column":73,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":179,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastDamageReduction on a type that cannot be resolved.","line":185,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":185,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastDamageReduction on a type that cannot be resolved.","line":186,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":186,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":194,"column":27,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":194,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":194,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":194,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":195,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":195,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":195,"column":45,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":195,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":195,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":195,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":195,"column":67,"nodeType":"BinaryExpression","messageId":"unsafeArgument","endLine":195,"endColumn":101},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":195,"column":79,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":195,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":196,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":196,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":196,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":196,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":196,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":196,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":197,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":197,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":197,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":197,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":202,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":202,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":202,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":202,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":207,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":207,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":207,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":207,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":212,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":212,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":212,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":212,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":216,"column":66,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":216,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":217,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":217,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":217,"column":23,"nodeType":"MemberExpression","messageId":"errorCall","endLine":217,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getBonusMaxLives on a type that cannot be resolved.","line":217,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":217,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":218,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":218,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":222,"column":61,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":222,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":228,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":228,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":229,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":229,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":230,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":230,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":231,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":231,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":231,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":231,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":232,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":234,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":232,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":232,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":233,"column":26,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":233,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":233,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":233,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":234,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":235,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":235,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":235,"column":57,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":235,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":235,"column":69,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":235,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":235,"column":79,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":235,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":236,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":236,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":236,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":236,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":236,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":236,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":237,"column":56,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":237,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":238,"column":38,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":238,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":238,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":238,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":241,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":241,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":244,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":244,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":246,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":246,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":247,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":247,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":249,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":249,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":249,"column":63,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":249,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":249,"column":75,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":249,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":251,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":251,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":252,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":252,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":254,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":254,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":254,"column":52,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":254,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":254,"column":64,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":254,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":254,"column":89,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":254,"endColumn":116},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShieldMax on a type that cannot be resolved.","line":254,"column":101,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":254,"endColumn":116},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":256,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":256,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":257,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":257,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .damageShield on a type that cannot be resolved.","line":259,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":259,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .swordType on a type that cannot be resolved.","line":260,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":260,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastDamageReduction on a type that cannot be resolved.","line":262,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":262,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lastDamageReduction on a type that cannot be resolved.","line":263,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":263,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":265,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":265,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .godMode on a type that cannot be resolved.","line":265,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":265,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":269,"column":27,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":269,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":271,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":271,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":271,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":271,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":271,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":271,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":272,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":272,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":272,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":272,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":272,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":272,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":273,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":273,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":273,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":273,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":278,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":278,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":278,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":278,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":290,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":290,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":290,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":290,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":308,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":308,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hasSkill on a type that cannot be resolved.","line":308,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":308,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":309,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":309,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":309,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":309,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .getXpBoost on a type that cannot be resolved.","line":309,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":309,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":314,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":314,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":315,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":315,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":316,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":316,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":321,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":321,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":321,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":321,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":322,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":322,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":322,"column":41,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":322,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":324,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":324,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":324,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":324,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":325,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":325,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":325,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":325,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":328,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":328,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":328,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":328,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":330,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":330,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":331,"column":73,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":331,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":334,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":334,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":336,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":336,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":336,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":336,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":336,"column":71,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":336,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":337,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":337,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":337,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":337,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":337,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":337,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":338,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":338,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .lives on a type that cannot be resolved.","line":338,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":338,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":338,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":338,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":340,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":340,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":341,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":341,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":342,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":342,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":344,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":344,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":344,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":344,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":349,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":349,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .level on a type that cannot be resolved.","line":349,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":349,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":350,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":350,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .experience on a type that cannot be resolved.","line":350,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":350,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":352,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":352,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentLives on a type that cannot be resolved.","line":352,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":352,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":353,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":353,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .maxLives on a type that cannot be resolved.","line":353,"column":35,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":353,"endColumn":43}],"suppressedMessages":[],"errorCount":242,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nclass StatePlayerManager {\n    maxLevel: number;\n    baseMaxLives: number;\n    experienceBase: number;\n    experienceGrowth: number;\n    maxKeys: number;\n    roomChangeDamageCooldown: number;\n\n    constructor(state: unknown, worldManager: unknown, skillManager: unknown = null) {\n        this.state = state;\n        this.worldManager = worldManager;\n        this.skillManager = skillManager;\n        this.maxLevel = 10;\r\n        this.baseMaxLives = 3;\r\n        this.experienceBase = 6;\r\n        this.experienceGrowth = 1.35;\r\n        this.maxKeys = 9;\r\n        this.roomChangeDamageCooldown = 1000;\r\n    }\r\n\r\n    setState(state) {\r\n        this.state = state;\r\n    }\r\n\r\n    setWorldManager(worldManager) {\r\n        this.worldManager = worldManager;\r\n    }\r\n\r\n    setSkillManager(skillManager) {\r\n        this.skillManager = skillManager;\r\n    }\r\n\r\n    get player() {\r\n        return this.state?.player;\r\n    }\r\n\r\n    getPlayer() {\r\n        return this.player;\r\n    }\r\n\r\n    setPosition(x, y, roomIndex = null) {\r\n        if (!this.player) return;\r\n        this.player.lastX = this.player.x;\r\n        this.player.x = this.worldManager.clampCoordinate(x);\r\n        this.player.y = this.worldManager.clampCoordinate(y);\r\n        if (roomIndex !== null && roomIndex !== undefined) {\r\n            this.player.roomIndex = this.worldManager.clampRoomIndex(roomIndex);\r\n        }\r\n        this.ensurePlayerStats();\r\n    }\r\n\r\n    reset(start) {\r\n        const fallback = start || { x: 1, y: 1, roomIndex: 0 };\r\n        this.setPosition(fallback.x, fallback.y, fallback.roomIndex);\r\n        if (!this.player) return;\r\n        this.player.level = 1;\r\n        this.player.maxLives = this.calculateMaxLives(this.player.level);\r\n        this.player.currentLives = this.player.maxLives;\r\n        this.player.lives = this.player.currentLives;\r\n        this.player.keys = 0;\r\n        this.player.experience = 0;\r\n        this.player.damageShield = 0;\r\n        this.player.damageShieldMax = 0;\r\n        this.player.swordType = null;\r\n        this.player.lastDamageReduction = 0;\r\n        this.player.godMode = false;\r\n    }\r\n\r\n    setLevel(level = 1) {\r\n        if (!this.player) return 1;\r\n        const clamped = this.clampLevel(level);\r\n        this.player.level = clamped;\r\n        this.player.experience = 0;\r\n        this.player.maxLives = this.calculateMaxLives(clamped);\r\n        this.player.currentLives = this.player.maxLives;\r\n        this.player.lives = this.player.currentLives;\r\n        this.ensurePlayerStats();\r\n        return clamped;\r\n    }\r\n\r\n    setGodMode(active = false) {\r\n        if (!this.player) return false;\r\n        this.player.godMode = Boolean(active);\r\n        if (this.player.godMode) {\r\n            this.player.currentLives = this.player.maxLives;\r\n            this.player.lives = this.player.currentLives;\r\n        }\r\n        return this.player.godMode;\r\n    }\r\n\r\n    isGodMode() {\r\n        return Boolean(this.player?.godMode);\r\n    }\r\n\r\n    addKeys(amount = 1) {\r\n        if (!this.player) return 0;\r\n        const numeric = Number(amount);\r\n        if (!Number.isFinite(numeric)) return this.player.keys;\r\n        const delta = Math.floor(numeric);\r\n        const nextKeys = Math.max(0, this.player.keys + delta);\r\n        this.player.keys = Math.min(this.maxKeys, nextKeys);\r\n        return this.player.keys;\r\n    }\r\n\r\n    consumeKey() {\r\n        if (!this.player) return false;\r\n        if (this.player.keys <= 0) return false;\r\n        this.player.keys -= 1;\r\n        return true;\r\n    }\r\n\r\n    getKeys() {\r\n        return this.player?.keys ?? 0;\r\n    }\r\n\r\n    getMaxKeys() {\r\n        return this.maxKeys;\r\n    }\r\n\r\n    damage(amount = 1) {\r\n        if (!this.player) return 0;\r\n        this.ensurePlayerStats();\r\n        let delta = Number.isFinite(amount) ? Math.max(0, amount) : 1;\r\n        if (this.skillManager?.hasSkill?.('iron-body')) {\r\n            delta = Math.max(0, delta - 1);\r\n        }\r\n        if (this.player.godMode) {\r\n            this.player.lastDamageReduction = delta;\r\n            this.player.currentLives = this.player.maxLives;\r\n            this.player.lives = this.player.currentLives;\r\n            return this.player.currentLives;\r\n        }\r\n        const shield = Math.max(0, Number(this.player.damageShield) || 0);\r\n        const reduction = Math.min(shield, delta);\r\n        const effective = Math.max(0, delta - reduction);\r\n        this.player.damageShield = Math.max(0, shield - reduction);\r\n        if (this.player.damageShield === 0) {\r\n            this.player.damageShieldMax = 0;\r\n            this.player.swordType = null;\r\n        }\r\n        this.player.lastDamageReduction = reduction;\r\n        this.player.currentLives = Math.max(0, this.player.currentLives - effective);\r\n        if (this.player.currentLives <= 0) {\r\n            this.skillManager?.attemptRevive?.(this.player);\r\n        }\r\n        this.player.lives = this.player.currentLives;\r\n        return this.player.currentLives;\r\n    }\r\n\r\n    isOnDamageCooldown() {\r\n        const now = Date.now();\r\n        return this.player.lastRoomChangeTime && now - this.player.lastRoomChangeTime < this.roomChangeDamageCooldown;\r\n    }\r\n\r\n    addDamageShield(amount = 1, swordType = null) {\r\n        if (!this.player) return 0;\r\n        const numeric = Number.isFinite(amount) ? Math.max(0, Math.floor(amount)) : 0;\r\n        if (numeric <= 0) return this.player.damageShield ?? 0;\r\n        this.ensurePlayerStats();\r\n        const shield = Math.max(0, Number(this.player.damageShield) || 0) + numeric;\r\n        this.player.damageShield = shield;\r\n        this.player.damageShieldMax = Math.max(shield, numeric, Number(this.player.damageShieldMax) || 0);\r\n        if (swordType) {\r\n            this.player.swordType = swordType;\r\n        }\r\n        return shield;\r\n    }\r\n\r\n    getDamageShield() {\r\n        return Math.max(0, Number(this.player?.damageShield) || 0);\r\n    }\r\n\r\n    getDamageShieldMax() {\r\n        return Math.max(0, Number(this.player?.damageShieldMax) || 0);\r\n    }\r\n\r\n    getSwordType() {\r\n        return typeof this.player?.swordType === 'string' ? this.player.swordType : null;\r\n    }\r\n\r\n    consumeLastDamageReduction() {\r\n        if (!this.player) return 0;\r\n        this.ensurePlayerStats();\r\n        const reduction = Math.max(0, Number(this.player.lastDamageReduction) || 0);\r\n        this.player.lastDamageReduction = 0;\r\n        return reduction;\r\n    }\r\n\r\n    gainLives(amount = 1) {\r\n        if (!this.player) return 0;\r\n        this.ensurePlayerStats();\r\n        const numeric = Number.isFinite(amount) ? Math.max(0, Math.floor(amount)) : 0;\r\n        if (numeric <= 0) return this.player.currentLives;\r\n        this.player.currentLives = Math.min(this.player.maxLives, this.player.currentLives + numeric);\r\n        this.player.lives = this.player.currentLives;\r\n        return this.player.currentLives;\r\n    }\r\n\r\n    getLives() {\r\n        this.ensurePlayerStats();\r\n        return this.player?.currentLives ?? 0;\r\n    }\r\n\r\n    getMaxLives() {\r\n        this.ensurePlayerStats();\r\n        return this.player?.maxLives ?? 0;\r\n    }\r\n\r\n    getLevel() {\r\n        this.ensurePlayerStats();\r\n        return this.player?.level ?? 1;\r\n    }\r\n\r\n    calculateMaxLives(level) {\r\n        const numericLevel = Number.isFinite(level) ? Math.floor(level) : 1;\r\n        const bonus = this.skillManager?.getBonusMaxLives?.() || 0;\r\n        return this.baseMaxLives + Math.max(0, numericLevel - 1) + bonus;\r\n    }\r\n\r\n    clampLevel(level) {\r\n        const numeric = Number.isFinite(level) ? Math.floor(level) : 1;\r\n        return Math.max(1, Math.min(this.maxLevel, numeric));\r\n    }\r\n\r\n    ensurePlayerStats() {\r\n        if (!this.player) return;\r\n        const level = this.clampLevel(this.player.level ?? 1);\r\n        this.player.level = level;\r\n        const expectedMax = this.calculateMaxLives(level);\r\n        this.player.maxLives = expectedMax;\r\n        const currentLives = Number.isFinite(this.player.currentLives)\r\n            ? Math.floor(this.player.currentLives)\r\n            : this.player.maxLives;\r\n        this.player.currentLives = Math.max(0, Math.min(this.player.maxLives, currentLives));\r\n        this.player.lives = this.player.currentLives;\r\n        const experience = Number.isFinite(this.player.experience)\r\n            ? Math.max(0, Math.floor(this.player.experience))\r\n            : 0;\r\n        if (level >= this.maxLevel) {\r\n            this.player.experience = 0;\r\n        } else {\r\n            const requirement = this.getExperienceForNextLevel(level);\r\n            this.player.experience = Math.min(experience, Math.max(0, requirement - 1));\r\n        }\r\n        if (!Number.isFinite(this.player.damageShield)) {\r\n            this.player.damageShield = 0;\r\n        } else {\r\n            this.player.damageShield = Math.max(0, Math.floor(this.player.damageShield));\r\n        }\r\n        if (!Number.isFinite(this.player.damageShieldMax)) {\r\n            this.player.damageShieldMax = 0;\r\n        } else {\r\n            this.player.damageShieldMax = Math.max(this.player.damageShield, Math.floor(this.player.damageShieldMax));\r\n        }\r\n        if (typeof this.player.swordType !== 'string') {\r\n            this.player.swordType = null;\r\n        }\r\n        if (this.player.damageShield <= 0) {\r\n            this.player.swordType = null;\r\n        }\r\n        if (!Number.isFinite(this.player.lastDamageReduction)) {\r\n            this.player.lastDamageReduction = 0;\r\n        }\r\n        this.player.godMode = Boolean(this.player.godMode);\r\n    }\r\n\r\n    healToFull() {\r\n        if (!this.player) return this.getLives();\r\n        this.ensurePlayerStats();\r\n        this.player.currentLives = this.player.maxLives;\r\n        this.player.lives = this.player.currentLives;\r\n        return this.player.currentLives;\r\n    }\r\n\r\n    getExperience() {\r\n        this.ensurePlayerStats();\r\n        return this.player?.experience ?? 0;\r\n    }\r\n\r\n    getExperienceForNextLevel(level) {\r\n        const clamped = this.clampLevel(level);\r\n        if (clamped >= this.maxLevel) return 0;\r\n        const value = Math.floor(this.experienceBase * Math.pow(this.experienceGrowth, clamped - 1));\r\n        return Math.max(5, value);\r\n    }\r\n\r\n    getExperienceToNext() {\r\n        this.ensurePlayerStats();\r\n        const level = this.player?.level ?? 1;\r\n        return this.getExperienceForNextLevel(level);\r\n    }\r\n\r\n    addExperience(amount = 0) {\r\n        if (!this.player) {\r\n            return {\r\n                leveledUp: false,\r\n                levelsGained: 0,\r\n                level: 0,\r\n                experience: 0,\r\n                experienceToNext: 0,\r\n                currentLives: 0,\r\n                maxLives: 0\r\n            };\r\n        }\r\n        this.ensurePlayerStats();\r\n        let gain = Number.isFinite(amount) ? Math.max(0, Math.floor(amount)) : 0;\r\n        if (this.skillManager?.hasSkill?.('xp-boost')) {\r\n            const boost = this.skillManager?.getXpBoost?.() ?? 0;\r\n            if (boost > 0) {\r\n                gain = Math.floor(gain * (1 + boost));\r\n            }\r\n        }\r\n        if (gain <= 0 || this.player.level >= this.maxLevel) {\r\n            if (this.player.level >= this.maxLevel) {\r\n                this.player.experience = 0;\r\n            }\r\n            return {\r\n                leveledUp: false,\r\n                levelsGained: 0,\r\n                level: this.player.level,\r\n                experience: this.player.experience,\r\n                experienceToNext: this.getExperienceToNext(),\r\n                currentLives: this.player.currentLives,\r\n                maxLives: this.player.maxLives\r\n            };\r\n        }\r\n        let experience = this.player.experience + gain;\r\n        let levelsGained = 0;\r\n        while (this.player.level < this.maxLevel) {\r\n            const required = this.getExperienceForNextLevel(this.player.level);\r\n            if (experience < required) break;\r\n            experience -= required;\r\n            this.player.level += 1;\r\n            levelsGained += 1;\r\n            this.player.maxLives = this.calculateMaxLives(this.player.level);\r\n            this.player.currentLives = this.player.maxLives;\r\n            this.player.lives = this.player.currentLives;\r\n        }\r\n        if (this.player.level >= this.maxLevel) {\r\n            this.player.level = this.maxLevel;\r\n            this.player.experience = 0;\r\n        } else {\r\n            this.player.experience = experience;\r\n        }\r\n        return {\r\n            leveledUp: levelsGained > 0,\r\n            levelsGained,\r\n            level: this.player.level,\r\n            experience: this.player.experience,\r\n            experienceToNext: this.getExperienceToNext(),\r\n            currentLives: this.player.currentLives,\r\n            maxLives: this.player.maxLives\r\n        };\r\n    }\r\n\r\n    handleEnemyDefeated(experienceReward = 0) {\r\n        return this.addExperience(experienceReward);\r\n    }\r\n}\r\n\r\nexport { StatePlayerManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateSkillManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skillRuntime on a type that cannot be resolved.","line":30,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":30,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skillRuntime on a type that cannot be resolved.","line":31,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":31,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":33,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":33,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .skillRuntime on a type that cannot be resolved.","line":33,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":33,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":34,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":34,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":34,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<unknown> | null | undefined`.","line":35,"column":34,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":35,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":35,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":35,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":35,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":37,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":37,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":37,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":38,"column":38,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":38,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":38,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":38,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .xpBoost on a type that cannot be resolved.","line":40,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":40,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .xpBoost on a type that cannot be resolved.","line":40,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":40,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":40,"column":74,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":40,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .xpBoost on a type that cannot be resolved.","line":40,"column":82,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":40,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":41,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":41,"column":61,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":42,"column":38,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":42,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":42,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":42,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":44,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":44,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":45,"column":38,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":45,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":45,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":45,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingManualRevive on a type that cannot be resolved.","line":47,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":47,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingManualRevive on a type that cannot be resolved.","line":47,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":47,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .recentRevive on a type that cannot be resolved.","line":48,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .recentRevive on a type that cannot be resolved.","line":48,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":48,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":49,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":49,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":49,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":49,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<unknown> | null | undefined`.","line":50,"column":34,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":50,"endColumn":102},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":50,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":50,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":50,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":50,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":52,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":52,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":52,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":52,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<unknown> | null | undefined`.","line":53,"column":34,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":53,"endColumn":104},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":53,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":53,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":53,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":53,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":55,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":59,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":55,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":55,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":55,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":56,"column":15,"nodeType":"MemberExpression","messageId":"errorCall","endLine":58,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":56,"column":15,"nodeType":"MemberExpression","messageId":"errorCall","endLine":57,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":56,"column":23,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":56,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":57,"column":80,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":57,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .filter on a type that cannot be resolved.","line":58,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":58,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":60,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":60,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":60,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":60,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":60,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":61,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":61,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .levelUpOverlay on a type that cannot be resolved.","line":68,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":68,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .levelUpOverlay on a type that cannot be resolved.","line":69,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":69,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":71,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":71,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .levelUpOverlay on a type that cannot be resolved.","line":71,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":71,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":72,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":72,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":72,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":72,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":73,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":73,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":73,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":73,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":73,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":73,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":73,"column":68,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":73,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":74,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":74,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":74,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":74,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":74,"column":83,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":74,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":74,"column":91,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":74,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":75,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":75,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":79,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":79,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":80,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":80,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":81,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":81,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .xpBoost on a type that cannot be resolved.","line":82,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":82,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":83,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":83,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":84,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":84,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingManualRevive on a type that cannot be resolved.","line":85,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":85,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .recentRevive on a type that cannot be resolved.","line":86,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":86,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":87,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":87,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":88,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":88,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":89,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":89,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":94,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":94,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":95,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":96,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":96,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":97,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":97,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":101,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":101,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":101,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":101,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":101,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":106,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":106,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":107,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":107,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":107,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":107,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":107,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":107,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":111,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":111,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":115,"column":14,"nodeType":"MemberExpression","messageId":"errorCall","endLine":115,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":115,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":116,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":116,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":116,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":116,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":123,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":123,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .xpBoost on a type that cannot be resolved.","line":126,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":126,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":130,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":130,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":130,"column":58,"nodeType":"BinaryExpression","messageId":"unsafeArgument","endLine":130,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":130,"column":67,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":130,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":138,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":138,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":139,"column":28,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":139,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":139,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":139,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":143,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":143,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":145,"column":27,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":145,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":145,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":145,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":146,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":146,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":146,"column":45,"nodeType":"BinaryExpression","messageId":"unsafeArgument","endLine":146,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":146,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":146,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":147,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":147,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bonusMaxLives on a type that cannot be resolved.","line":147,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":147,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":151,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":151,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .xpBoost on a type that cannot be resolved.","line":152,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":152,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":156,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":156,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":159,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":159,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":159,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":159,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":159,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":159,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":160,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":160,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":160,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":160,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .player on a type that cannot be resolved.","line":163,"column":55,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":163,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":164,"column":38,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":164,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .player on a type that cannot be resolved.","line":164,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":164,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":182,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":182,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":182,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":182,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":185,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":185,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":185,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":185,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":185,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":185,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":186,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":186,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":186,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":186,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":190,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":190,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":191,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":191,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":191,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":191,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":191,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":191,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":192,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":192,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":192,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":192,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":201,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":201,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":202,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":202,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":202,"column":29,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":202,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":204,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":204,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":205,"column":39,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":205,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":205,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":205,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":207,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":209,"endColumn":116},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":208,"column":17,"nodeType":"MemberExpression","messageId":"errorCall","endLine":208,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":208,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":208,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .player on a type that cannot be resolved.","line":209,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":209,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":209,"column":86,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":209,"endColumn":109},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .player on a type that cannot be resolved.","line":209,"column":97,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":209,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `null`.","line":210,"column":49,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":210,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":212,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":212,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":213,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":213,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":214,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":214,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":215,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":215,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":215,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":215,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":215,"column":53,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":215,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":216,"column":17,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":216,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":221,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":221,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":221,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":221,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":221,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":221,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":222,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":222,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":223,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":223,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":228,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":228,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .player on a type that cannot be resolved.","line":231,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":231,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":232,"column":38,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":232,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .player on a type that cannot be resolved.","line":232,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":232,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string[]`.","line":234,"column":72,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":234,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":234,"column":80,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string[]`.","line":234,"column":97,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":234,"endColumn":110},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":234,"column":105,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":110},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":235,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":235,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":237,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":237,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | null | undefined`.","line":243,"column":51,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":243,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":249,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":249,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":250,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":250,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":250,"column":30,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":250,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":250,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":250,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":251,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":251,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":251,"column":37,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":251,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":253,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":253,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":254,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":254,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":254,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":254,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":257,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":257,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":258,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":258,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":259,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":259,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":259,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":259,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":263,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":263,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":264,"column":22,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":264,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":265,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":265,"endColumn":142},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":265,"column":86,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":265,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":265,"column":136,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":265,"endColumn":142},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":266,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":266,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":266,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":266,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"The type of computed name [effectiveIndex] cannot be resolved.","line":266,"column":40,"nodeType":"Identifier","messageId":"errorComputedMemberAccess","endLine":266,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":268,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":268,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .choices on a type that cannot be resolved.","line":269,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":269,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .cursor on a type that cannot be resolved.","line":270,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":270,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":273,"column":27,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":273,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":273,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":273,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":275,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":275,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":276,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":276,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":276,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":276,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":277,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":277,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":277,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":277,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":277,"column":73,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":277,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":278,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":278,"endColumn":108},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .carryoverSkills on a type that cannot be resolved.","line":278,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":278,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":278,"column":35,"nodeType":"MemberExpression","messageId":"errorCall","endLine":278,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .filter on a type that cannot be resolved.","line":278,"column":40,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":278,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":278,"column":55,"nodeType":"LogicalExpression","messageId":"unsafeReturn","endLine":278,"endColumn":107},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":278,"column":81,"nodeType":"MemberExpression","messageId":"errorCall","endLine":278,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .owned on a type that cannot be resolved.","line":278,"column":89,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":278,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .currentChoicePool on a type that cannot be resolved.","line":279,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":279,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":280,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":280,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingSelections on a type that cannot be resolved.","line":280,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":280,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingLevelQueue on a type that cannot be resolved.","line":280,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":280,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":281,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":281,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .active on a type that cannot be resolved.","line":285,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":285,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":289,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":289,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":294,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":294,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":295,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":295,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingManualRevive on a type that cannot be resolved.","line":296,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":296,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .recentRevive on a type that cannot be resolved.","line":297,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":297,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":302,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":302,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .recentRevive on a type that cannot be resolved.","line":303,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":303,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":308,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":308,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":309,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":309,"endColumn":110},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":309,"column":56,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":309,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingManualRevive on a type that cannot be resolved.","line":309,"column":90,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":309,"endColumn":109},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":313,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":313,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":317,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":317,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .necromancerCharges on a type that cannot be resolved.","line":317,"column":58,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":317,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingManualRevive on a type that cannot be resolved.","line":318,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":318,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .recentRevive on a type that cannot be resolved.","line":319,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":319,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":324,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":324,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .pendingManualRevive on a type that cannot be resolved.","line":325,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":325,"endColumn":36}],"suppressedMessages":[],"errorCount":232,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { SkillDefinitions } from '../definitions/SkillDefinitions';\r\nclass StateSkillManager {\r\n    constructor(state: unknown) {\r\n        this.state = state;\r\n        this.resetRuntime();\r\n    }\r\n\r\n    setState(state: unknown) {\r\n        this.state = state;\r\n        this.ensureRuntime();\r\n        this.ensureOverlay();\r\n    }\r\n\r\n    ensureRuntime() {\r\n        if (!this.state) {\r\n            return {\r\n                owned: [],\r\n                bonusMaxLives: 0,\r\n                xpBoost: 0,\r\n                pendingSelections: 0,\r\n                necromancerCharges: 0,\r\n                pendingManualRevive: false,\r\n                recentRevive: false,\r\n                carryoverSkills: [],\r\n                currentChoicePool: [],\r\n                pendingLevelQueue: []\r\n            };\r\n        }\r\n        if (!this.state.skillRuntime) {\r\n            this.state.skillRuntime = {};\r\n        }\r\n        const runtime = this.state.skillRuntime;\r\n        runtime.owned = Array.isArray(runtime.owned)\r\n            ? Array.from(new Set(runtime.owned.filter((id) => typeof id === 'string' && id)))\r\n            : [];\r\n        runtime.bonusMaxLives = Number.isFinite(runtime.bonusMaxLives)\r\n            ? Math.max(0, Math.floor(runtime.bonusMaxLives))\r\n            : 0;\r\n        runtime.xpBoost = Number.isFinite(runtime.xpBoost) ? Math.max(0, runtime.xpBoost) : 0;\r\n        runtime.pendingSelections = Number.isFinite(runtime.pendingSelections)\r\n            ? Math.max(0, Math.floor(runtime.pendingSelections))\r\n            : 0;\r\n        runtime.necromancerCharges = Number.isFinite(runtime.necromancerCharges)\r\n            ? Math.max(0, Math.floor(runtime.necromancerCharges))\r\n            : 0;\r\n        runtime.pendingManualRevive = Boolean(runtime.pendingManualRevive);\r\n        runtime.recentRevive = Boolean(runtime.recentRevive);\r\n        runtime.carryoverSkills = Array.isArray(runtime.carryoverSkills)\r\n            ? Array.from(new Set(runtime.carryoverSkills.filter((id) => typeof id === 'string' && id)))\r\n            : [];\r\n        runtime.currentChoicePool = Array.isArray(runtime.currentChoicePool)\r\n            ? Array.from(new Set(runtime.currentChoicePool.filter((id) => typeof id === 'string' && id)))\r\n            : [];\r\n        runtime.pendingLevelQueue = Array.isArray(runtime.pendingLevelQueue)\r\n            ? runtime.pendingLevelQueue\r\n                  .map((lvl) => (Number.isFinite(lvl) ? Math.max(1, Math.floor(lvl)) : null))\r\n                  .filter((lvl) => lvl !== null)\r\n            : [];\r\n        runtime.pendingSelections = runtime.pendingLevelQueue.length;\r\n        return runtime;\r\n    }\r\n\r\n    ensureOverlay() {\r\n        if (!this.state) {\r\n            return { active: false, choices: [], cursor: 0 };\r\n        }\r\n        if (!this.state.levelUpOverlay) {\r\n            this.state.levelUpOverlay = {};\r\n        }\r\n        const overlay = this.state.levelUpOverlay;\r\n        overlay.active = Boolean(overlay.active);\r\n        overlay.choices = Array.isArray(overlay.choices) ? overlay.choices : [];\r\n        overlay.cursor = Number.isFinite(overlay.cursor) ? Math.max(0, Math.floor(overlay.cursor)) : 0;\r\n        return overlay;\r\n    }\r\n\r\n    resetRuntime() {\r\n        const runtime = this.ensureRuntime();\r\n        runtime.owned = [];\r\n        runtime.bonusMaxLives = 0;\r\n        runtime.xpBoost = 0;\r\n        runtime.pendingSelections = 0;\r\n        runtime.necromancerCharges = 0;\r\n        runtime.pendingManualRevive = false;\r\n        runtime.recentRevive = false;\r\n        runtime.carryoverSkills = [];\r\n        runtime.currentChoicePool = [];\r\n        runtime.pendingLevelQueue = [];\r\n        this.resetOverlay();\r\n    }\r\n\r\n    resetOverlay() {\r\n        const overlay = this.ensureOverlay();\r\n        overlay.active = false;\r\n        overlay.choices = [];\r\n        overlay.cursor = 0;\r\n    }\r\n\r\n    getOwnedSkills() {\r\n        return this.ensureRuntime().owned.slice();\r\n    }\r\n\r\n    hasSkill(skillId: string) {\r\n        if (!skillId) return false;\r\n        const runtime = this.ensureRuntime();\r\n        return runtime.owned.includes(skillId);\r\n    }\r\n\r\n    addSkill(skillId: string) {\r\n        const runtime = this.ensureRuntime();\r\n        const definition = SkillDefinitions.getById(skillId);\r\n        if (!definition) return null;\r\n\r\n        if (!runtime.owned.includes(skillId)) {\r\n            runtime.owned.push(skillId);\r\n            this.applyImmediateEffects(definition);\r\n        }\r\n        return definition;\r\n    }\r\n\r\n    applyImmediateEffects(definition: { id: string }) {\r\n        const runtime = this.ensureRuntime();\r\n        switch (definition.id) {\r\n            case 'xp-boost':\r\n                runtime.xpBoost = 0.5;\r\n                break;\r\n            case 'necromancer':\r\n                // Only one revive for the whole game.\r\n                runtime.necromancerCharges = Math.min(1, (runtime.necromancerCharges || 0) + 1);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    getBonusMaxLives() {\r\n        const runtime = this.ensureRuntime();\r\n        return Math.max(0, runtime.bonusMaxLives || 0);\r\n    }\r\n\r\n    addBonusMaxLife(amount: number = 1) {\r\n        const runtime = this.ensureRuntime();\r\n        const numeric = Number.isFinite(amount) ? Math.max(0, Math.floor(amount)) : 0;\r\n        if (numeric <= 0) return runtime.bonusMaxLives;\r\n        runtime.bonusMaxLives = Math.max(0, (runtime.bonusMaxLives || 0) + numeric);\r\n        return runtime.bonusMaxLives;\r\n    }\r\n\r\n    getXpBoost() {\r\n        const runtime = this.ensureRuntime();\r\n        return Math.max(0, Number(runtime.xpBoost) || 0);\r\n    }\r\n\r\n    queueLevelUps(count: number = 1, latestLevel: number | null = null) {\r\n        const runtime = this.ensureRuntime();\r\n        const numeric = Number.isFinite(count) ? Math.max(0, Math.floor(count)) : 0;\r\n        if (numeric <= 0) {\r\n            runtime.pendingSelections = runtime.pendingLevelQueue.length;\r\n            return runtime.pendingSelections;\r\n        }\r\n\r\n        const baseLevel = Number.isFinite(this.state?.player?.level)\r\n            ? Math.max(1, Math.floor(this.state.player.level))\r\n            : 1;\r\n        const finalLevel = Number.isFinite(latestLevel) ? Math.max(1, Math.floor(latestLevel)) : null;\r\n        const levelsCrossed = [];\r\n\r\n        if (finalLevel !== null) {\r\n            const start = Math.max(1, finalLevel - numeric + 1);\r\n            for (let lvl = start; lvl <= finalLevel; lvl++) {\r\n                levelsCrossed.push(lvl);\r\n            }\r\n        } else {\r\n            for (let i = 0; i < numeric; i++) {\r\n                levelsCrossed.push(baseLevel + i);\r\n            }\r\n        }\r\n\r\n        levelsCrossed.forEach((lvl) => {\r\n            if (lvl % 2 === 0) {\r\n                runtime.pendingLevelQueue.push(lvl);\r\n            }\r\n        });\r\n        runtime.pendingSelections = runtime.pendingLevelQueue.length;\r\n        return runtime.pendingSelections;\r\n    }\r\n\r\n    getPendingSelections() {\r\n        const runtime = this.ensureRuntime();\r\n        runtime.pendingSelections = runtime.pendingLevelQueue.length;\r\n        return runtime.pendingSelections;\r\n    }\r\n\r\n    hasPendingSelections() {\r\n        return this.getPendingSelections() > 0;\r\n    }\r\n\r\n    startLevelSelection() {\r\n        if (!this.hasPendingSelections()) return null;\r\n        const overlay = this.ensureOverlay();\r\n        if (overlay.active) return overlay;\r\n\r\n        const runtime = this.ensureRuntime();\r\n        const safetyCap = Math.max(1, runtime.pendingLevelQueue.length || 1);\r\n        for (let i = 0; i < safetyCap; i++) {\r\n            const levelForChoice =\r\n                runtime.pendingLevelQueue.shift() ||\r\n                (Number.isFinite(this.state?.player?.level) ? Math.max(1, Math.floor(this.state.player.level)) : 1);\r\n            const choices = this.pickChoices(2, levelForChoice);\r\n            if (choices.length) {\r\n                overlay.active = true;\r\n                overlay.choices = choices;\r\n                overlay.cursor = 0;\r\n                runtime.pendingSelections = runtime.pendingLevelQueue.length;\r\n                return overlay;\r\n            }\r\n            // No choices for this level; discard and try next pending level.\r\n        }\r\n\r\n        runtime.pendingSelections = runtime.pendingLevelQueue.length;\r\n        runtime.carryoverSkills = [];\r\n        runtime.currentChoicePool = [];\r\n        return null;\r\n    }\r\n\r\n    pickChoices(count = 2, levelOverride = null) {\r\n        const runtime = this.ensureRuntime();\r\n        const playerLevel = Number.isFinite(levelOverride)\r\n            ? Math.max(1, Math.floor(levelOverride))\r\n            : Number.isFinite(this.state?.player?.level)\r\n            ? Math.max(1, Math.floor(this.state.player.level))\r\n            : 1;\r\n        const queue = SkillDefinitions.buildQueueForLevel(playerLevel, runtime.carryoverSkills, runtime.owned);\r\n        runtime.currentChoicePool = queue;\r\n        if (!queue.length) {\r\n            runtime.carryoverSkills = [];\r\n            return [];\r\n        }\r\n        const choiceCount = Math.max(1, Math.min(count, queue.length));\r\n        const choices = queue\r\n            .slice(0, choiceCount)\r\n            .map((id) => SkillDefinitions.getById(id))\r\n            .filter(Boolean);\r\n        return choices;\r\n    }\r\n\r\n    moveCursor(delta: number = 0) {\r\n        const overlay = this.ensureOverlay();\r\n        if (!overlay.active) return overlay.cursor;\r\n        const choiceCount = overlay.choices.length;\r\n        if (choiceCount <= 1) {\r\n            overlay.cursor = 0;\r\n            return overlay.cursor;\r\n        }\r\n        const numeric = Number.isFinite(delta) ? Math.floor(delta) : 0;\r\n        const next = (overlay.cursor + numeric + choiceCount) % choiceCount;\r\n        overlay.cursor = next;\r\n        return overlay.cursor;\r\n    }\r\n\r\n    completeSelection(index: number | null = null) {\r\n        const overlay = this.ensureOverlay();\r\n        if (!overlay.active) return null;\r\n        const effectiveIndex = Number.isFinite(index) ? Math.max(0, Math.min(overlay.choices.length - 1, Math.floor(index))) : overlay.cursor;\r\n        const choice = overlay.choices[effectiveIndex] || null;\r\n\r\n        overlay.active = false;\r\n        overlay.choices = [];\r\n        overlay.cursor = 0;\r\n\r\n        if (choice) {\r\n            this.addSkill(choice.id);\r\n        }\r\n        const runtime = this.ensureRuntime();\r\n        const chosenId = choice?.id || null;\r\n        const pool = Array.isArray(runtime.currentChoicePool) ? runtime.currentChoicePool : [];\r\n        runtime.carryoverSkills = pool.filter((id) => id && id !== chosenId && !runtime.owned.includes(id));\r\n        runtime.currentChoicePool = [];\r\n        runtime.pendingSelections = runtime.pendingLevelQueue.length;\r\n        return choice;\r\n    }\r\n\r\n    isOverlayActive() {\r\n        return Boolean(this.ensureOverlay().active);\r\n    }\r\n\r\n    getOverlay() {\r\n        return this.ensureOverlay();\r\n    }\r\n\r\n    attemptRevive(player = null) {\r\n        if (!player || !this.hasSkill('necromancer')) return false;\r\n        const runtime = this.ensureRuntime();\r\n        if (runtime.necromancerCharges <= 0) return false;\r\n        runtime.pendingManualRevive = true;\r\n        runtime.recentRevive = false;\r\n        return false;\r\n    }\r\n\r\n    consumeRecentReviveFlag() {\r\n        const runtime = this.ensureRuntime();\r\n        runtime.recentRevive = false;\r\n        return false;\r\n    }\r\n\r\n    hasPendingManualRevive() {\r\n        const runtime = this.ensureRuntime();\r\n        return this.hasSkill('necromancer') && runtime.necromancerCharges > 0 && runtime.pendingManualRevive;\r\n    }\r\n\r\n    consumeManualRevive() {\r\n        const runtime = this.ensureRuntime();\r\n        if (!this.hasPendingManualRevive()) {\r\n            return false;\r\n        }\r\n        runtime.necromancerCharges = Math.max(0, runtime.necromancerCharges - 1);\r\n        runtime.pendingManualRevive = false;\r\n        runtime.recentRevive = false;\r\n        return true;\r\n    }\r\n\r\n    clearManualReviveFlag() {\r\n        const runtime = this.ensureRuntime();\r\n        runtime.pendingManualRevive = false;\r\n    }\r\n}\r\n\r\nexport { StateSkillManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateVariableManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":4,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":4,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":5,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":5,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":9,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":25,"nodeType":"Property","messageId":"anyAssignment","endLine":9,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":32,"nodeType":"Property","messageId":"anyAssignment","endLine":9,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":41,"nodeType":"Property","messageId":"anyAssignment","endLine":9,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":55,"nodeType":"Property","messageId":"anyAssignment","endLine":9,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":25,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":25,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":26,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":26,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":31,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":31,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":35,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":35,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":40,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":40,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":40,"column":19,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":40,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":40,"column":65,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":40,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":41,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":41,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":41,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":41,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":46,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":46,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":46,"column":20,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":46,"column":63,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":46,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":47,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":47,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":47,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":47,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":51,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":57,"endColumn":13},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":51,"column":16,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":51,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on an `any` value.","line":51,"column":29,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":51,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":52,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":52,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":52,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":52,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":53,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":53,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .order on an `any` value.","line":53,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":53,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":54,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":54,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":54,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":55,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":55,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .color on an `any` value.","line":55,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":55,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":56,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":56,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":62,"column":62,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":62,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":63,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":74,"endColumn":12},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":63,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":63,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on a type that cannot be resolved.","line":63,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":63,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":64,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":64,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":64,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":66,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":66,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":66,"column":28,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":66,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":67,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":67,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .order on an `any` value.","line":67,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":67,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":68,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":70,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":68,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":68,"column":59,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":68,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":68,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":69,"column":23,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":69,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":69,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":69,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":71,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":71,"endColumn":119},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .color on an `any` value.","line":71,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":71,"column":61,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":71,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .color on an `any` value.","line":71,"column":69,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":71,"column":84,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":71,"endColumn":102},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .color on an `any` value.","line":71,"column":92,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .color on an `any` value.","line":71,"column":114,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":71,"endColumn":119},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":72,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":72,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":78,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":78,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":78,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":78,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":82,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":82,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":82,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":82,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":90,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":90,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .some on a type that cannot be resolved.","line":90,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":90,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":90,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":90,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":95,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":95,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":95,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":95,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":95,"column":36,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":95,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":95,"column":64,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":95,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":99,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":99,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on a type that cannot be resolved.","line":100,"column":38,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":100,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":105,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":105,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":105,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":105,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":106,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":106,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":108,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":108,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":109,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":109,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":115,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":115,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .forEach on a type that cannot be resolved.","line":115,"column":43,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":115,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":116,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":116,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":118,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":118,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":119,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":119,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":129,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":129,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on a type that cannot be resolved.","line":129,"column":48,"nodeType":"Literal","messageId":"errorMemberExpression","endLine":129,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on a type that cannot be resolved.","line":129,"column":73,"nodeType":"Literal","messageId":"errorMemberExpression","endLine":129,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":134,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":134,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .fallbackName on an `any` value.","line":134,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":134,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":134,"column":56,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":134,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":135,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":135,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":136,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":136,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":136,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":136,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":136,"column":52,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":136,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":138,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":138,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .fallbackName on an `any` value.","line":149,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":149,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":150,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":150,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":152,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":152,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [preset.nameKey] resolves to an `any` value.","line":155,"column":33,"nodeType":"MemberExpression","messageId":"unsafeComputedMemberAccess","endLine":155,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":155,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":155,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<readonly [unknown, unknown]> | null | undefined`.","line":163,"column":37,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":163,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":163,"column":37,"nodeType":"MemberExpression","messageId":"errorCall","endLine":163,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on a type that cannot be resolved.","line":163,"column":50,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":163,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":163,"column":66,"nodeType":"ArrayExpression","messageId":"unsafeReturn","endLine":163,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":163,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":163,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":167,"column":57,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":167,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":170,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":170,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":170,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":170,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":171,"column":27,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":171,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":172,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":172,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":173,"column":25,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":173,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":173,"column":34,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":173,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":178,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":178,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on a type that cannot be resolved.","line":179,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":179,"endColumn":36}],"suppressedMessages":[],"errorCount":110,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { TextResources } from '../../adapters/TextResources';\r\nconst getVariableText = (key, fallback = '') => {\r\n    const value = TextResources.get(key, fallback);\r\n    return value || fallback || key || '';\r\n};\r\n\r\nconst createVariablePreset = (id, order, nameKey, fallbackName, color) =>\r\n    Object.freeze({ id, order, nameKey, fallbackName, color });\r\n\r\nconst STATE_VARIABLE_PRESETS = Object.freeze([\r\n    createVariablePreset('var-1', 1, 'variables.names.var1', '', '#000000'),\r\n    createVariablePreset('var-2', 2, 'variables.names.var2', '', '#1D2B53'),\r\n    createVariablePreset('var-3', 3, 'variables.names.var3', '', '#7E2553'),\r\n    createVariablePreset('var-4', 4, 'variables.names.var4', '', '#008751'),\r\n    createVariablePreset('var-5', 5, 'variables.names.var5', '', '#AB5236'),\r\n    createVariablePreset('var-6', 6, 'variables.names.var6', '', '#5F574F'),\r\n    createVariablePreset('var-7', 7, 'variables.names.var7', '', '#29ADFF'),\r\n    createVariablePreset('var-8', 8, 'variables.names.var8', '', '#FF77A8'),\r\n    createVariablePreset('var-9', 9, 'variables.names.var9', '', '#FFFF27')\r\n]);\r\n\r\nclass StateVariableManager {\r\n    constructor(game, state, presets = STATE_VARIABLE_PRESETS) {\r\n        this.game = game;\r\n        this.state = state;\r\n        this.presets = presets;\r\n    }\r\n\r\n    setGame(game) {\r\n        this.game = game;\r\n    }\r\n\r\n    setState(state) {\r\n        this.state = state;\r\n    }\r\n\r\n    ensureDefaultVariables() {\r\n        if (!this.game) return [];\r\n        this.game.variables = this.normalizeVariables(this.game.variables);\r\n        return this.game.variables;\r\n    }\r\n\r\n    resetRuntime() {\r\n        if (!this.state) return [];\r\n        this.state.variables = this.cloneVariables(this.game?.variables);\r\n        return this.state.variables;\r\n    }\r\n\r\n    cloneVariables(list) {\r\n        return (list || []).map((entry) => ({\r\n            id: entry.id,\r\n            order: entry.order,\r\n            name: entry.name,\r\n            color: entry.color,\r\n            value: Boolean(entry.value)\r\n        }));\r\n    }\r\n\r\n    normalizeVariables(source) {\r\n        const incoming = Array.isArray(source) ? source : [];\r\n        const byId = new Map(incoming.map((entry) => [entry?.id, entry]));\r\n        return this.presets.map((preset) => {\r\n            const current = byId.get(preset.id) || {};\r\n            return {\r\n                id: preset.id,\r\n                order: preset.order,\r\n                name: typeof current.name === 'string' && current.name.trim()\r\n                    ? current.name.trim()\r\n                    : this.getPresetDefaultName(preset),\r\n                color: typeof current.color === 'string' && current.color.trim() ? current.color.trim() : preset.color,\r\n                value: Boolean(current.value)\r\n            };\r\n        });\r\n    }\r\n\r\n    getVariableDefinitions() {\r\n        return this.game?.variables ?? [];\r\n    }\r\n\r\n    getVariables() {\r\n        return this.state?.variables ?? [];\r\n    }\r\n\r\n    normalizeVariableId(variableId) {\r\n        if (typeof variableId !== 'string') return null;\r\n        // Allow special skill-based conditions (e.g., bard dialogue)\r\n        const allowedSpecials = new Set(['skill:bard']);\r\n        if (allowedSpecials.has(variableId)) return variableId;\r\n        return this.getVariableDefinitions().some((variable) => variable.id === variableId) ? variableId : null;\r\n    }\r\n\r\n    getVariable(variableId) {\r\n        if (!variableId) return null;\r\n        return this.getVariables().find((variable) => variable.id === variableId) || null;\r\n    }\r\n\r\n    isVariableOn(variableId) {\r\n        const entry = this.getVariable(variableId);\r\n        return entry ? Boolean(entry.value) : false;\r\n    }\r\n\r\n    setVariableValue(variableId, value, persist = false) {\r\n        let updated = false;\r\n        this.getVariables().forEach((variable) => {\r\n            if (variable.id === variableId) {\r\n                const next = Boolean(value);\r\n                if (variable.value !== next) {\r\n                    variable.value = next;\r\n                    updated = true;\r\n                }\r\n            }\r\n        });\r\n        if (persist) {\r\n            this.getVariableDefinitions().forEach((variable) => {\r\n                if (variable.id === variableId) {\r\n                    const next = Boolean(value);\r\n                    if (variable.value !== next) {\r\n                        variable.value = next;\r\n                        updated = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return updated;\r\n    }\r\n\r\n    getFirstVariableId() {\r\n        return this.getVariableDefinitions()?.[0]?.id ?? this.presets?.[0]?.id ?? null;\r\n    }\r\n\r\n    getPresetDefaultName(preset) {\r\n        if (!preset) return '';\r\n        const fallback = preset.fallbackName || preset.name || '';\r\n        if (preset.nameKey) {\r\n            return getVariableText(preset.nameKey, fallback);\r\n        }\r\n        return fallback;\r\n    }\r\n\r\n    getPresetTranslationSet(preset) {\r\n        const names = new Set();\r\n        if (!preset) return names;\r\n        const maybeAdd = (value) => {\r\n            if (typeof value === 'string' && value.trim()) {\r\n                names.add(value.trim());\r\n            }\r\n        };\r\n        maybeAdd(preset.fallbackName);\r\n        maybeAdd(preset.name);\r\n        const bundles = TextResources?.bundles || (typeof TEXT_BUNDLES !== 'undefined' ? TEXT_BUNDLES : {});\r\n        if (preset.nameKey && bundles) {\r\n            Object.values(bundles).forEach((bundle) => {\r\n                if (!bundle) return;\r\n                maybeAdd(bundle[preset.nameKey]);\r\n            });\r\n        }\r\n        maybeAdd(this.getPresetDefaultName(preset));\r\n        return names;\r\n    }\r\n\r\n    refreshPresetNames() {\r\n        const presetsById = new Map(this.presets.map((preset) => [preset.id, preset]));\r\n        const apply = (list) => {\r\n            if (!Array.isArray(list)) return;\r\n            list.forEach((variable) => {\r\n                const preset = presetsById.get(variable.id);\r\n                if (!preset) return;\r\n                const defaults = this.getPresetTranslationSet(preset);\r\n                if (!variable.name || defaults.has(variable.name)) {\r\n                    const next = this.getPresetDefaultName(preset);\r\n                    if (variable.name !== next) {\r\n                        variable.name = next;\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        apply(this.game?.variables);\r\n        apply(this.state?.variables);\r\n    }\r\n\r\n    static get PRESETS() {\r\n        return STATE_VARIABLE_PRESETS;\r\n    }\r\n}\r\n\r\nexport { StateVariableManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\domain\\state\\StateWorldManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":4,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":4,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":9,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":9,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":13,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":13,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomSize on a type that cannot be resolved.","line":13,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":13,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":20,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":20,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":22,"column":33,"nodeType":"Property","messageId":"anyAssignment","endLine":22,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":22,"column":55,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":22,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":23,"column":33,"nodeType":"Property","messageId":"anyAssignment","endLine":23,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":23,"column":55,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":23,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":29,"column":21,"nodeType":"AssignmentPattern","messageId":"anyAssignment","endLine":29,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":35,"column":60,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":35,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":39,"column":34,"nodeType":"AssignmentPattern","messageId":"anyAssignment","endLine":39,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":45,"column":34,"nodeType":"Property","messageId":"anyAssignment","endLine":45,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":45,"column":56,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":45,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":46,"column":35,"nodeType":"Property","messageId":"anyAssignment","endLine":46,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":46,"column":57,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":46,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":50,"column":24,"nodeType":"AssignmentPattern","messageId":"anyAssignment","endLine":50,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":55,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":55,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":56,"column":37,"nodeType":"Property","messageId":"anyAssignment","endLine":56,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":57,"column":60,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":57,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":64,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":64,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bg on an `any` value.","line":64,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .bg on an `any` value.","line":64,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":64,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":65,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":71,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tiles on an `any` value.","line":65,"column":48,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":65,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":66,"column":19,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":66,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tiles on an `any` value.","line":66,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":66,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":67,"column":21,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":70,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":67,"column":34,"nodeType":"Property","messageId":"anyAssignment","endLine":67,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":68,"column":31,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":68,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [x] on an `any` value.","line":68,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":69,"column":25,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":69,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [y] resolves to an `any` value.","line":69,"column":78,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":69,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":72,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":75,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .walls on an `any` value.","line":72,"column":48,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":72,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":73,"column":19,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":73,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .walls on an `any` value.","line":73,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":73,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":74,"column":34,"nodeType":"Property","messageId":"anyAssignment","endLine":74,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [x] on an `any` value.","line":74,"column":74,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":74,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":82,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":82,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":83,"column":40,"nodeType":"Property","messageId":"anyAssignment","endLine":83,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ground on an `any` value.","line":87,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":87,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":87,"column":42,"nodeType":"Property","messageId":"anyAssignment","endLine":87,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":88,"column":17,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":88,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":88,"column":30,"nodeType":"Property","messageId":"anyAssignment","endLine":88,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":88,"column":56,"nodeType":"LogicalExpression","messageId":"unsafeReturn","endLine":88,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ground on an `any` value.","line":88,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":88,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .overlay on an `any` value.","line":90,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":90,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":90,"column":43,"nodeType":"Property","messageId":"anyAssignment","endLine":90,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":91,"column":17,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":91,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":91,"column":30,"nodeType":"Property","messageId":"anyAssignment","endLine":91,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":91,"column":56,"nodeType":"LogicalExpression","messageId":"unsafeReturn","endLine":91,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .overlay on an `any` value.","line":91,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":91,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ground on an `any` value.","line":98,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .overlay on an `any` value.","line":98,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .ground on an `any` value.","line":105,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":105,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .overlay on an `any` value.","line":105,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":105,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":112,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":112,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rooms on a type that cannot be resolved.","line":112,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":112,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":113,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":113,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":120,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":120,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":127,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":127,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on a type that cannot be resolved.","line":127,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":127,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":131,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":131,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .world on a type that cannot be resolved.","line":131,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":131,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":135,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":135,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":142,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":142,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":143,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":143,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":145,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":145,"endColumn":33}],"suppressedMessages":[],"errorCount":69,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nclass StateWorldManager {\n    constructor(game, defaultRoomSize = 8) {\n        this.game = game;\n        this.defaultRoomSize = defaultRoomSize;\n    }\n\n    setGame(game) {\n        this.game = game;\n    }\n\n    get roomSize() {\n        return this.game?.roomSize ?? this.defaultRoomSize;\n    }\n\n    static createEmptyRoom(size, index = 0, cols = 1) {\n        const col = index % cols;\n        const row = Math.floor(index / cols);\n        return {\n            size,\n            bg: 0,\n            tiles: Array.from({ length: size }, () => Array(size).fill(0)),\n            walls: Array.from({ length: size }, () => Array(size).fill(false)),\n            worldX: col,\n            worldY: row\n        };\n    }\n\n    createEmptyRoom(size = this.roomSize, index = 0, cols = 1) {\n        return StateWorldManager.createEmptyRoom(size, index, cols);\n    }\n\n    static createWorldRooms(rows, cols, size) {\n        return Array.from({ length: rows * cols }, (_, index) =>\n            StateWorldManager.createEmptyRoom(size, index, cols)\n        );\n    }\n\n    createWorldRooms(rows, cols, size = this.roomSize) {\n        return StateWorldManager.createWorldRooms(rows, cols, size);\n    }\n\n    static createEmptyTileMap(size) {\n        return {\n            ground: Array.from({ length: size }, () => Array(size).fill(null)),\n            overlay: Array.from({ length: size }, () => Array(size).fill(null))\n        };\n    }\n\n    createEmptyTileMap(size = this.roomSize) {\n        return StateWorldManager.createEmptyTileMap(size);\n    }\n\n    normalizeRooms(rooms, totalRooms, cols) {\n        const size = this.roomSize;\n        const filled = Array.from({ length: totalRooms }, (_, index) =>\n            StateWorldManager.createEmptyRoom(size, index, cols)\n        );\n        if (!Array.isArray(rooms)) return filled;\n\n        rooms.forEach((room, index) => {\n            if (index >= filled.length) return;\n            const target = filled[index];\n            target.bg = typeof room?.bg === \"number\" ? room.bg : target.bg;\n            target.tiles = Array.isArray(room?.tiles)\n                ? room.tiles.map((row, y) =>\n                    Array.from({ length: size }, (_, x) => {\n                        const value = row?.[x];\n                        return Number.isFinite(value) ? value : target.tiles[y][x];\n                    }))\n                : target.tiles;\n            target.walls = Array.isArray(room?.walls)\n                ? room.walls.map((row, _y) =>\n                    Array.from({ length: size }, (_, x) => Boolean(row?.[x])))\n                : target.walls;\n        });\n\n        return filled;\n    }\n\n    normalizeTileMaps(source, totalRooms) {\n        const size = this.roomSize;\n        const emptyMaps = Array.from({ length: totalRooms }, () => StateWorldManager.createEmptyTileMap(size));\n        if (!source) return emptyMaps;\n\n        const assignMap = (target, map) => {\n            target.ground = Array.from({ length: size }, (_, y) =>\n                Array.from({ length: size }, (_, x) => map?.ground?.[y]?.[x] ?? null)\n            );\n            target.overlay = Array.from({ length: size }, (_, y) =>\n                Array.from({ length: size }, (_, x) => map?.overlay?.[y]?.[x] ?? null)\n            );\n        };\n\n        if (Array.isArray(source)) {\n            source.forEach((map, index) => {\n                if (index >= emptyMaps.length) return;\n                if (map?.ground || map?.overlay) {\n                    assignMap(emptyMaps[index], map);\n                }\n            });\n            return emptyMaps;\n        }\n\n        if (source?.ground || source?.overlay) {\n            assignMap(emptyMaps[0], source);\n        }\n        return emptyMaps;\n    }\n\n    clampRoomIndex(value) {\n        const rooms = this.game?.rooms ?? [];\n        const max = Math.max(0, rooms.length - 1);\n        const numeric = Number(value);\n        if (!Number.isFinite(numeric)) return 0;\n        return Math.max(0, Math.min(max, Math.floor(numeric)));\n    }\n\n    clampCoordinate(value) {\n        const size = this.roomSize;\n        const numeric = Number(value);\n        if (!Number.isFinite(numeric)) return 0;\n        return Math.max(0, Math.min(size - 1, Math.floor(numeric)));\n    }\n\n    getWorldRows() {\n        return this.game?.world?.rows || 1;\n    }\n\n    getWorldCols() {\n        return this.game?.world?.cols || 1;\n    }\n\n    getRoomCoords(index) {\n        const cols = this.getWorldCols();\n        const row = Math.floor(index / cols);\n        const col = index % cols;\n        return { row, col };\n    }\n\n    getRoomIndex(row, col) {\n        const rows = this.getWorldRows();\n        const cols = this.getWorldCols();\n        if (row < 0 || row >= rows || col < 0 || col >= cols) return null;\n        return row * cols + col;\n    }\n}\n\nexport { StateWorldManager };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\FirebaseShareTracker.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[226,229],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[226,229],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[402,405],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[402,405],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[455,458],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[455,458],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\ntype FirebaseCompatApp = {\n  collection: (name: string) => { add: (payload: unknown) => Promise<unknown> };\n};\n\ntype FirebaseCompatInstance = {\n  apps?: unknown[];\n  app?: () => FirebaseCompatApp;\n  initializeApp?: (...args: any[]) => FirebaseCompatApp;\n  firestore?: () => FirebaseCompatApp;\n  FieldValue?: { serverTimestamp?: () => unknown };\n};\n\ntype FirebaseModuleHelpers = {\n  addDoc?: (...args: any[]) => Promise<unknown>;\n  collection?: (...args: any[]) => unknown;\n  serverTimestamp?: () => unknown;\n};\n\ntype TrackerOptions = {\n  collection?: string | null;\n};\n\ntype TinyRpgGlobal = typeof globalThis & {\n  TinyRPGFirebaseConfig?: Record<string, unknown> | null;\n  TinyRPGFirebaseCollection?: string | null;\n  TinyRPGFirebaseDb?: FirebaseCompatApp | null;\n  TinyRPGFirebaseFirestore?: FirebaseModuleHelpers | null;\n  firebase?: FirebaseCompatInstance | null;\n};\n\nconst tinyRpgGlobal = globalThis as TinyRpgGlobal;\n\nclass FirebaseShareTracker {\n  config: Record<string, unknown> | null;\n  collection: string;\n  app: FirebaseCompatApp | null;\n  db: FirebaseCompatApp | null;\n  mode: 'modular' | 'compat' | null;\n  firestoreHelpers: FirebaseModuleHelpers | null;\n\n  constructor(config: Record<string, unknown> | null = null, options: TrackerOptions = {}) {\n    this.config = config || null;\n    this.collection = options.collection || 'shareUrls';\n    this.app = null;\n    this.db = null;\n    this.mode = null;\n    this.firestoreHelpers = null;\n    this.init();\n  }\n\n  static fromGlobal(): FirebaseShareTracker {\n    const config = tinyRpgGlobal.TinyRPGFirebaseConfig ?? null;\n    const collection = tinyRpgGlobal.TinyRPGFirebaseCollection ?? null;\n    return new FirebaseShareTracker(config, { collection });\n  }\n\n  get firebase(): FirebaseCompatInstance | null {\n    return tinyRpgGlobal.firebase ?? null;\n  }\n\n  init(): boolean {\n    if (this.initFromModule()) return true;\n    if (!this.config) return false;\n    return this.initFromCompat();\n  }\n\n  initFromModule(): boolean {\n    const db = tinyRpgGlobal.TinyRPGFirebaseDb ?? null;\n    const helpers = tinyRpgGlobal.TinyRPGFirebaseFirestore ?? null;\n    if (!db || !helpers?.addDoc || !helpers?.collection) return false;\n    this.db = db;\n    this.firestoreHelpers = helpers;\n    this.mode = 'modular';\n    console.info('[TinyRPG] Firebase tracker initialized (modular).');\n    return true;\n  }\n\n  initFromCompat(): boolean {\n    const firebase = this.firebase;\n    if (!firebase?.initializeApp) {\n      console.warn('[TinyRPG] Firebase SDK not available.');\n      return false;\n    }\n    try {\n      this.app = firebase.apps?.length ? firebase.app?.() ?? null : firebase.initializeApp?.(this.config) ?? null;\n    } catch (error) {\n      console.warn('[TinyRPG] Firebase init failed.', error);\n      return false;\n    }\n    if (!firebase.firestore) {\n      console.warn('[TinyRPG] Firebase Firestore not available.');\n      return false;\n    }\n    this.db = firebase.firestore?.() ?? null;\n    if (!this.db) {\n      console.warn('[TinyRPG] Firebase Firestore not available.');\n      return false;\n    }\n    this.mode = 'compat';\n    console.info('[TinyRPG] Firebase tracker initialized (compat).');\n    return true;\n  }\n\n  buildPayload(url: string, metadata: Record<string, unknown> = {}): Record<string, unknown> {\n    const serverTimestamp = this.mode === 'modular'\n      ? this.firestoreHelpers?.serverTimestamp\n      : this.firebase?.FieldValue?.serverTimestamp;\n    return {\n      url,\n      createdAt: serverTimestamp ? serverTimestamp() : new Date().toISOString(),\n      userAgent: typeof navigator !== 'undefined' ? navigator.userAgent : '',\n      language: typeof navigator !== 'undefined' ? navigator.language : '',\n      referrer: typeof document !== 'undefined' ? document.referrer : '',\n      ...metadata,\n    };\n  }\n\n  async trackShareUrl(url: string, metadata: Record<string, unknown> = {}): Promise<boolean> {\n    if (!url) return false;\n    if (!this.db) {\n      this.init();\n    }\n    if (!this.db) return false;\n    try {\n      const payload = this.buildPayload(url, metadata);\n      if (this.mode === 'modular') {\n        const { addDoc, collection } = this.firestoreHelpers ?? {};\n        if (addDoc && collection) {\n          const collectionRef = collection(this.db, this.collection);\n          await addDoc(collectionRef, payload);\n        }\n      } else if (typeof this.db.collection === 'function') {\n        await this.db.collection(this.collection).add(payload);\n      }\n      console.info('[TinyRPG] Share URL tracked.', { url, collection: this.collection });\n      return true;\n    } catch (error) {\n      console.warn('[TinyRPG] Failed to track share URL.', error);\n      return false;\n    }\n  }\n}\n\nexport { FirebaseShareTracker };\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareBase64.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":4,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":4,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":6,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":10,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":6,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":10,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":6,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":9,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":6,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":8,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":6,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":7,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":6,"column":20,"nodeType":"MemberExpression","messageId":"errorCall","endLine":6,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .from on a type that cannot be resolved.","line":6,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":6,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .toString on a type that cannot be resolved.","line":7,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":7,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":8,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":8,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":9,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":9,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .replace on a type that cannot be resolved.","line":10,"column":18,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":10,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":13,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":13,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":14,"column":43,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":14,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":14,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":14,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `Iterable<number>`.","line":35,"column":40,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":35,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":35,"column":40,"nodeType":"MemberExpression","messageId":"errorCall","endLine":35,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .from on a type that cannot be resolved.","line":35,"column":47,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":35,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":50,"column":69,"nodeType":"Property","messageId":"anyAssignment","endLine":50,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":50,"column":76,"nodeType":"Property","messageId":"anyAssignment","endLine":50,"endColumn":81}],"suppressedMessages":[],"errorCount":20,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nclass ShareBase64 {\r\n    static toBase64Url(bytes) {\r\n        if (!bytes || !bytes.length) return '';\r\n        if (typeof Buffer !== 'undefined') {\r\n            return Buffer.from(bytes)\r\n                .toString('base64')\r\n                .replace(/\\+/g, '-')\r\n                .replace(/\\//g, '_')\r\n                .replace(/=+$/g, '');\r\n        }\r\n        let binary = '';\r\n        for (let i = 0; i < bytes.length; i++) {\r\n            binary += String.fromCharCode(bytes[i]);\r\n        }\r\n        return btoa(binary)\r\n            .replace(/\\+/g, '-')\r\n            .replace(/\\//g, '_')\r\n            .replace(/=+$/g, '');\r\n    }\r\n\r\n    static fromBase64Url(text) {\r\n        if (!text) return new Uint8Array(0);\r\n        const cleaned = String(text).replace(/[\\s\\r\\n]+/g, '');\r\n        if (!cleaned) return new Uint8Array(0);\r\n        if (/[^0-9a-zA-Z\\-_]/.test(cleaned)) {\r\n            ShareBase64.logInvalidInput(cleaned);\r\n            return new Uint8Array(0);\r\n        }\r\n        const base64 = cleaned.replace(/-/g, '+').replace(/_/g, '/');\r\n        const padLength = (4 - (base64.length % 4)) % 4;\r\n        const padded = base64 + '='.repeat(padLength);\r\n        try {\r\n            if (typeof Buffer !== 'undefined') {\r\n                return Uint8Array.from(Buffer.from(padded, 'base64'));\r\n            }\r\n            const binary = atob(padded);\r\n            const bytes = new Uint8Array(binary.length);\r\n            for (let i = 0; i < binary.length; i++) {\r\n                bytes[i] = binary.charCodeAt(i);\r\n            }\r\n            return bytes;\r\n        } catch (error) {\r\n            ShareBase64.logInvalidInput(cleaned, error);\r\n            return new Uint8Array(0);\r\n        }\r\n    }\r\n\r\n    static logInvalidInput(input, error) {\r\n        console.warn('[TinyRPG] Invalid base64 segment ignored.', { input, error });\r\n    }\r\n}\r\n\r\nexport { ShareBase64 };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareConstants.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":198,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":198,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":202,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":202,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":205,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":205,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":209,"column":64,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":209,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":212,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":212,"endColumn":45}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EnemyDefinitions } from '../../domain/definitions/EnemyDefinitions';\r\nimport { NPCDefinitions } from '../../domain/definitions/NPCDefinitions';\r\nclass ShareConstants {\r\n    static get VERSION_1() { return 1; }\r\n    static get VERSION_2() { return 2; }\r\n    static get VERSION_3() { return 3; }\r\n    static get VERSION_4() { return 4; }\r\n    static get VERSION_5() { return 5; }\r\n    static get VERSION_6() { return 6; }\r\n    static get VERSION_7() { return 7; }\r\n    static get VERSION_8() { return 8; }\r\n    static get VERSION_9() { return 9; }\r\n    static get VERSION_10() { return 10; }\r\n    static get VERSION_11() { return 11; }\r\n    static get VERSION_12() { return 12; }\r\n    static get VERSION_13() { return 13; }\r\n    static get VERSION_14() { return 14; }\r\n    static get VERSION_15() { return 15; }\r\n    static get VERSION_16() { return 16; }\r\n    static get VERSION_17() { return 17; }\r\n    static get VERSION_18() { return 18; }\r\n    static get VERSION_19() { return 19; }\r\n\r\n    static get VERSION() {\r\n        return ShareConstants.VERSION_19;\r\n    }\r\n\r\n    static get LEGACY_VERSION() {\r\n        return ShareConstants.VERSION_1;\r\n    }\r\n\r\n    static get OBJECTS_VERSION() {\r\n        return ShareConstants.VERSION_4;\r\n    }\r\n\r\n    static get VARIABLES_VERSION() {\r\n        return ShareConstants.VERSION_5;\r\n    }\r\n\r\n    static get WORLD_MULTIMAP_VERSION() {\r\n        return ShareConstants.VERSION_6;\r\n    }\r\n\r\n    static get NPC_VARIABLE_TEXT_VERSION() {\r\n        return ShareConstants.VERSION_6;\r\n    }\r\n\r\n    static get MAGIC_DOOR_VERSION() {\r\n        return ShareConstants.VERSION_7;\r\n    }\r\n\r\n    static get NPC_CONDITIONAL_REWARD_VERSION() {\r\n        return ShareConstants.VERSION_8;\r\n    }\r\n\r\n    static get ENEMY_TYPE_VERSION() {\r\n        return ShareConstants.VERSION_9;\r\n    }\r\n\r\n    static get ENEMY_VARIABLE_VERSION() {\r\n        return ShareConstants.VERSION_10;\r\n    }\r\n\r\n    static get LIFE_POTION_VERSION() {\r\n        return ShareConstants.VERSION_11;\r\n    }\r\n\r\n    static get XP_SCROLL_VERSION() {\r\n        return ShareConstants.VERSION_12;\r\n    }\r\n\r\n    static get SWORD_VERSION() {\r\n        return ShareConstants.VERSION_13;\r\n    }\r\n\r\n    static get PLAYER_END_VERSION() {\r\n        return ShareConstants.VERSION_14;\r\n    }\r\n\r\n    static get SWITCH_VERSION() {\r\n        return ShareConstants.VERSION_15;\r\n    }\r\n\r\n    static get TILE_EXTENDED_VERSION() {\r\n        return ShareConstants.VERSION_16;\r\n    }\r\n\r\n    static get PLAYER_END_TEXT_VERSION() {\r\n        return ShareConstants.VERSION_17;\r\n    }\r\n\r\n    static get PLAYER_END_TEXT_ARRAY_VERSION() {\r\n        return ShareConstants.VERSION_18;\r\n    }\r\n\r\n    static get TIERED_SWORD_VERSION() {\r\n        return ShareConstants.VERSION_19;\r\n    }\r\n\r\n    static get MATRIX_SIZE() {\r\n        return 8;\r\n    }\r\n\r\n    static get TILE_COUNT() {\r\n        return ShareConstants.MATRIX_SIZE * ShareConstants.MATRIX_SIZE;\r\n    }\r\n\r\n    static get WORLD_ROWS() {\r\n        return 3;\r\n    }\r\n\r\n    static get WORLD_COLS() {\r\n        return 3;\r\n    }\r\n\r\n    static get WORLD_ROOM_COUNT() {\r\n        return ShareConstants.WORLD_ROWS * ShareConstants.WORLD_COLS;\r\n    }\r\n\r\n    static get MAX_ROOM_INDEX() {\r\n        return ShareConstants.WORLD_ROOM_COUNT - 1;\r\n    }\r\n\r\n    static get NULL_CHAR() {\r\n        return 'z';\r\n    }\r\n\r\n    static get TILE_LEGACY_MAX() {\r\n        return 15;\r\n    }\r\n\r\n    static get TILE_VALUE_MAX() {\r\n        return 255;\r\n    }\r\n\r\n    static get GROUND_SPARSE_PREFIX() {\r\n        return 'x';\r\n    }\r\n\r\n    static get OVERLAY_BINARY_PREFIX() {\r\n        return 'y';\r\n    }\r\n\r\n    static get POSITION_WIDE_PREFIX() {\r\n        return '~';\r\n    }\r\n\r\n    static get DEFAULT_TITLE() {\r\n        return 'My Tiny RPG Game';\r\n    }\r\n\r\n    static get DEFAULT_PALETTE() {\r\n        return [\r\n            '#000000', '#1D2B53', '#7E2553', '#008751',\r\n            '#AB5236', '#5F574F', '#C2C3C7', '#FFF1E8',\r\n            '#FF004D', '#FFA300', '#FFFF27', '#00E756',\r\n            '#29ADFF', '#83769C', '#FF77A8', '#FFCCAA'\r\n        ];\r\n    }\r\n\r\n    static get VARIABLE_IDS() {\r\n        return ['var-1', 'var-2', 'var-3', 'var-4', 'var-5', 'var-6', 'var-7', 'var-8', 'var-9', 'skill:bard'];\r\n    }\r\n\r\n    static get VARIABLE_NAMES() {\r\n        return ['1 - Preto', '2 - Azul Escuro', '3 - Roxo', '4 - Verde', '5 - Marrom', '6 - Cinza', '7 - Azul Claro', '8 - Rosa Choque', '9 - Amarelo', 'Habilidade: Bardo'];\r\n    }\r\n\r\n    static get VARIABLE_COLORS() {\r\n        return ['#000000', '#1D2B53', '#7E2553', '#008751', '#AB5236', '#5F574F', '#29ADFF', '#FF77A8', '#FFCCAA', '#FFD700'];\r\n    }\r\n\r\n    static get SUPPORTED_VERSIONS() {\r\n        if (!this._supportedVersions) {\r\n            this._supportedVersions = new Set([\r\n                ShareConstants.VERSION_1,\r\n                ShareConstants.VERSION_2,\r\n                ShareConstants.VERSION_3,\r\n                ShareConstants.VERSION_4,\r\n                ShareConstants.VERSION_5,\r\n                ShareConstants.VERSION_6,\r\n                ShareConstants.VERSION_7,\r\n                ShareConstants.VERSION_8,\r\n                ShareConstants.VERSION_9,\r\n                ShareConstants.VERSION_10,\r\n                ShareConstants.VERSION_11,\r\n                ShareConstants.VERSION_12,\r\n                ShareConstants.VERSION_13,\r\n                ShareConstants.VERSION_14,\r\n                ShareConstants.VERSION_15,\r\n                ShareConstants.VERSION_16,\r\n                ShareConstants.VERSION_17,\r\n                ShareConstants.VERSION_18,\r\n                ShareConstants.VERSION_19\r\n            ]);\r\n        }\r\n        return this._supportedVersions;\r\n    }\r\n\r\n    static get NPC_DEFINITIONS() {\r\n        if (!this._npcDefinitions || !this._npcDefinitions.length) {\r\n            this._npcDefinitions = NPCDefinitions.definitions || [];\r\n        }\r\n        return this._npcDefinitions || [];\r\n    }\r\n\r\n    static get ENEMY_DEFINITIONS() {\r\n        if (!this._enemyDefinitions || !this._enemyDefinitions.length) {\r\n            this._enemyDefinitions = EnemyDefinitions.definitions || [];\r\n        }\r\n        return this._enemyDefinitions || [];\r\n    }\r\n}\r\n\r\nexport { ShareConstants };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareDataNormalizer.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":14,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":14,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":14,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":14,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":15,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":15,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":15,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":15,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":16,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":16,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":16,"column":56,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":16,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":21,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":21,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":22,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":22,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":22,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":22,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":24,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":24,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":25,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":25,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":25,"column":31,"nodeType":"MemberExpression","messageId":"errorCall","endLine":25,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":25,"column":62,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":25,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":25,"column":80,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":25,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":25,"column":91,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":25,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":26,"column":28,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":26,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":26,"column":45,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":26,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":28,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":28,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":29,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":29,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":29,"column":33,"nodeType":"MemberExpression","messageId":"errorCall","endLine":29,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":29,"column":64,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":29,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":29,"column":82,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":29,"column":95,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":99},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":30,"column":30,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":30,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":30,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":30,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":39,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":39,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":41,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":41,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":44,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":44,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":44,"column":25,"nodeType":"MemberExpression","messageId":"errorCall","endLine":44,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .find on a type that cannot be resolved.","line":44,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":44,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":44,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":44,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placed on an `any` value.","line":46,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":46,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":48,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":48,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":48,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":48,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":49,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":49,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":49,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":51,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":53,"endColumn":102},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionVariableId on an `any` value.","line":51,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":51,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionVariableId on an `any` value.","line":52,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":52,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalVariableId on an `any` value.","line":53,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":53,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalVariableId on an `any` value.","line":53,"column":73,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":53,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":54,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":56,"endColumn":96},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rewardVariableId on an `any` value.","line":54,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rewardVariableId on an `any` value.","line":55,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":55,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activateVariableId on an `any` value.","line":56,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":56,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activateVariableId on an `any` value.","line":56,"column":70,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":56,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":57,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":59,"endColumn":114},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalRewardVariableId on an `any` value.","line":57,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":57,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalRewardVariableId on an `any` value.","line":58,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":58,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .alternativeRewardVariableId on an `any` value.","line":59,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":59,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .alternativeRewardVariableId on an `any` value.","line":59,"column":79,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":59,"endColumn":106},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":61,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":61,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":62,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":62,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":62,"column":25,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":62,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":63,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":63,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on a type that cannot be resolved.","line":63,"column":27,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":63,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":64,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":64,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":65,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":65,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":66,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":66,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":66,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":66,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":67,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":67,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":67,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":67,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":67,"column":59,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":67,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultText on a type that cannot be resolved.","line":67,"column":71,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":67,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":68,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":70,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":68,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":68,"column":66,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":68,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":69,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":69,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultTextKey on a type that cannot be resolved.","line":70,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":70,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":71,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":71,"endColumn":108},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":71,"column":75,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":71,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":72,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":74,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionText on an `any` value.","line":72,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":72,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionText on an `any` value.","line":73,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":73,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalText on an `any` value.","line":74,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":74,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalText on an `any` value.","line":74,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":74,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":75,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":75,"endColumn":99},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":75,"column":72,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":75,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":76,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":76,"endColumn":132},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":76,"column":83,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":76,"endColumn":102},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":85,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":85,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":90,"column":76,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":90,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":92,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":92,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defeatVariableId on an `any` value.","line":94,"column":92,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":94,"endColumn":108},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":96,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":96,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":96,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":96,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":97,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":97,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":97,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":97,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":98,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":98,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":98,"column":64,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":100,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":100,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":100,"column":32,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":100,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":108,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":108,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":120,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":120,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":121,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":121,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":121,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":121,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":122,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":122,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":122,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":122,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":124,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":124,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":124,"column":63,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":124,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":125,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":125,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":128,"column":27,"nodeType":"Property","messageId":"anyAssignment","endLine":128,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":128,"column":30,"nodeType":"Property","messageId":"anyAssignment","endLine":128,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":128,"column":33,"nodeType":"Property","messageId":"anyAssignment","endLine":128,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":143,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":143,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":144,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":144,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":144,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":144,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":145,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":145,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":145,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":145,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":147,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":147,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":147,"column":63,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":147,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on an `any` value.","line":150,"column":88,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":150,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on an `any` value.","line":150,"column":120,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":150,"endColumn":130},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":151,"column":27,"nodeType":"Property","messageId":"anyAssignment","endLine":151,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":151,"column":30,"nodeType":"Property","messageId":"anyAssignment","endLine":151,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":151,"column":33,"nodeType":"Property","messageId":"anyAssignment","endLine":151,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":166,"column":24,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":166,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":167,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":167,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":167,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":167,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":168,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":168,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":168,"column":53,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":168,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":170,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":170,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":170,"column":63,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":170,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on an `any` value.","line":173,"column":88,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":173,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variableId on an `any` value.","line":173,"column":120,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":173,"endColumn":130},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .on on an `any` value.","line":174,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":174,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":175,"column":27,"nodeType":"Property","messageId":"anyAssignment","endLine":175,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":175,"column":30,"nodeType":"Property","messageId":"anyAssignment","endLine":175,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":175,"column":33,"nodeType":"Property","messageId":"anyAssignment","endLine":175,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":186,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":186,"endColumn":102},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":187,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":187,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":190,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":190,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":190,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":190,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":191,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":191,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":191,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":191,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":192,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":192,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":192,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":192,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":195,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":195,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":196,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":196,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":197,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":197,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":198,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":198,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":216,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":216,"endColumn":115},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on a type that cannot be resolved.","line":216,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":216,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":223,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":223,"endColumn":115},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on a type that cannot be resolved.","line":223,"column":48,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":223,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":228,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":228,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on a type that cannot be resolved.","line":228,"column":84,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":228,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on a type that cannot be resolved.","line":232,"column":93,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":232,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":260,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":260,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":261,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":261,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":261,"column":64,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":261,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":264,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":264,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":264,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":264,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":265,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":265,"endColumn":95},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":265,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":265,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":268,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":268,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":269,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":269,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":270,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":270,"endColumn":18},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .endingText on an `any` value.","line":271,"column":76,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":271,"endColumn":86},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `EnemyTypeInput`.","line":283,"column":47,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":283,"endColumn":51}],"suppressedMessages":[],"errorCount":160,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { EnemyDefinitions } from '../../domain/definitions/EnemyDefinitions';\r\nimport { ITEM_TYPES } from '../../domain/constants/itemTypes';\nimport { StateObjectManager } from '../../domain/state/StateObjectManager';\r\nimport { ShareConstants } from './ShareConstants';\r\nimport { ShareMath } from './ShareMath';\r\nimport { ShareVariableCodec } from './ShareVariableCodec';\r\nclass ShareDataNormalizer {\r\n    static get Types() {\r\n        return ITEM_TYPES;\r\n    }\r\n    static normalizeStart(start) {\r\n        return {\r\n            x: ShareMath.clamp(Number(start?.x), 0, ShareConstants.MATRIX_SIZE - 1, 1),\r\n            y: ShareMath.clamp(Number(start?.y), 0, ShareConstants.MATRIX_SIZE - 1, 1),\r\n            roomIndex: ShareMath.clampRoomIndex(start?.roomIndex)\r\n        };\r\n    }\r\n\r\n    static resolveNpcType(npc) {\r\n        if (typeof npc?.type === 'string') {\r\n            return npc.type;\r\n        }\r\n        if (typeof npc?.id === 'string') {\r\n            const matchById = ShareConstants.NPC_DEFINITIONS.find((def) => def.id === npc.id);\r\n            if (matchById) return matchById.type;\r\n        }\r\n        if (typeof npc?.name === 'string') {\r\n            const matchByName = ShareConstants.NPC_DEFINITIONS.find((def) => def.name === npc.name);\r\n            if (matchByName) return matchByName.type;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static normalizeSprites(list) {\r\n        if (!Array.isArray(list)) return [];\r\n        const seen = new Set();\r\n        const normalized = [];\r\n        const defs = ShareConstants.NPC_DEFINITIONS;\r\n        for (const npc of list) {\r\n            const type = ShareDataNormalizer.resolveNpcType(npc);\r\n            if (!type) continue;\r\n            if (seen.has(type)) continue;\r\n            const def = defs.find((entry) => entry.type === type);\r\n            if (!def) continue;\r\n            const placed = npc?.placed !== false;\r\n            if (!placed) continue;\r\n            const x = ShareMath.clamp(Number(npc?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            const y = ShareMath.clamp(Number(npc?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            if (!Number.isFinite(x) || !Number.isFinite(y)) continue;\r\n            const conditionId = typeof npc?.conditionVariableId === 'string'\r\n                ? npc.conditionVariableId\r\n                : (typeof npc?.conditionalVariableId === 'string' ? npc.conditionalVariableId : null);\r\n            const rewardId = typeof npc?.rewardVariableId === 'string'\r\n                ? npc.rewardVariableId\r\n                : (typeof npc?.activateVariableId === 'string' ? npc.activateVariableId : null);\r\n            const conditionalRewardId = typeof npc?.conditionalRewardVariableId === 'string'\r\n                ? npc.conditionalRewardVariableId\r\n                : (typeof npc?.alternativeRewardVariableId === 'string' ? npc.alternativeRewardVariableId : null);\r\n            normalized.push({\r\n                type,\r\n                id: def.id,\r\n                name: def.name,\r\n                x,\r\n                y,\r\n                roomIndex: ShareMath.clampRoomIndex(npc?.roomIndex),\r\n                text: typeof npc?.text === 'string' ? npc.text : (def.defaultText || ''),\r\n                textKey: typeof npc?.textKey === 'string' && npc.textKey.length\r\n                    ? npc.textKey\r\n                    : (def.defaultTextKey || null),\r\n                conditionVariableId: ShareConstants.VARIABLE_IDS.includes(conditionId) ? conditionId : null,\r\n                conditionText: typeof npc?.conditionText === 'string'\r\n                    ? npc.conditionText\r\n                    : (typeof npc?.conditionalText === 'string' ? npc.conditionalText : ''),\r\n                rewardVariableId: ShareConstants.VARIABLE_IDS.includes(rewardId) ? rewardId : null,\r\n                conditionalRewardVariableId: ShareConstants.VARIABLE_IDS.includes(conditionalRewardId) ? conditionalRewardId : null\r\n            });\r\n            seen.add(type);\r\n        }\r\n        return normalized;\r\n    }\r\n\r\n    static normalizeEnemies(list) {\r\n        if (!Array.isArray(list)) return [];\r\n        const defs = ShareConstants.ENEMY_DEFINITIONS;\r\n        const perRoomCounts = new Map();\r\n\r\n        return list\r\n            .map((enemy, index) => {\r\n                const type = ShareDataNormalizer.normalizeEnemyType(enemy?.type);\r\n                const typeIndex = Array.isArray(defs) && defs.length\r\n                    ? defs.findIndex((def) => def.type === type)\r\n                    : -1;\r\n                const defeatVariableId = ShareDataNormalizer.normalizeEnemyVariable(enemy?.defeatVariableId);\r\n                return {\r\n                    x: ShareMath.clamp(Number(enemy?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0),\r\n                    y: ShareMath.clamp(Number(enemy?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0),\r\n                    roomIndex: ShareMath.clampRoomIndex(enemy?.roomIndex),\r\n                    type,\r\n                    id: enemy?.id || `enemy-${index + 1}`,\r\n                    typeIndex,\r\n                    defeatVariableId,\r\n                    variableNibble: ShareVariableCodec.variableIdToNibble(defeatVariableId)\r\n                };\r\n            })\r\n            .filter((enemy) => {\r\n                if (!Number.isFinite(enemy.x) || !Number.isFinite(enemy.y)) return false;\r\n                const count = perRoomCounts.get(enemy.roomIndex) || 0;\r\n                if (count >= 9) return false;\r\n                perRoomCounts.set(enemy.roomIndex, count + 1);\r\n                return true;\r\n            });\r\n    }\r\n\r\n    static normalizeObjectPositions(list, type) {\r\n        if (!Array.isArray(list)) return [];\r\n        const seenRooms = new Set();\r\n        const result = [];\r\n        for (const entry of list) {\r\n            if (entry?.type !== type) continue;\r\n            const x = ShareMath.clamp(Number(entry?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            const y = ShareMath.clamp(Number(entry?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            if (!Number.isFinite(x) || !Number.isFinite(y)) continue;\r\n            const roomIndex = ShareMath.clampRoomIndex(entry?.roomIndex);\r\n            const key = roomIndex;\r\n            if (seenRooms.has(key)) continue;\r\n            seenRooms.add(key);\r\n            result.push({ x, y, roomIndex });\r\n        }\r\n        return result.sort((a, b) => {\r\n            if (a.roomIndex !== b.roomIndex) return a.roomIndex - b.roomIndex;\r\n            if (a.y !== b.y) return a.y - b.y;\r\n            return a.x - b.x;\r\n        });\r\n    }\r\n\r\n    static normalizeVariableDoorObjects(list) {\r\n        if (!Array.isArray(list)) return [];\r\n        const seenRooms = new Set();\r\n        const fallbackNibble = ShareVariableCodec.variableIdToNibble(ShareVariableCodec.getFirstVariableId()) || 1;\r\n        const result = [];\r\n        for (const entry of list) {\r\n            if (entry?.type !== ShareDataNormalizer.Types.DOOR_VARIABLE) continue;\r\n            const x = ShareMath.clamp(Number(entry?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            const y = ShareMath.clamp(Number(entry?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            if (!Number.isFinite(x) || !Number.isFinite(y)) continue;\r\n            const roomIndex = ShareMath.clampRoomIndex(entry?.roomIndex);\r\n            if (seenRooms.has(roomIndex)) continue;\r\n            seenRooms.add(roomIndex);\r\n            const variableNibble = ShareVariableCodec.variableIdToNibble(typeof entry?.variableId === 'string' ? entry.variableId : null) || fallbackNibble;\r\n            result.push({ x, y, roomIndex, variableNibble });\r\n        }\r\n        return result.sort((a, b) => {\r\n            if (a.roomIndex !== b.roomIndex) return a.roomIndex - b.roomIndex;\r\n            if (a.y !== b.y) return a.y - b.y;\r\n            return a.x - b.x;\r\n        });\r\n    }\r\n\r\n    static normalizeSwitchObjects(list) {\r\n        if (!Array.isArray(list)) return [];\r\n        const seenRooms = new Set();\r\n        const fallbackNibble = ShareVariableCodec.variableIdToNibble(ShareVariableCodec.getFirstVariableId()) || 1;\r\n        const result = [];\r\n        for (const entry of list) {\r\n            if (entry?.type !== ShareDataNormalizer.Types.SWITCH) continue;\r\n            const x = ShareMath.clamp(Number(entry?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            const y = ShareMath.clamp(Number(entry?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            if (!Number.isFinite(x) || !Number.isFinite(y)) continue;\r\n            const roomIndex = ShareMath.clampRoomIndex(entry?.roomIndex);\r\n            if (seenRooms.has(roomIndex)) continue;\r\n            seenRooms.add(roomIndex);\r\n            const variableNibble = ShareVariableCodec.variableIdToNibble(typeof entry?.variableId === 'string' ? entry.variableId : null) || fallbackNibble;\r\n            const stateNibble = entry?.on ? 1 : 0;\r\n            result.push({ x, y, roomIndex, variableNibble, stateNibble });\r\n        }\r\n        return result.sort((a, b) => {\r\n            if (a.roomIndex !== b.roomIndex) return a.roomIndex - b.roomIndex;\r\n            if (a.y !== b.y) return a.y - b.y;\r\n            return a.x - b.x;\r\n        });\r\n    }\r\n\r\n    static buildObjectEntries(positions, type, options = {}) {\r\n        if (!Array.isArray(positions) || !positions.length) return [];\r\n        const variableNibbles = Array.isArray(options.variableNibbles) ? options.variableNibbles : [];\r\n        const endingTexts = Array.isArray(options.endingTexts) ? options.endingTexts : [];\r\n        const fallbackVariableId = ShareVariableCodec.getFirstVariableId();\r\n        return positions.map((pos, index) => {\r\n            const roomIndex = ShareMath.clampRoomIndex(pos?.roomIndex);\r\n            const x = ShareMath.clamp(Number(pos?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            const y = ShareMath.clamp(Number(pos?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            const entry = {\r\n                id: `${type}-${roomIndex}`,\r\n                type,\r\n                roomIndex,\r\n                x,\r\n                y\r\n            };\r\n            if (type === ShareDataNormalizer.Types.KEY) {\r\n                entry.collected = false;\r\n            }\r\n            if (type === ShareDataNormalizer.Types.LIFE_POTION) {\r\n                entry.collected = false;\r\n            }\r\n            if (type === ShareDataNormalizer.Types.XP_SCROLL) {\r\n                entry.collected = false;\r\n            }\r\n            if (type === ShareDataNormalizer.Types.SWORD || type === ShareDataNormalizer.Types.SWORD_BRONZE || type === ShareDataNormalizer.Types.SWORD_WOOD) {\r\n                entry.collected = false;\r\n            }\r\n            if (type === ShareDataNormalizer.Types.DOOR) {\r\n                entry.opened = false;\r\n            }\r\n            if (type === ShareDataNormalizer.Types.DOOR_VARIABLE) {\r\n                const nibble = variableNibbles[index] ?? ShareVariableCodec.variableIdToNibble(fallbackVariableId);\r\n                const variableId = ShareVariableCodec.nibbleToVariableId(nibble) || fallbackVariableId;\r\n                if (variableId) {\r\n                    entry.variableId = variableId;\r\n                }\r\n            }\r\n            if (type === ShareDataNormalizer.Types.SWITCH) {\r\n                const nibble = variableNibbles[index] ?? ShareVariableCodec.variableIdToNibble(fallbackVariableId);\r\n                const variableId = ShareVariableCodec.nibbleToVariableId(nibble) || fallbackVariableId;\r\n                if (variableId) {\r\n                    entry.variableId = variableId;\r\n                }\r\n                const state = Array.isArray(options.stateBits) ? options.stateBits[index] : null;\r\n                entry.on = Boolean(state);\r\n            }\r\n            if (type === ShareDataNormalizer.Types.PLAYER_END) {\r\n                const endingText = ShareDataNormalizer.normalizeEndingTextValue(endingTexts[index] ?? '');\r\n                if (endingText) {\r\n                    entry.endingText = endingText;\r\n                }\r\n            }\r\n            return entry;\r\n        });\r\n    }\r\n\r\n    static getPlayerEndTextLimit() {\r\n        if (typeof StateObjectManager.PLAYER_END_TEXT_LIMIT === 'number') {\r\n            return StateObjectManager.PLAYER_END_TEXT_LIMIT;\r\n        }\r\n        return 40;\r\n    }\r\n\r\n    static normalizeEndingTextValue(value) {\r\n        if (typeof value !== 'string') return '';\r\n        const normalized = value.replace(/\\r\\n/g, '\\n');\r\n        const max = ShareDataNormalizer.getPlayerEndTextLimit();\r\n        return normalized.slice(0, max).trim();\r\n    }\r\n\r\n    static collectPlayerEndTexts(objects) {\r\n        if (!Array.isArray(objects)) return [];\r\n        const entries = [];\r\n        const seenRooms = new Set();\r\n        for (const object of objects) {\r\n            if (object?.type !== ShareDataNormalizer.Types.PLAYER_END) continue;\r\n            const roomIndex = ShareMath.clampRoomIndex(object?.roomIndex);\r\n            if (seenRooms.has(roomIndex)) continue;\r\n            seenRooms.add(roomIndex);\r\n            const x = ShareMath.clamp(Number(object?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            const y = ShareMath.clamp(Number(object?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0);\r\n            if (!Number.isFinite(x) || !Number.isFinite(y)) continue;\r\n            entries.push({\r\n                roomIndex,\r\n                x,\r\n                y,\r\n                text: ShareDataNormalizer.normalizeEndingTextValue(object?.endingText ?? '')\r\n            });\r\n        }\r\n        entries.sort((a, b) => {\r\n            if (a.roomIndex !== b.roomIndex) return a.roomIndex - b.roomIndex;\r\n            if (a.y !== b.y) return a.y - b.y;\r\n            return a.x - b.x;\r\n        });\r\n        return entries.map((entry) => entry.text);\r\n    }\r\n\r\n    static normalizeEnemyType(type) {\r\n        return EnemyDefinitions.normalizeType(type);\r\n    }\r\n\r\n    static normalizeEnemyVariable(variableId) {\r\n        if (typeof variableId !== 'string') return null;\r\n        return ShareConstants.VARIABLE_IDS.includes(variableId) ? variableId : null;\r\n    }\r\n}\r\n\r\nexport { ShareDataNormalizer };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareDecoder.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":13,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":13,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":13,"column":26,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":13,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .split on an `any` value.","line":13,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":13,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":17,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":17,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on an `any` value.","line":17,"column":33,"nodeType":"Literal","messageId":"unsafeMemberExpression","endLine":17,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":18,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":18,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":18,"column":27,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":18,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":18,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":18,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":19,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":19,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Computed name [key] resolves to an `any` value.","line":19,"column":21,"nodeType":"Identifier","messageId":"unsafeComputedMemberAccess","endLine":19,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":22,"column":46,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":22,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":23,"column":43,"nodeType":"MemberExpression","messageId":"errorCall","endLine":23,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .has on a type that cannot be resolved.","line":23,"column":77,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":23,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":98,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":98,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":99,"column":40,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":99,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":99,"column":112,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":99,"endColumn":118},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":104,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":104,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [typeIndex] on a type that cannot be resolved.","line":104,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":104,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":112,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":112,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":112,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":112,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":113,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":113,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on a type that cannot be resolved.","line":113,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":113,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":116,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":116,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultText on a type that cannot be resolved.","line":117,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":117,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":136,"column":21,"nodeType":"Property","messageId":"anyAssignment","endLine":136,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":148,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":148,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":150,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":150,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":155,"column":84,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":155,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [idx] on a type that cannot be resolved.","line":156,"column":88,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":156,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":162,"column":17,"nodeType":"Property","messageId":"anyAssignment","endLine":162,"endColumn":41}],"suppressedMessages":[],"errorCount":30,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ITEM_TYPES } from '../../domain/constants/itemTypes';\nimport { ShareConstants } from './ShareConstants';\r\nimport { ShareDataNormalizer } from './ShareDataNormalizer';\r\nimport { ShareMatrixCodec } from './ShareMatrixCodec';\r\nimport { SharePositionCodec } from './SharePositionCodec';\r\nimport { ShareTextCodec } from './ShareTextCodec';\r\nimport { ShareVariableCodec } from './ShareVariableCodec';\r\nclass ShareDecoder {\r\n    static decodeShareCode(code) {\r\n        const OT = ITEM_TYPES;\r\n        if (!code) return null;\r\n        const segments = code.split('.');\r\n        const payload = {};\r\n        for (const segment of segments) {\r\n            if (!segment) continue;\r\n            const key = segment[0];\r\n            const value = segment.slice(1);\r\n            payload[key] = value;\r\n        }\r\n\r\n        const version = payload.v ? parseInt(payload.v, 36) : NaN;\r\n        if (!Number.isFinite(version) || !ShareConstants.SUPPORTED_VERSIONS.has(version)) {\r\n            return null;\r\n        }\r\n\r\n        const roomCount = version >= ShareConstants.VERSION_3 ? ShareConstants.WORLD_ROOM_COUNT : 1;\r\n        const groundMaps = ShareMatrixCodec.decodeWorldGround(payload.g || '', version, roomCount);\r\n        const overlayMaps = ShareMatrixCodec.decodeWorldOverlay(payload.o || '', version, roomCount);\r\n        const startPosition = SharePositionCodec.decodePositions(payload.s || '')?.[0] ?? ShareDataNormalizer.normalizeStart({});\r\n        const npcPositions = SharePositionCodec.decodePositions(payload.p || '');\r\n        const npcTexts = ShareTextCodec.decodeTextArray(payload.t || '');\r\n        const npcTypeIndexes = SharePositionCodec.decodeNpcTypeIndexes(payload.i || '');\r\n        const npcConditionalTexts = version >= ShareConstants.NPC_VARIABLE_TEXT_VERSION ? ShareTextCodec.decodeTextArray(payload.u || '') : [];\r\n        const npcConditionIndexes = version >= ShareConstants.NPC_VARIABLE_TEXT_VERSION\r\n            ? ShareVariableCodec.decodeVariableNibbleArray(payload.c || '', npcPositions.length)\r\n            : [];\r\n        const npcRewardIndexes = version >= ShareConstants.NPC_VARIABLE_TEXT_VERSION\r\n            ? ShareVariableCodec.decodeVariableNibbleArray(payload.r || '', npcPositions.length)\r\n            : [];\r\n        const npcConditionalRewardIndexes = version >= ShareConstants.NPC_CONDITIONAL_REWARD_VERSION\r\n            ? ShareVariableCodec.decodeVariableNibbleArray(payload.h || '', npcPositions.length)\r\n            : [];\r\n        const enemyPositions = SharePositionCodec.decodePositions(payload.e || '');\r\n        const enemyTypeIndexes = version >= ShareConstants.ENEMY_TYPE_VERSION\r\n            ? SharePositionCodec.decodeEnemyTypeIndexes(payload.f || '', enemyPositions.length)\r\n            : [];\r\n        const enemyVariableNibbles = version >= ShareConstants.ENEMY_VARIABLE_VERSION\r\n            ? ShareVariableCodec.decodeVariableNibbleArray(payload.w || '', enemyPositions.length)\r\n            : new Array(enemyPositions.length).fill(0);\r\n        const doorPositions = version >= ShareConstants.OBJECTS_VERSION ? SharePositionCodec.decodePositions(payload.d || '') : [];\r\n        const keyPositions = version >= ShareConstants.OBJECTS_VERSION ? SharePositionCodec.decodePositions(payload.k || '') : [];\r\n        const magicDoorPositions = version >= ShareConstants.MAGIC_DOOR_VERSION ? SharePositionCodec.decodePositions(payload.m || '') : [];\r\n        const magicDoorVariableNibbles = version >= ShareConstants.MAGIC_DOOR_VERSION\r\n            ? ShareVariableCodec.decodeVariableNibbleArray(payload.q || '', magicDoorPositions.length)\r\n            : [];\r\n        const lifePotionPositions = version >= ShareConstants.LIFE_POTION_VERSION\r\n            ? SharePositionCodec.decodePositions(payload.l || '')\r\n            : [];\r\n        const xpScrollPositions = version >= ShareConstants.XP_SCROLL_VERSION\r\n            ? SharePositionCodec.decodePositions(payload.x || '')\r\n            : [];\r\n        const swordPositions = version >= ShareConstants.SWORD_VERSION\r\n            ? SharePositionCodec.decodePositions(payload.a || '')\r\n            : [];\r\n        const swordBronzePositions = version >= ShareConstants.TIERED_SWORD_VERSION\r\n            ? SharePositionCodec.decodePositions(payload.B || '')\r\n            : [];\r\n        const swordWoodPositions = version >= ShareConstants.TIERED_SWORD_VERSION\r\n            ? SharePositionCodec.decodePositions(payload.W || '')\r\n            : [];\r\n        const playerEndPositions = version >= ShareConstants.PLAYER_END_VERSION\r\n            ? SharePositionCodec.decodePositions(payload.z || '')\r\n            : [];\r\n        let playerEndMessages = [];\r\n        if (version >= ShareConstants.PLAYER_END_TEXT_ARRAY_VERSION) {\r\n            playerEndMessages = ShareTextCodec.decodeTextArray(payload.E || '');\r\n        } else if (version >= ShareConstants.PLAYER_END_TEXT_VERSION) {\r\n            const legacyMessage = ShareTextCodec.decodeText(payload.E || '', '');\r\n            if (legacyMessage) {\r\n                playerEndMessages = [legacyMessage];\r\n            }\r\n        }\r\n        const variableStates = version >= ShareConstants.VARIABLES_VERSION ? ShareVariableCodec.decodeVariables(payload.b || '') : [];\r\n        const switchPositions = version >= ShareConstants.SWITCH_VERSION\r\n            ? SharePositionCodec.decodePositions(payload.J || '')\r\n            : [];\r\n        const switchVariableNibbles = version >= ShareConstants.SWITCH_VERSION\r\n            ? ShareVariableCodec.decodeVariableNibbleArray(payload.K || '', switchPositions.length)\r\n            : [];\r\n        const switchStateNibbles = version >= ShareConstants.SWITCH_VERSION\r\n            ? ShareVariableCodec.decodeVariableNibbleArray(payload.L || '', switchPositions.length)\r\n            : [];\r\n        const title = (ShareTextCodec.decodeText(payload.n, ShareConstants.DEFAULT_TITLE) || ShareConstants.DEFAULT_TITLE).slice(0, 18);\r\n        const author = (ShareTextCodec.decodeText(payload.y, '') || '').slice(0, 18);\r\n        const buildNpcId = (index) => `npc-${index + 1}`;\r\n\r\n        const defs = ShareConstants.NPC_DEFINITIONS;\r\n        const canUseDefinitions = defs.length > 0 && (npcTypeIndexes.length > 0 || npcPositions.length <= defs.length);\r\n        const sprites = [];\r\n        if (canUseDefinitions) {\r\n            for (let index = 0; index < npcPositions.length; index++) {\r\n                const typeIndex = npcTypeIndexes[index] ?? index;\r\n                const def = defs[typeIndex];\r\n                if (!def) continue;\r\n                const pos = npcPositions[index];\r\n                const conditionVariableId = ShareVariableCodec.nibbleToVariableId(npcConditionIndexes[index] ?? 0);\r\n                const rewardVariableId = ShareVariableCodec.nibbleToVariableId(npcRewardIndexes[index] ?? 0);\r\n                const conditionalRewardVariableId = ShareVariableCodec.nibbleToVariableId(npcConditionalRewardIndexes[index] ?? 0);\r\n                sprites.push({\r\n                    id: buildNpcId(index),\r\n                    type: def.type,\r\n                    name: def.name,\r\n                    x: pos.x,\r\n                    y: pos.y,\r\n                    roomIndex: pos.roomIndex,\r\n                    text: npcTexts[index] ?? (def.defaultText || ''),\r\n                    placed: true,\r\n                    conditionVariableId,\r\n                    conditionText: npcConditionalTexts[index] ?? '',\r\n                    rewardVariableId,\r\n                    conditionalRewardVariableId\r\n                });\r\n            }\r\n        } else {\r\n            for (let index = 0; index < npcPositions.length; index++) {\r\n                const pos = npcPositions[index];\r\n                const conditionVariableId = ShareVariableCodec.nibbleToVariableId(npcConditionIndexes[index] ?? 0);\r\n                const rewardVariableId = ShareVariableCodec.nibbleToVariableId(npcRewardIndexes[index] ?? 0);\r\n                const conditionalRewardVariableId = ShareVariableCodec.nibbleToVariableId(npcConditionalRewardIndexes[index] ?? 0);\r\n                sprites.push({\r\n                    id: buildNpcId(index),\r\n                    name: `NPC ${index + 1}`,\r\n                    x: pos.x,\r\n                    y: pos.y,\r\n                    roomIndex: pos.roomIndex,\r\n                    text: npcTexts[index] ?? '',\r\n                    placed: true,\r\n                    conditionVariableId,\r\n                    conditionText: npcConditionalTexts[index] ?? '',\r\n                    rewardVariableId,\r\n                    conditionalRewardVariableId\r\n                });\r\n            }\r\n        }\r\n\r\n        const defaultEnemyType = ShareDataNormalizer.normalizeEnemyType();\r\n        const enemyDefinitions = ShareConstants.ENEMY_DEFINITIONS;\r\n        const enemies = enemyPositions.map((pos, index) => {\r\n            const nibble = enemyVariableNibbles[index] ?? 0;\r\n            return {\r\n                id: `enemy-${index + 1}`,\r\n                type: (() => {\r\n                    const idx = enemyTypeIndexes[index];\r\n                    if (Number.isFinite(idx) && idx >= 0 && idx < enemyDefinitions.length) {\r\n                        return ShareDataNormalizer.normalizeEnemyType(enemyDefinitions[idx]?.type);\r\n                    }\r\n                    return defaultEnemyType;\r\n                })(),\r\n                x: pos.x,\r\n                y: pos.y,\r\n                roomIndex: pos.roomIndex,\r\n                defeatVariableId: ShareVariableCodec.nibbleToVariableId(nibble)\r\n            };\r\n        });\r\n\r\n        const rooms = Array.from({ length: roomCount }, () => ({ bg: 0 }));\r\n        const maps = [];\r\n        for (let index = 0; index < roomCount; index++) {\r\n            const ground = groundMaps[index] ?? ShareMatrixCodec.normalizeGround([]);\r\n            const overlay = overlayMaps[index] ?? ShareMatrixCodec.normalizeOverlay([]);\r\n            maps.push({ ground, overlay });\r\n        }\r\n\r\n        const playerEndEntries = ShareDataNormalizer.buildObjectEntries(\r\n            playerEndPositions,\r\n            OT.PLAYER_END,\r\n            { endingTexts: playerEndMessages }\r\n        );\r\n\r\n        const objects = [\r\n            ...ShareDataNormalizer.buildObjectEntries(doorPositions, OT.DOOR),\r\n            ...ShareDataNormalizer.buildObjectEntries(keyPositions, OT.KEY),\r\n            ...ShareDataNormalizer.buildObjectEntries(magicDoorPositions, OT.DOOR_VARIABLE, { variableNibbles: magicDoorVariableNibbles }),\r\n            ...ShareDataNormalizer.buildObjectEntries(lifePotionPositions, OT.LIFE_POTION),\r\n            ...ShareDataNormalizer.buildObjectEntries(xpScrollPositions, OT.XP_SCROLL),\r\n            ...ShareDataNormalizer.buildObjectEntries(swordPositions, OT.SWORD),\r\n            ...ShareDataNormalizer.buildObjectEntries(swordBronzePositions, OT.SWORD_BRONZE),\r\n            ...ShareDataNormalizer.buildObjectEntries(swordWoodPositions, OT.SWORD_WOOD),\r\n            ...playerEndEntries,\r\n            ...ShareDataNormalizer.buildObjectEntries(switchPositions, OT.SWITCH, { variableNibbles: switchVariableNibbles, stateBits: switchStateNibbles })\r\n        ];\r\n\r\n        return {\r\n            title,\r\n            author,\r\n            start: startPosition,\r\n            sprites,\r\n            enemies,\r\n            world: version >= ShareConstants.VERSION_3\r\n                ? { rows: ShareConstants.WORLD_ROWS, cols: ShareConstants.WORLD_COLS }\r\n                : { rows: 1, cols: 1 },\r\n            rooms,\r\n            objects,\r\n            variables: ShareVariableCodec.buildVariableEntries(variableStates),\r\n            tileset: {\r\n                tiles: [],\r\n                maps,\r\n                map: maps[0] || { ground: ShareMatrixCodec.normalizeGround([]), overlay: ShareMatrixCodec.normalizeOverlay([]) }\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nexport { ShareDecoder };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareEncoder.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .start on an `any` value.","line":15,"column":68,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":15,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .sprites on an `any` value.","line":16,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":16,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .enemies on an `any` value.","line":17,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":17,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":18,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":18,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on an `any` value.","line":18,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":18,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .objects on an `any` value.","line":18,"column":69,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":18,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":31,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":31,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":32,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":32,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":33,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":33,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":36,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":36,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on an `any` value.","line":36,"column":51,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":36,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .variables on an `any` value.","line":36,"column":73,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":36,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":37,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":37,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":39,"column":63,"nodeType":"CallExpression","messageId":"unsafeReturn","endLine":39,"endColumn":100},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":64,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":64,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":71,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":71,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":72,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":72,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":79,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":79,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":80,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":80,"endColumn":116},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":81,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":81,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":82,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":82,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":83,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":83,"endColumn":113},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":94,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":94,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":95,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":95,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":97,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":97,"endColumn":105},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":110,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":110,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":117,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":117,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":121,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":121,"endColumn":113},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":128,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":128,"endColumn":77},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":135,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":135,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":142,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":142,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":149,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":149,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":155,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":155,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":161,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":161,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":168,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":168,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":182,"column":69,"nodeType":"Property","messageId":"anyAssignment","endLine":182,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":182,"column":81,"nodeType":"Property","messageId":"anyAssignment","endLine":182,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":182,"column":93,"nodeType":"Property","messageId":"anyAssignment","endLine":182,"endColumn":119},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":183,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":183,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":186,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":186,"endColumn":145},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":187,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":187,"endColumn":139},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":201,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":201,"endColumn":87},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .title on an `any` value.","line":201,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":201,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":201,"column":61,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":201,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .title on an `any` value.","line":201,"column":70,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":201,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":203,"column":56,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":203,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":203,"column":62,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":203,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":205,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":205,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .author on an `any` value.","line":205,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":205,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":205,"column":63,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":205,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .author on an `any` value.","line":205,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":205,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":207,"column":56,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":207,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":207,"column":63,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":207,"endColumn":68}],"suppressedMessages":[],"errorCount":53,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ITEM_TYPES } from '../../domain/constants/itemTypes';\nimport { ShareConstants } from './ShareConstants';\r\nimport { ShareDataNormalizer } from './ShareDataNormalizer';\r\nimport { ShareMatrixCodec } from './ShareMatrixCodec';\r\nimport { SharePositionCodec } from './SharePositionCodec';\r\nimport { ShareTextCodec } from './ShareTextCodec';\r\nimport { ShareVariableCodec } from './ShareVariableCodec';\r\nclass ShareEncoder {\r\n    static buildShareCode(gameData) {\r\n        const OT = ITEM_TYPES;\r\n        const roomCount = ShareConstants.WORLD_ROOM_COUNT;\r\n        const groundMatrices = ShareMatrixCodec.collectGroundMatrices(gameData, roomCount);\r\n        const overlayMatrices = ShareMatrixCodec.collectOverlayMatrices(gameData, roomCount);\r\n        const start = ShareDataNormalizer.normalizeStart(gameData?.start ?? {});\r\n        const sprites = ShareDataNormalizer.normalizeSprites(gameData?.sprites);\r\n        const enemies = ShareDataNormalizer.normalizeEnemies(gameData?.enemies);\r\n        const objects = Array.isArray(gameData?.objects) ? gameData.objects : [];\r\n        const doorPositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.DOOR);\r\n        const keyPositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.KEY);\r\n        const lifePotionPositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.LIFE_POTION);\r\n        const xpScrollPositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.XP_SCROLL);\r\n        const swordPositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.SWORD);\r\n        const swordBronzePositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.SWORD_BRONZE);\r\n        const swordWoodPositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.SWORD_WOOD);\r\n        const playerEndPositions = ShareDataNormalizer.normalizeObjectPositions(objects, OT.PLAYER_END);\r\n        const playerEndMessages = ShareDataNormalizer.collectPlayerEndTexts(objects);\r\n        const switchEntries = ShareDataNormalizer.normalizeSwitchObjects(objects);\r\n        const magicDoorEntries = ShareDataNormalizer.normalizeVariableDoorObjects(objects);\r\n        const magicDoorPositions = magicDoorEntries.map((entry) => ({\r\n            x: entry.x,\r\n            y: entry.y,\r\n            roomIndex: entry.roomIndex\r\n        }));\r\n        const magicDoorVariableNibbles = magicDoorEntries.map((entry) => entry.variableNibble ?? 0);\r\n        const variables = Array.isArray(gameData?.variables) ? gameData.variables : [];\r\n        const variableCode = ShareVariableCodec.encodeVariables(variables);\r\n\r\n        const groundSegments = groundMatrices.map((matrix) => ShareMatrixCodec.encodeGround(matrix));\r\n        const hasGround = groundSegments.some((segment) => Boolean(segment));\r\n\r\n        const overlaySegments = [];\r\n        let hasOverlay = false;\r\n        for (let index = 0; index < roomCount; index++) {\r\n            const { text, hasData } = ShareMatrixCodec.encodeOverlay(overlayMatrices[index] ?? []);\r\n            overlaySegments.push(text);\r\n            if (hasData) hasOverlay = true;\r\n        }\r\n\r\n        const parts = [];\r\n        parts.push('v' + ShareConstants.VERSION.toString(36));\r\n        if (hasGround) {\r\n            parts.push('g' + groundSegments.join(','));\r\n        }\r\n        if (hasOverlay) {\r\n            parts.push('o' + overlaySegments.join(','));\r\n        }\r\n\r\n        const defaultStart = ShareDataNormalizer.normalizeStart({});\r\n        const needsStart = start.x !== defaultStart.x ||\r\n            start.y !== defaultStart.y ||\r\n            start.roomIndex !== defaultStart.roomIndex;\r\n        if (needsStart) {\r\n            const startCode = SharePositionCodec.encodePositions([start]);\r\n            if (startCode) {\r\n                parts.push('s' + startCode);\r\n            }\r\n        }\r\n\r\n        if (sprites.length) {\r\n            const positions = SharePositionCodec.encodePositions(sprites);\r\n            const typeIndexes = SharePositionCodec.encodeNpcTypeIndexes(sprites);\r\n            const spriteTexts = sprites.map((npc) => (typeof npc.text === 'string' ? npc.text : ''));\r\n            const conditionalTexts = sprites.map((npc) => (typeof npc.conditionText === 'string' ? npc.conditionText : ''));\r\n            const conditionIndexes = sprites.map((npc) => ShareVariableCodec.variableIdToNibble(npc.conditionVariableId));\r\n            const rewardIndexes = sprites.map((npc) => ShareVariableCodec.variableIdToNibble(npc.rewardVariableId));\r\n            const conditionalRewardIndexes = sprites.map((npc) => ShareVariableCodec.variableIdToNibble(npc.conditionalRewardVariableId));\r\n            const hasConditionalTexts = conditionalTexts.some((text) => typeof text === 'string' && text.trim().length);\r\n            const texts = ShareTextCodec.encodeTextArray(spriteTexts);\r\n            const conditionalTextCode = hasConditionalTexts ? ShareTextCodec.encodeTextArray(conditionalTexts) : '';\r\n            const conditionCode = ShareVariableCodec.encodeVariableNibbleArray(conditionIndexes);\r\n            const rewardCode = ShareVariableCodec.encodeVariableNibbleArray(rewardIndexes);\r\n            const conditionalRewardCode = ShareVariableCodec.encodeVariableNibbleArray(conditionalRewardIndexes);\r\n            if (positions) parts.push('p' + positions);\r\n            if (typeIndexes) parts.push('i' + typeIndexes);\r\n            if (texts) parts.push('t' + texts);\r\n            if (conditionalTextCode) parts.push('u' + conditionalTextCode);\r\n            if (conditionCode) parts.push('c' + conditionCode);\r\n            if (rewardCode) parts.push('r' + rewardCode);\r\n            if (conditionalRewardCode) parts.push('h' + conditionalRewardCode);\r\n        }\r\n\r\n        if (enemies.length) {\r\n            const enemyPositions = SharePositionCodec.encodePositions(enemies);\r\n            const enemyTypeIndexes = SharePositionCodec.encodeEnemyTypeIndexes(enemies);\r\n            const enemyVariableNibbles = enemies.map((enemy) => enemy.variableNibble ?? 0);\r\n            const enemyVariableCode = ShareVariableCodec.encodeVariableNibbleArray(enemyVariableNibbles);\r\n            if (enemyPositions) {\r\n                parts.push('e' + enemyPositions);\r\n            }\r\n            if (enemyTypeIndexes) {\r\n                parts.push('f' + enemyTypeIndexes);\r\n            }\r\n            if (enemyVariableCode) {\r\n                parts.push('w' + enemyVariableCode);\r\n            }\r\n        }\r\n\r\n        if (doorPositions.length) {\r\n            const doorCode = SharePositionCodec.encodePositions(doorPositions);\r\n            if (doorCode) {\r\n                parts.push('d' + doorCode);\r\n            }\r\n        }\r\n\r\n        if (magicDoorPositions.length) {\r\n            const magicDoorCode = SharePositionCodec.encodePositions(magicDoorPositions);\r\n            if (magicDoorCode) {\r\n                parts.push('m' + magicDoorCode);\r\n            }\r\n            const magicDoorVariableCode = ShareVariableCodec.encodeVariableNibbleArray(magicDoorVariableNibbles);\r\n            if (magicDoorVariableCode) {\r\n                parts.push('q' + magicDoorVariableCode);\r\n            }\r\n        }\r\n\r\n        if (keyPositions.length) {\r\n            const keyCode = SharePositionCodec.encodePositions(keyPositions);\r\n            if (keyCode) {\r\n                parts.push('k' + keyCode);\r\n            }\r\n        }\r\n\r\n        if (lifePotionPositions.length) {\r\n            const potionCode = SharePositionCodec.encodePositions(lifePotionPositions);\r\n            if (potionCode) {\r\n                parts.push('l' + potionCode);\r\n            }\r\n        }\r\n\r\n        if (xpScrollPositions.length) {\r\n            const xpCode = SharePositionCodec.encodePositions(xpScrollPositions);\r\n            if (xpCode) {\r\n                parts.push('x' + xpCode);\r\n            }\r\n        }\r\n\r\n        if (swordPositions.length) {\r\n            const swordCode = SharePositionCodec.encodePositions(swordPositions);\r\n            if (swordCode) {\r\n                parts.push('a' + swordCode);\r\n            }\r\n        }\r\n        if (swordBronzePositions.length) {\r\n            const bronzeCode = SharePositionCodec.encodePositions(swordBronzePositions);\r\n            if (bronzeCode) {\r\n                parts.push('B' + bronzeCode);\r\n            }\r\n        }\r\n        if (swordWoodPositions.length) {\r\n            const woodCode = SharePositionCodec.encodePositions(swordWoodPositions);\r\n            if (woodCode) {\r\n                parts.push('W' + woodCode);\r\n            }\r\n        }\r\n\r\n        if (playerEndPositions.length) {\r\n            const endCode = SharePositionCodec.encodePositions(playerEndPositions);\r\n            if (endCode) {\r\n                parts.push('z' + endCode);\r\n            }\r\n        }\r\n\r\n        const hasEndingMessages = Array.isArray(playerEndMessages)\r\n            ? playerEndMessages.some((message) => typeof message === 'string' && message.length)\r\n            : false;\r\n        if (hasEndingMessages) {\r\n            parts.push('E' + ShareTextCodec.encodeTextArray(playerEndMessages));\r\n        }\r\n\r\n        if (switchEntries.length) {\r\n            const switchPositions = switchEntries.map((entry) => ({ x: entry.x, y: entry.y, roomIndex: entry.roomIndex }));\r\n            const switchPositionCode = SharePositionCodec.encodePositions(switchPositions);\r\n            if (switchPositionCode) {\r\n                parts.push('J' + switchPositionCode);\r\n                const switchVariableCode = ShareVariableCodec.encodeVariableNibbleArray(switchEntries.map((entry) => entry.variableNibble ?? 0));\r\n                const switchStateCode = ShareVariableCodec.encodeVariableNibbleArray(switchEntries.map((entry) => entry.stateNibble ?? 0));\r\n                if (switchVariableCode) {\r\n                    parts.push('K' + switchVariableCode);\r\n                }\r\n                if (switchStateCode) {\r\n                    parts.push('L' + switchStateCode);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (variableCode) {\r\n            parts.push('b' + variableCode);\r\n        }\r\n\r\n        const title = typeof gameData?.title === 'string' ? gameData.title.trim() : '';\r\n        if (title && title !== ShareConstants.DEFAULT_TITLE) {\r\n            parts.push('n' + ShareTextCodec.encodeText(title.slice(0, 80)));\r\n        }\r\n        const author = typeof gameData?.author === 'string' ? gameData.author.trim() : '';\r\n        if (author) {\r\n            parts.push('y' + ShareTextCodec.encodeText(author.slice(0, 60)));\r\n        }\r\n\r\n        return parts.join('.');\r\n    }\r\n}\r\n\r\nexport { ShareEncoder };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareMath.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":5,"column":38,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":5,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":6,"column":25,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":6,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":6,"column":39,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":6,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":6,"column":44,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":6,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":10,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":10,"endColumn":84}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ShareConstants } from './ShareConstants';\r\nclass ShareMath {\r\n    static clamp(value, min, max, fallback) {\r\n        if (!Number.isFinite(value)) return fallback;\r\n        return Math.max(min, Math.min(max, value));\r\n    }\r\n\r\n    static clampRoomIndex(value) {\r\n        return ShareMath.clamp(Number(value), 0, ShareConstants.MAX_ROOM_INDEX, 0);\r\n    }\r\n}\r\n\r\nexport { ShareMath };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareMatrixCodec.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on an `any` value.","line":13,"column":73,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":13,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":28,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":28,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on an `any` value.","line":28,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":28,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":42,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":42,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":42,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":42,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":42,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":42,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":43,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":43,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":43,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":46,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":46,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on an `any` value.","line":46,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":46,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":49,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":49,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":53,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":53,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":53,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":53,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":53,"column":72,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":53,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":54,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":54,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .tileset on an `any` value.","line":54,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":54,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":57,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":57,"endColumn":90},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on an `any` value.","line":57,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":57,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":60,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":60,"endColumn":25},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":95,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":95,"endColumn":105},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":97,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":97,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":99,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":99,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":100,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":100,"endColumn":120},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":101,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":101,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":101,"column":46,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":101,"column":69,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":101,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":102,"column":34,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":102,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":105,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":105,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":114,"column":20,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":114,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":114,"column":64,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":114,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":122,"column":27,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":122,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index++] on an `any` value.","line":122,"column":41,"nodeType":"UpdateExpression","messageId":"unsafeMemberExpression","endLine":122,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":123,"column":44,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":123,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on an `any` value.","line":131,"column":42,"nodeType":"Literal","messageId":"unsafeMemberExpression","endLine":131,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":134,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":134,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":135,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":135,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":135,"column":31,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":135,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":135,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":135,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":136,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":136,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":136,"column":33,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":136,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":136,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":136,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":140,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":140,"endColumn":105},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":149,"column":27,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":149,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [valueIndex++] on a type that cannot be resolved.","line":149,"column":53,"nodeType":"UpdateExpression","messageId":"errorMemberExpression","endLine":149,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":159,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":159,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":164,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":164,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [valueIndex++] on a type that cannot be resolved.","line":164,"column":38,"nodeType":"UpdateExpression","messageId":"errorMemberExpression","endLine":164,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":184,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":184,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":201,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":201,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":202,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":204,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on an `any` value.","line":215,"column":42,"nodeType":"Literal","messageId":"unsafeMemberExpression","endLine":215,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":221,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":221,"endColumn":83},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":222,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":222,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":222,"column":31,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":222,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":222,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":222,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":223,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":223,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":223,"column":33,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":223,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":223,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":223,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":227,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":227,"endColumn":105},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":238,"column":31,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":238,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [valueIndex++] on a type that cannot be resolved.","line":238,"column":46,"nodeType":"UpdateExpression","messageId":"errorMemberExpression","endLine":238,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":254,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":254,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index++] on an `any` value.","line":254,"column":37,"nodeType":"UpdateExpression","messageId":"unsafeMemberExpression","endLine":254,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":258,"column":44,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":258,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":269,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":269,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":269,"column":37,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":269,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .split on an `any` value.","line":269,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":269,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":272,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":272,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on an `any` value.","line":272,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":272,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":282,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":282,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":282,"column":37,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":282,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .split on an `any` value.","line":282,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":282,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":285,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":285,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [index] on an `any` value.","line":285,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":285,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":318,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":318,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [y] on an `any` value.","line":318,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":318,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":330,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":330,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":331,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":331,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":332,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":332,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":332,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":332,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":332,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":332,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":337,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":337,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":337,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":337,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .packNibbles on a type that cannot be resolved.","line":337,"column":35,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":337,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":337,"column":47,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":337,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .map on an `any` value.","line":337,"column":54,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":337,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":344,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":344,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":344,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":344,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":346,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":346,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":348,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":348,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":348,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":348,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .unpackNibbles on a type that cannot be resolved.","line":348,"column":35,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":348,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":353,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":353,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":354,"column":17,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":354,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":354,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":354,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":367,"column":14,"nodeType":"MemberExpression","messageId":"errorCall","endLine":367,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .has on a type that cannot be resolved.","line":367,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":367,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":369,"column":13,"nodeType":"MemberExpression","messageId":"errorCall","endLine":369,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .set on a type that cannot be resolved.","line":369,"column":51,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":369,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on a type that cannot be resolved.","line":371,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":371,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":374,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":374,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":374,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":374,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .get on a type that cannot be resolved.","line":374,"column":54,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":374,"endColumn":57}],"suppressedMessages":[],"errorCount":103,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ShareBase64 } from './ShareBase64';\r\nimport { ShareConstants } from './ShareConstants';\r\nimport { ShareMath } from './ShareMath';\r\nclass ShareMatrixCodec {\r\n    static normalizeGround(matrix) {\r\n        const size = ShareConstants.MATRIX_SIZE;\r\n        const rows = [];\r\n        const maxTileValue = ShareConstants.TILE_VALUE_MAX;\r\n        for (let y = 0; y < size; y++) {\r\n            const row = [];\r\n            for (let x = 0; x < size; x++) {\r\n                const value = ShareMatrixCodec.coerceTileValue(matrix?.[y]?.[x], 0);\r\n                row.push(ShareMath.clamp(value, 0, maxTileValue, 0));\r\n            }\r\n            rows.push(row);\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    static normalizeOverlay(matrix) {\r\n        const size = ShareConstants.MATRIX_SIZE;\r\n        const rows = [];\r\n        const maxTileValue = ShareConstants.TILE_VALUE_MAX;\r\n        for (let y = 0; y < size; y++) {\r\n            const row = [];\r\n            for (let x = 0; x < size; x++) {\r\n                const raw = matrix?.[y]?.[x];\r\n                if (raw === null || raw === undefined) {\r\n                    row.push(null);\r\n                } else {\r\n                    const value = ShareMatrixCodec.coerceTileValue(raw, 0);\r\n                    row.push(ShareMath.clamp(value, 0, maxTileValue, 0));\r\n                }\r\n            }\r\n            rows.push(row);\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    static collectGroundMatrices(gameData, roomCount) {\r\n        const maps = Array.isArray(gameData?.tileset?.maps) ? gameData.tileset.maps : [];\r\n        const fallbackGround = gameData?.tileset?.map?.ground ?? null;\r\n        const matrices = [];\r\n        for (let index = 0; index < roomCount; index++) {\r\n            const source = maps[index]?.ground ?? (index === 0 ? fallbackGround : null);\r\n            matrices.push(source ?? []);\r\n        }\r\n        return matrices;\r\n    }\r\n\r\n    static collectOverlayMatrices(gameData, roomCount) {\r\n        const maps = Array.isArray(gameData?.tileset?.maps) ? gameData.tileset.maps : [];\r\n        const fallbackOverlay = gameData?.tileset?.map?.overlay ?? null;\r\n        const matrices = [];\r\n        for (let index = 0; index < roomCount; index++) {\r\n            const source = maps[index]?.overlay ?? (index === 0 ? fallbackOverlay : null);\r\n            matrices.push(source ?? []);\r\n        }\r\n        return matrices;\r\n    }\r\n\r\n    static encodeGround(matrix) {\r\n        const normalized = ShareMatrixCodec.normalizeGround(matrix);\r\n        const values = [];\r\n        const nonZeroValues = [];\r\n        const tileCount = ShareConstants.TILE_COUNT;\r\n        const maskBytes = new Uint8Array(Math.ceil(tileCount / 8));\r\n        let hasNonZero = false;\r\n        let bitIndex = 0;\r\n        const size = ShareConstants.MATRIX_SIZE;\r\n        const useExtendedTiles = ShareMatrixCodec.shouldUseExtendedTileEncoding(normalized);\r\n\r\n        for (let y = 0; y < size; y++) {\r\n            for (let x = 0; x < size; x++) {\r\n                const value = normalized[y][x] & 0xff;\r\n                if (!hasNonZero && value !== 0) {\r\n                    hasNonZero = true;\r\n                }\r\n                if (value !== 0) {\r\n                    const byteIndex = bitIndex >> 3;\r\n                    const bitPosition = bitIndex & 0x07;\r\n                    maskBytes[byteIndex] |= (1 << bitPosition);\r\n                    nonZeroValues.push(value);\r\n                }\r\n                values.push(value);\r\n                bitIndex++;\r\n            }\r\n        }\r\n\r\n        if (!hasNonZero) {\r\n            return '';\r\n        }\r\n\r\n        const dense = ShareBase64.toBase64Url(ShareMatrixCodec.packTileValues(values, useExtendedTiles));\r\n        if (!nonZeroValues.length) {\r\n            return dense;\r\n        }\r\n        const encodedMask = ShareBase64.toBase64Url(maskBytes);\r\n        const encodedValues = ShareBase64.toBase64Url(ShareMatrixCodec.packTileValues(nonZeroValues, useExtendedTiles));\r\n        const sparseLength = 1 + encodedMask.length + encodedValues.length;\r\n        if (sparseLength < dense.length) {\r\n            return `${ShareConstants.GROUND_SPARSE_PREFIX}${encodedMask}${encodedValues}`;\r\n        }\r\n        return dense;\r\n    }\r\n\r\n    static decodeGround(text, version) {\r\n        const tileCount = ShareConstants.TILE_COUNT;\r\n        const size = ShareConstants.MATRIX_SIZE;\r\n        const maxTileValue = ShareConstants.TILE_VALUE_MAX;\r\n        const useExtendedTiles = version >= ShareConstants.TILE_EXTENDED_VERSION;\r\n        const useLegacy = version === ShareConstants.LEGACY_VERSION ||\r\n            (text?.length === tileCount && /^[0-9a-f]+$/i.test(text));\r\n        const grid = [];\r\n\r\n        if (useLegacy) {\r\n            let index = 0;\r\n            for (let y = 0; y < size; y++) {\r\n                const row = [];\r\n                for (let x = 0; x < size; x++) {\r\n                    const char = text?.[index++] ?? '0';\r\n                    const value = parseInt(char, 16);\r\n                    row.push(Number.isFinite(value) ? ShareMath.clamp(value, 0, ShareConstants.TILE_LEGACY_MAX, 0) : 0);\r\n                }\r\n                grid.push(row);\r\n            }\r\n            return grid;\r\n        }\r\n\r\n        const useSparseEncoding = text?.[0] === ShareConstants.GROUND_SPARSE_PREFIX &&\r\n            version !== ShareConstants.LEGACY_VERSION;\r\n        if (useSparseEncoding) {\r\n            const maskLength = ShareMatrixCodec.getTileMaskBase64Length(tileCount);\r\n            const maskSlice = text.slice(1, 1 + maskLength);\r\n            const valuesSlice = text.slice(1 + maskLength);\r\n            const maskBytes = ShareBase64.fromBase64Url(maskSlice);\r\n            const nonZeroCount = ShareMatrixCodec.countSetBits(maskBytes);\r\n            const valueBytes = valuesSlice ? ShareBase64.fromBase64Url(valuesSlice) : new Uint8Array(0);\r\n            const values = ShareMatrixCodec.unpackTileValues(valueBytes, nonZeroCount, useExtendedTiles);\r\n            let valueIndex = 0;\r\n            let bitIndex = 0;\r\n            for (let y = 0; y < size; y++) {\r\n                const row = [];\r\n                for (let x = 0; x < size; x++) {\r\n                    const byteIndex = bitIndex >> 3;\r\n                    const bitPosition = bitIndex & 0x07;\r\n                    const hasValue = (maskBytes[byteIndex] & (1 << bitPosition)) !== 0;\r\n                    const tile = hasValue ? (values[valueIndex++] ?? 0) : 0;\r\n                    row.push(ShareMath.clamp(tile, 0, maxTileValue, 0));\r\n                    bitIndex++;\r\n                }\r\n                grid.push(row);\r\n            }\r\n            return grid;\r\n        }\r\n\r\n        const bytes = ShareBase64.fromBase64Url(text);\r\n        const values = ShareMatrixCodec.unpackTileValues(bytes, tileCount, useExtendedTiles);\r\n        let valueIndex = 0;\r\n        for (let y = 0; y < size; y++) {\r\n            const row = [];\r\n            for (let x = 0; x < size; x++) {\r\n                const value = values[valueIndex++] ?? 0;\r\n                row.push(ShareMath.clamp(value, 0, maxTileValue, 0));\r\n            }\r\n            grid.push(row);\r\n        }\r\n        return grid;\r\n    }\r\n\r\n    static encodeOverlay(matrix) {\r\n        const normalized = ShareMatrixCodec.normalizeOverlay(matrix);\r\n        const tileCount = ShareConstants.TILE_COUNT;\r\n        const maskBytes = new Uint8Array(Math.ceil(tileCount / 8));\r\n        const values = [];\r\n        let hasData = false;\r\n        let bitIndex = 0;\r\n        const size = ShareConstants.MATRIX_SIZE;\r\n        const useExtendedTiles = ShareMatrixCodec.shouldUseExtendedTileEncoding(normalized);\r\n\r\n        for (let y = 0; y < size; y++) {\r\n            for (let x = 0; x < size; x++) {\r\n                const value = normalized[y][x];\r\n                const currentIndex = bitIndex++;\r\n                if (value === null || value === undefined) {\r\n                    continue;\r\n                }\r\n                hasData = true;\r\n                const byteIndex = currentIndex >> 3;\r\n                const bitPosition = currentIndex & 0x07;\r\n                maskBytes[byteIndex] |= (1 << bitPosition);\r\n                values.push(value & 0xff);\r\n            }\r\n        }\r\n\r\n        if (!hasData) {\r\n            return { text: '', hasData: false };\r\n        }\r\n\r\n        const encodedMask = ShareBase64.toBase64Url(maskBytes);\r\n        const encodedValues = values.length\r\n            ? ShareBase64.toBase64Url(ShareMatrixCodec.packTileValues(values, useExtendedTiles))\r\n            : '';\r\n        return {\r\n            text: `${ShareConstants.OVERLAY_BINARY_PREFIX}${encodedMask}${encodedValues}`,\r\n            hasData: true\r\n        };\r\n    }\r\n\r\n    static decodeOverlay(text, version) {\r\n        const size = ShareConstants.MATRIX_SIZE;\r\n        const tileCount = ShareConstants.TILE_COUNT;\r\n        const maxTileValue = ShareConstants.TILE_VALUE_MAX;\r\n        const useBinaryEncoding = text?.[0] === ShareConstants.OVERLAY_BINARY_PREFIX &&\r\n            version !== ShareConstants.LEGACY_VERSION;\r\n        const useExtendedTiles = version >= ShareConstants.TILE_EXTENDED_VERSION;\r\n        const grid = [];\r\n\r\n        if (useBinaryEncoding) {\r\n            const maskLength = ShareMatrixCodec.getTileMaskBase64Length(tileCount);\r\n            const maskSlice = text.slice(1, 1 + maskLength);\r\n            const valuesSlice = text.slice(1 + maskLength);\r\n            const maskBytes = ShareBase64.fromBase64Url(maskSlice);\r\n            const nonNullCount = ShareMatrixCodec.countSetBits(maskBytes);\r\n            const valueBytes = valuesSlice ? ShareBase64.fromBase64Url(valuesSlice) : new Uint8Array(0);\r\n            const values = ShareMatrixCodec.unpackTileValues(valueBytes, nonNullCount, useExtendedTiles);\r\n            let bitIndex = 0;\r\n            let valueIndex = 0;\r\n\r\n            for (let y = 0; y < size; y++) {\r\n                const row = [];\r\n                for (let x = 0; x < size; x++) {\r\n                    const byteIndex = bitIndex >> 3;\r\n                    const bitPosition = bitIndex & 0x07;\r\n                    const hasTile = (maskBytes[byteIndex] & (1 << bitPosition)) !== 0;\r\n                    if (hasTile) {\r\n                        const value = values[valueIndex++] ?? 0;\r\n                        row.push(ShareMath.clamp(value, 0, maxTileValue, 0));\r\n                    } else {\r\n                        row.push(null);\r\n                    }\r\n                    bitIndex++;\r\n                }\r\n                grid.push(row);\r\n            }\r\n            return grid;\r\n        }\r\n\r\n        let index = 0;\r\n        for (let y = 0; y < size; y++) {\r\n            const row = [];\r\n            for (let x = 0; x < size; x++) {\r\n                const char = text?.[index++] ?? ShareConstants.NULL_CHAR;\r\n                if (char === ShareConstants.NULL_CHAR) {\r\n                    row.push(null);\r\n                } else {\r\n                    const value = parseInt(char, 16);\r\n                    row.push(Number.isFinite(value) ? ShareMath.clamp(value, 0, ShareConstants.TILE_LEGACY_MAX, 0) : null);\r\n                }\r\n            }\r\n            grid.push(row);\r\n        }\r\n        return grid;\r\n    }\r\n\r\n    static decodeWorldGround(text, version, roomCount) {\r\n        if (version >= ShareConstants.WORLD_MULTIMAP_VERSION) {\r\n            const segments = text ? text.split(',') : [];\r\n            const matrices = [];\r\n            for (let index = 0; index < roomCount; index++) {\r\n                const segment = segments[index] ?? '';\r\n                matrices.push(ShareMatrixCodec.decodeGround(segment, version));\r\n            }\r\n            return matrices;\r\n        }\r\n        return [ShareMatrixCodec.decodeGround(text, version)];\r\n    }\r\n\r\n    static decodeWorldOverlay(text, version, roomCount) {\r\n        if (version >= ShareConstants.WORLD_MULTIMAP_VERSION) {\r\n            const segments = text ? text.split(',') : [];\r\n            const matrices = [];\r\n            for (let index = 0; index < roomCount; index++) {\r\n                const segment = segments[index] ?? '';\r\n                matrices.push(ShareMatrixCodec.decodeOverlay(segment, version));\r\n            }\r\n            return matrices;\r\n        }\r\n        return [ShareMatrixCodec.decodeOverlay(text || '', version)];\r\n    }\r\n\r\n    static coerceTileValue(value, fallback = 0) {\r\n        if (typeof value === 'number' && Number.isFinite(value)) {\r\n            return value;\r\n        }\r\n        if (typeof value === 'string' && value.trim() !== '') {\r\n            const parsed = Number(value);\r\n            if (Number.isFinite(parsed)) {\r\n                return parsed;\r\n            }\r\n        }\r\n        return fallback;\r\n    }\r\n\r\n    static shouldUseExtendedTileEncoding(matrix) {\r\n        if (ShareConstants.VERSION < ShareConstants.TILE_EXTENDED_VERSION) {\r\n            return ShareMatrixCodec.matrixHasExtendedTiles(matrix);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    static matrixHasExtendedTiles(matrix) {\r\n        const legacyMax = ShareConstants.TILE_LEGACY_MAX;\r\n        const size = ShareConstants.MATRIX_SIZE;\r\n        for (let y = 0; y < size; y++) {\r\n            for (let x = 0; x < size; x++) {\r\n                const value = matrix?.[y]?.[x];\r\n                if (value === null || value === undefined) continue;\r\n                if (Number.isFinite(value) && value > legacyMax) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static packTileValues(values, useExtended) {\r\n        if (useExtended) {\r\n            const bytes = new Uint8Array(values.length);\r\n            for (let i = 0; i < values.length; i++) {\r\n                const value = Number.isFinite(values[i]) ? values[i] : 0;\r\n                bytes[i] = value & 0xff;\r\n            }\r\n            return bytes;\r\n        }\r\n        return ShareVariableCodec.packNibbles(values.map((entry) => Number(entry) & 0x0f));\r\n    }\r\n\r\n    static unpackTileValues(bytes, expectedCount, useExtended) {\r\n        if (useExtended) {\r\n            const values = new Array(expectedCount);\r\n            for (let i = 0; i < expectedCount; i++) {\r\n                values[i] = bytes[i] ?? 0;\r\n            }\r\n            return values;\r\n        }\r\n        return ShareVariableCodec.unpackNibbles(bytes, expectedCount);\r\n    }\r\n\r\n    static countSetBits(bytes) {\r\n        let total = 0;\r\n        for (let i = 0; i < bytes.length; i++) {\r\n            let value = bytes[i] || 0;\r\n            while (value) {\r\n                value &= value - 1;\r\n                total++;\r\n            }\r\n        }\r\n        return total;\r\n    }\r\n\r\n    static getTileMaskBase64Length(tileCount) {\r\n        if (!ShareMatrixCodec._tileMaskLengthCache) {\r\n            ShareMatrixCodec._tileMaskLengthCache = new Map();\r\n        }\r\n        if (!ShareMatrixCodec._tileMaskLengthCache.has(tileCount)) {\r\n            const maskBytes = new Uint8Array(Math.ceil(tileCount / 8));\r\n            ShareMatrixCodec._tileMaskLengthCache.set(\r\n                tileCount,\r\n                ShareBase64.toBase64Url(maskBytes).length\r\n            );\r\n        }\r\n        return ShareMatrixCodec._tileMaskLengthCache.get(tileCount);\r\n    }\r\n}\r\n\r\nexport { ShareMatrixCodec };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\SharePositionCodec.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":7,"column":52,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":7,"endColumn":61},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":8,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":8,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":9,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":9,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":17,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":17,"endColumn":96},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":22,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":22,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":23,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":26,"endColumn":10},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":23,"column":30,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":23,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .reduce on an `any` value.","line":23,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":23,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":24,"column":38,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":24,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":24,"column":43,"nodeType":"CallExpression","messageId":"unsafeArgument","endLine":24,"endColumn":121},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":24,"column":73,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":24,"endColumn":82},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":29,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":29,"endColumn":56},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":30,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":30,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":31,"column":61,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":31,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":32,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":32,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":33,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":33,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":41,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":41,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":42,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":42,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":43,"column":66,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":45,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":45,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [0] on an `any` value.","line":50,"column":18,"nodeType":"Literal","messageId":"unsafeMemberExpression","endLine":50,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":51,"column":53,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":51,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .slice on an `any` value.","line":51,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":51,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":60,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":60,"endColumn":117},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":61,"column":40,"nodeType":"Property","messageId":"anyAssignment","endLine":61,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":70,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":70,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":71,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":71,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":72,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":72,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":74,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":74,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":75,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":75,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":75,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":75,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":76,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":76,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":76,"column":27,"nodeType":"MemberExpression","messageId":"errorCall","endLine":76,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .findIndex on a type that cannot be resolved.","line":76,"column":32,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":76,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":76,"column":55,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":76,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":76,"column":71,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":76,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":77,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":77,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":83,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":83,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":92,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":92,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":93,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":93,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":95,"column":46,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":95,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":96,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":96,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":97,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":97,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":97,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":97,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":98,"column":17,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":98,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .typeIndex on an `any` value.","line":98,"column":48,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":57},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .typeIndex on an `any` value.","line":98,"column":67,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":98,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":100,"column":23,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":100,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":100,"column":43,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":100,"endColumn":47},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":100,"column":69,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":100,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":101,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":101,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":103,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":103,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":105,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":105,"endColumn":47}],"suppressedMessages":[],"errorCount":53,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ShareBase64 } from './ShareBase64';\r\nimport { ShareConstants } from './ShareConstants';\r\nimport { ShareMath } from './ShareMath';\r\nclass SharePositionCodec {\r\n    static positionToByte(entry) {\r\n        const room = ShareMath.clamp(Number(entry?.roomIndex), 0, ShareConstants.MAX_ROOM_INDEX, 0) & 0x0f;\r\n        const y = ShareMath.clamp(Number(entry?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0) & 0x07;\r\n        const x = ShareMath.clamp(Number(entry?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0) & 0x07;\r\n        return ((room & 0x03) << 6) | (y << 3) | x;\r\n    }\r\n\r\n    static byteToPosition(byte) {\r\n        return {\r\n            x: byte & 0x07,\r\n            y: (byte >> 3) & 0x07,\r\n            roomIndex: ShareMath.clamp((byte >> 6) & 0x03, 0, ShareConstants.MAX_ROOM_INDEX, 0)\r\n        };\r\n    }\r\n\r\n    static encodePositions(entries) {\r\n        if (!entries.length) return '';\r\n        const maxRoomIndex = entries.reduce(\r\n            (max, entry) => Math.max(max, ShareMath.clamp(Number(entry?.roomIndex), 0, ShareConstants.MAX_ROOM_INDEX, 0)),\r\n            0\r\n        );\r\n        const useWide = maxRoomIndex > 3;\r\n        if (useWide) {\r\n            const bytes = new Uint8Array(entries.length * 2);\r\n            for (let i = 0; i < entries.length; i++) {\r\n                const room = ShareMath.clamp(Number(entries[i]?.roomIndex), 0, ShareConstants.MAX_ROOM_INDEX, 0) & 0x0f;\r\n                const y = ShareMath.clamp(Number(entries[i]?.y), 0, ShareConstants.MATRIX_SIZE - 1, 0) & 0x07;\r\n                const x = ShareMath.clamp(Number(entries[i]?.x), 0, ShareConstants.MATRIX_SIZE - 1, 0) & 0x07;\r\n                const offset = i * 2;\r\n                bytes[offset] = ((room & 0x03) << 6) | (y << 3) | x;\r\n                bytes[offset + 1] = (room >> 2) & 0x0f;\r\n            }\r\n            return ShareConstants.POSITION_WIDE_PREFIX + ShareBase64.toBase64Url(bytes);\r\n        }\r\n\r\n        const bytes = new Uint8Array(entries.length);\r\n        for (let i = 0; i < entries.length; i++) {\r\n            bytes[i] = SharePositionCodec.positionToByte(entries[i]);\r\n        }\r\n        return ShareBase64.toBase64Url(bytes);\r\n    }\r\n\r\n    static decodePositions(text) {\r\n        if (!text) return [];\r\n        if (text[0] === ShareConstants.POSITION_WIDE_PREFIX) {\r\n            const bytes = ShareBase64.fromBase64Url(text.slice(1));\r\n            const positions = [];\r\n            for (let i = 0; i < bytes.length; i += 2) {\r\n                const low = bytes[i] ?? 0;\r\n                const high = bytes[i + 1] ?? 0;\r\n                const x = low & 0x07;\r\n                const y = (low >> 3) & 0x07;\r\n                const roomLower = (low >> 6) & 0x03;\r\n                const roomUpper = high & 0x0f;\r\n                const roomIndex = ShareMath.clamp((roomUpper << 2) | roomLower, 0, ShareConstants.MAX_ROOM_INDEX, 0);\r\n                positions.push({ x, y, roomIndex });\r\n            }\r\n            return positions;\r\n        }\r\n        const bytes = ShareBase64.fromBase64Url(text);\r\n        return Array.from(bytes, (byte) => SharePositionCodec.byteToPosition(byte));\r\n    }\r\n\r\n    static encodeNpcTypeIndexes(sprites) {\r\n        if (!sprites.length) return '';\r\n        const defs = ShareConstants.NPC_DEFINITIONS;\r\n        const bytes = new Uint8Array(sprites.length);\r\n        let hasNonSequential = false;\r\n        for (let i = 0; i < sprites.length; i++) {\r\n            const sprite = sprites[i];\r\n            const index = defs.findIndex((def) => def.type === sprite.type);\r\n            bytes[i] = index >= 0 ? index : 255;\r\n            if (!hasNonSequential && bytes[i] !== i) {\r\n                hasNonSequential = true;\r\n            }\r\n        }\r\n        if (!hasNonSequential) return '';\r\n        return ShareBase64.toBase64Url(bytes);\r\n    }\r\n\r\n    static decodeNpcTypeIndexes(text) {\r\n        if (!text) return [];\r\n        return Array.from(ShareBase64.fromBase64Url(text), (byte) => byte);\r\n    }\r\n\r\n    static encodeEnemyTypeIndexes(enemies) {\r\n        if (!enemies.length) return '';\r\n        const defs = ShareConstants.ENEMY_DEFINITIONS;\r\n        if (!Array.isArray(defs) || !defs.length) return '';\r\n        const bytes = new Uint8Array(enemies.length);\r\n        for (let i = 0; i < enemies.length; i++) {\r\n            const enemy = enemies[i] || {};\r\n            let index = Number.isInteger(enemy.typeIndex) ? enemy.typeIndex : -1;\r\n            if (index < 0 || index >= defs.length) {\r\n                const type = typeof enemy.type === 'string' ? enemy.type : null;\r\n                index = type ? defs.findIndex((def) => def.type === type) : -1;\r\n            }\r\n            bytes[i] = index >= 0 ? index : 255;\r\n        }\r\n        return ShareBase64.toBase64Url(bytes);\r\n    }\r\n\r\n    static decodeEnemyTypeIndexes(text, expectedLength = 0) {\r\n        if (!text) {\r\n            return Array.from({ length: expectedLength }, () => 255);\r\n        }\r\n        const bytes = Array.from(ShareBase64.fromBase64Url(text), (byte) => byte);\r\n        if (expectedLength > 0 && bytes.length < expectedLength) {\r\n            while (bytes.length < expectedLength) {\r\n                bytes.push(255);\r\n            }\r\n        }\r\n        return bytes;\r\n    }\r\n}\r\n\r\nexport { SharePositionCodec };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareTextCodec.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | undefined`.","line":6,"column":45,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":6,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | number | boolean`.","line":8,"column":53,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":8,"endColumn":58},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `AllowSharedBufferSource | undefined`.","line":18,"column":45,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":18,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":21,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":21,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":22,"column":43,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":22,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":22,"column":49,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":22,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":29,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":29,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":43,"column":21,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":43,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":45,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":45,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":52,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":52,"endColumn":42}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ShareBase64 } from './ShareBase64';\r\nclass ShareTextCodec {\r\n    static encodeUtf8(value) {\r\n        if (typeof TextEncoder !== 'undefined') {\r\n            return new TextEncoder().encode(value);\r\n        }\r\n        const encoded = unescape(encodeURIComponent(value));\r\n        const bytes = new Uint8Array(encoded.length);\r\n        for (let i = 0; i < encoded.length; i++) {\r\n            bytes[i] = encoded.charCodeAt(i);\r\n        }\r\n        return bytes;\r\n    }\r\n\r\n    static decodeUtf8(bytes) {\r\n        if (typeof TextDecoder !== 'undefined') {\r\n            return new TextDecoder().decode(bytes);\r\n        }\r\n        let binary = '';\r\n        for (let i = 0; i < bytes.length; i++) {\r\n            binary += String.fromCharCode(bytes[i]);\r\n        }\r\n        return decodeURIComponent(escape(binary));\r\n    }\r\n\r\n    static encodeText(value) {\r\n        if (!value) return '';\r\n        return ShareBase64.toBase64Url(ShareTextCodec.encodeUtf8(value));\r\n    }\r\n\r\n    static decodeText(text, fallback = '') {\r\n        if (!text) return fallback;\r\n        try {\r\n            return ShareTextCodec.decodeUtf8(ShareBase64.fromBase64Url(text));\r\n        } catch (error) {\r\n            console.warn('Failed to decode text payload', error);\r\n            return fallback;\r\n        }\r\n    }\r\n\r\n    static encodeTextArray(values) {\r\n        if (!values.length) return '';\r\n        const json = JSON.stringify(values);\r\n        return ShareBase64.toBase64Url(ShareTextCodec.encodeUtf8(json));\r\n    }\r\n\r\n    static decodeTextArray(text) {\r\n        if (!text) return [];\r\n        try {\r\n            const json = ShareTextCodec.decodeUtf8(ShareBase64.fromBase64Url(text));\r\n            const list = JSON.parse(json);\r\n            if (!Array.isArray(list)) return [];\r\n            return list.map((entry) => (typeof entry === 'string' ? entry : ''));\r\n        } catch (error) {\r\n            console.warn('Failed to decode text array payload', error);\r\n            return [];\r\n        }\r\n    }\r\n}\r\n\r\nexport { ShareTextCodec };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareUrlHelper.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":21,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":21,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .hash on an `any` value.","line":21,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":21,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":22,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":22,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":23,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":23,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":23,"column":22,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":23,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .startsWith on an `any` value.","line":23,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":23,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":23,"column":45,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":23,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .substring on an `any` value.","line":23,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":23,"endColumn":59}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ShareDecoder } from './ShareDecoder';\r\nimport { ShareEncoder } from './ShareEncoder';\r\nclass ShareUrlHelper {\r\n    static getBaseUrl() {\r\n        if (globalThis.location) {\r\n            return `${globalThis.location.origin}${globalThis.location.pathname}`;\r\n        }\r\n        return '';\r\n    }\r\n\r\n    static buildShareUrl(gameData) {\r\n        const code = ShareEncoder.buildShareCode(gameData);\r\n        const base = ShareUrlHelper.getBaseUrl();\r\n        if (!code) return base;\r\n        return `${base}#${code}`;\r\n    }\r\n\r\n    static extractGameDataFromLocation(location) {\r\n        if (!location) return null;\r\n        const hash = location.hash || '';\r\n        if (!hash || hash.length <= 1) return null;\r\n        const code = hash.startsWith('#') ? hash.substring(1) : hash;\r\n        try {\r\n            return ShareDecoder.decodeShareCode(code);\r\n        } catch (error) {\r\n            console.warn('[TinyRPG] Unable to decode shared game data.', error);\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport { ShareUrlHelper };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\infra\\share\\ShareVariableCodec.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":11,"column":31,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":11,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":12,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":12,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .value on an `any` value.","line":12,"column":55,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":12,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":27,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":27,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":33,"column":20,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":33,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":42,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":42,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":61,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":61,"endColumn":117},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":65,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":65,"endColumn":98},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":66,"column":34,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":66,"endColumn":70},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":69,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":69,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":69,"column":39,"nodeType":"ConditionalExpression","messageId":"unsafeReturn","endLine":69,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":89,"column":45,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":89,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .length on an `any` value.","line":91,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":91,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i] on an `any` value.","line":92,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":92,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i + 1] on an `any` value.","line":93,"column":32,"nodeType":"BinaryExpression","messageId":"unsafeMemberExpression","endLine":93,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i + 1] on an `any` value.","line":93,"column":63,"nodeType":"BinaryExpression","messageId":"unsafeMemberExpression","endLine":93,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":103,"column":19,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":103,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [i >> 1] on an `any` value.","line":103,"column":32,"nodeType":"BinaryExpression","messageId":"unsafeMemberExpression","endLine":103,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any[]`.","line":106,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":106,"endColumn":23}],"suppressedMessages":[],"errorCount":19,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ShareBase64 } from './ShareBase64';\r\nimport { ShareConstants } from './ShareConstants';\r\nclass ShareVariableCodec {\r\n    static encodeVariables(variables) {\r\n        if (!Array.isArray(variables) || !variables.length) return '';\r\n\r\n        const ids = ShareConstants.VARIABLE_IDS;\r\n        const idToState = new Map();\r\n        variables.forEach((entry) => {\r\n            if (typeof entry?.id === 'string') {\r\n                idToState.set(entry.id, Boolean(entry.value));\r\n            }\r\n        });\r\n\r\n        const byteLength = Math.ceil(ids.length / 8);\r\n        const encodedFlags = new Uint8Array(byteLength);\r\n        ids.forEach((id, index) => {\r\n            if (!idToState.get(id)) return;\r\n            const byteIndex = index >> 3; // index / 8\r\n            const bitIndex = index & 7;   // index % 8\r\n            encodedFlags[byteIndex] |= (1 << bitIndex);\r\n        });\r\n\r\n        const hasAnyFlag = encodedFlags.some((value) => value !== 0);\r\n        if (!hasAnyFlag) return '';\r\n        return ShareBase64.toBase64Url(encodedFlags);\r\n    }\r\n\r\n    static decodeVariables(text) {\r\n        const ids = ShareConstants.VARIABLE_IDS;\r\n        const states = new Array(ids.length).fill(false);\r\n        if (!text) return states;\r\n\r\n        const encodedFlags = ShareBase64.fromBase64Url(text);\r\n        ids.forEach((_, index) => {\r\n            const byteIndex = index >> 3;\r\n            const bitIndex = index & 7;\r\n            const byte = encodedFlags[byteIndex] ?? 0;\r\n            states[index] = Boolean(byte & (1 << bitIndex));\r\n        });\r\n        return states;\r\n    }\r\n\r\n    static variableIdToNibble(variableId) {\r\n        if (typeof variableId !== 'string') return 0;\r\n        const index = ShareConstants.VARIABLE_IDS.indexOf(variableId);\r\n        return index >= 0 ? (index + 1) : 0;\r\n    }\r\n\r\n    static nibbleToVariableId(value) {\r\n        if (!Number.isFinite(value) || value <= 0) return null;\r\n        const index = value - 1;\r\n        return ShareConstants.VARIABLE_IDS[index] || null;\r\n    }\r\n\r\n    static encodeVariableNibbleArray(values) {\r\n        if (!Array.isArray(values) || !values.length) return '';\r\n        const hasData = values.some((entry) => Number.isFinite(entry) && entry > 0);\r\n        if (!hasData) return '';\r\n        return ShareBase64.toBase64Url(ShareVariableCodec.packNibbles(values.map((entry) => Number(entry) & 0x0f)));\r\n    }\r\n\r\n    static decodeVariableNibbleArray(text, expectedCount) {\r\n        const safeCount = Number.isFinite(expectedCount) && expectedCount > 0 ? expectedCount : 0;\r\n        if (!text || !safeCount) return new Array(safeCount).fill(0);\r\n        const bytes = ShareBase64.fromBase64Url(text);\r\n        const values = ShareVariableCodec.unpackNibbles(bytes, safeCount);\r\n        return values.map((value) => (Number.isFinite(value) ? value : 0));\r\n    }\r\n\r\n    static buildVariableEntries(states) {\r\n        const ids = ShareConstants.VARIABLE_IDS;\r\n        const names = ShareConstants.VARIABLE_NAMES;\r\n        const colors = ShareConstants.VARIABLE_COLORS;\r\n        const normalized = Array.isArray(states) && states.length === ids.length\r\n            ? states\r\n            : new Array(ids.length).fill(false);\r\n        return ids.map((id, index) => ({\r\n            id,\r\n            order: index + 1,\r\n            name: names[index] || id,\r\n            color: colors[index] || '#000000',\r\n            value: Boolean(normalized[index])\r\n        }));\r\n    }\r\n\r\n    static packNibbles(values) {\r\n        const byteLength = Math.ceil(values.length / 2);\r\n        const bytes = new Uint8Array(byteLength);\r\n        for (let i = 0; i < values.length; i += 2) {\r\n            const high = values[i] & 0x0f;\r\n            const low = values[i + 1] !== undefined ? (values[i + 1] & 0x0f) : 0;\r\n            const index = i >> 1;\r\n            bytes[index] = (high << 4) | low;\r\n        }\r\n        return bytes;\r\n    }\r\n\r\n    static unpackNibbles(bytes, expectedCount) {\r\n        const values = new Array(expectedCount);\r\n        for (let i = 0; i < expectedCount; i++) {\r\n            const byte = bytes[i >> 1] || 0;\r\n            values[i] = (i % 2 === 0) ? ((byte >> 4) & 0x0f) : (byte & 0x0f);\r\n        }\r\n        return values;\r\n    }\r\n\r\n    static getFirstVariableId() {\r\n        return ShareConstants.VARIABLE_IDS?.[0] ?? null;\r\n    }\r\n}\r\n\r\nexport { ShareVariableCodec };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\services\\GameEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":255,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":257,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":258,"column":39,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":258,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":266,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":266,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":267,"column":22,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":267,"endColumn":39}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { DialogManager } from './engine/DialogManager';\r\nimport { EnemyManager } from './engine/EnemyManager';\r\nimport { InteractionManager } from './engine/InteractionManager';\r\nimport { MovementManager } from './engine/MovementManager';\r\nimport { GameState } from '../domain/GameState';\r\nimport { InputManager } from '../adapters/InputManager';\r\nimport { NPCManager } from './NPCManager';\r\nimport { Renderer } from '../adapters/Renderer';\r\nimport { TextResources } from '../adapters/TextResources';\r\nimport { TileManager } from './TileManager';\r\n\r\ntype IntroData = { title: string; author: string };\r\n\r\ntype GameData = {\r\n  title?: string;\r\n  author?: string;\r\n  rooms?: unknown[];\r\n};\r\n\r\ntype LevelUpOverlay = {\r\n  active?: boolean;\r\n  cursor?: number;\r\n  choices?: unknown[];\r\n};\r\n\r\ntype LevelUpLayout = {\r\n  rects?: { x: number; y: number; width: number; height: number }[];\r\n};\r\n\r\ntype GameStateApi = {\r\n  getGame: () => GameData;\r\n  getPlayer?: () => { roomIndex?: number };\r\n  resetGame: () => void;\r\n  exportGameData: () => unknown;\r\n  importGameData: (data: unknown) => void;\r\n  getTestSettings?: () => { startLevel: number; skills: unknown[]; godMode: boolean };\r\n  setTestSettings?: (settings: Record<string, unknown>) => void;\r\n  getMaxPlayerLevel?: () => number;\r\n  getState: () => unknown;\r\n  getVariableDefinitions: () => unknown;\r\n  getVariables: () => unknown;\r\n  setVariableValue: (variableId: string | number, value: unknown, isDefault?: boolean) => [boolean, unknown?];\r\n  isVariableOn: (variableId: string | number) => boolean;\r\n  getObjects: () => unknown;\r\n  getObjectsForRoom: (roomIndex: number) => unknown;\r\n  setObjectPosition: (type: string, roomIndex: number, x: number, y: number) => unknown;\r\n  setObjectVariable?: (type: string, roomIndex: number, variableId: string | number) => unknown;\r\n  setPlayerEndText?: (roomIndex: number, text: string) => string;\r\n  getPlayerEndText?: (roomIndex: number) => string;\r\n  removeObject: (type: string, roomIndex: number) => void;\r\n  getKeys: () => number;\r\n  setEnemyVariable?: (enemyId: string | number, variableId: string | number | null) => boolean;\r\n  isGameOver: () => boolean;\r\n  canResetAfterGameOver?: boolean;\r\n  hasNecromancerReviveReady?: () => boolean;\r\n  reviveFromNecromancer?: () => boolean;\r\n  prepareNecromancerRevive?: () => void;\r\n  pauseGame?: (reason: string) => void;\r\n  resumeGame?: (reason: string) => void;\r\n  setGameOver?: (isOver: boolean, reason?: string) => void;\r\n  isPickupOverlayActive?: () => boolean;\r\n  hidePickupOverlay?: () => void;\r\n  isLevelUpCelebrationActive?: () => boolean;\r\n  hideLevelUpCelebration?: () => void;\r\n  isLevelUpOverlayActive?: () => boolean;\r\n  moveLevelUpCursor?: (delta: number) => void;\r\n  getLevelUpOverlay?: () => LevelUpOverlay | null;\r\n  selectLevelUpSkill?: (index?: number | null) => { nameKey?: string; id?: string } | null;\r\n  getPendingLevelUpChoices?: () => number;\r\n};\r\n\r\ntype TileManagerApi = {\r\n  ensureDefaultTiles: () => void;\r\n  getTiles: () => unknown;\r\n  getTileMap: (roomIndex: number) => unknown;\r\n  getPresetTileNames: () => string[];\r\n  updateTile: (tileId: string | number, data: unknown) => void;\r\n  setMapTile: (x: number, y: number, tileId: string | number, roomIndex: number) => void;\r\n};\r\n\r\ntype NpcManagerApi = {\r\n  ensureDefaultNPCs?: () => void;\r\n  getNPCs: () => unknown;\r\n  addNPC: (npc: unknown) => unknown;\r\n};\r\n\r\ntype RendererApi = {\r\n  draw: () => void;\r\n  setIntroData: (data: IntroData) => void;\r\n  overlayRenderer?: {\r\n    getLevelUpCardLayout?: (options: {\r\n      width: number;\r\n      height: number;\r\n      choicesLength: number;\r\n      hasPendingText: boolean;\r\n    }) => LevelUpLayout | null;\r\n  };\r\n};\r\n\r\ntype DialogManagerApi = {\r\n  showDialog: (text: string, options?: Record<string, unknown>) => void;\r\n  reset: () => void;\r\n  completeDialog: () => void;\r\n  closeDialog: () => void;\r\n};\r\n\r\ntype InteractionManagerApi = {\r\n  handlePlayerInteractions: () => void;\r\n};\r\n\r\ntype EnemyManagerApi = {\r\n  getEnemyDefinitions: () => unknown;\r\n  getActiveEnemies: () => unknown;\r\n  addEnemy: (enemy: unknown) => unknown;\r\n  removeEnemy: (enemyId: string | number) => void;\r\n  generateEnemyId: () => string;\r\n  start: () => void;\r\n  stop: () => void;\r\n  tick: () => void;\r\n  handleEnemyCollision: (enemyIndex: number) => void;\r\n  checkCollisionAt: (x: number, y: number) => void;\r\n};\r\n\r\ntype MovementManagerApi = {\r\n  tryMove: (dx: number, dy: number) => void;\r\n};\r\n\r\ntype InputManagerApi = Record<string, unknown>;\r\n\r\nexport class GameEngine {\r\n  canvas: HTMLCanvasElement;\r\n  gameState: GameStateApi;\r\n  tileManager: TileManagerApi;\r\n  npcManager: NpcManagerApi;\r\n  renderer: RendererApi;\r\n  dialogManager: DialogManagerApi;\r\n  interactionManager: InteractionManagerApi;\r\n  enemyManager: EnemyManagerApi;\r\n  movementManager: MovementManagerApi;\r\n  inputManager: InputManagerApi;\r\n  awaitingRestart: boolean;\r\n  introVisible: boolean;\r\n  introStartTime: number;\r\n  introData: IntroData;\r\n  canDismissIntroScreen: boolean;\r\n  timeToResetAfterIntro: number;\r\n\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    this.canvas = canvas;\r\n\r\n    // Boot core subsystems\r\n    this.gameState = new GameState() as GameStateApi;\r\n    this.tileManager = new TileManager(this.gameState) as TileManagerApi;\r\n    this.npcManager = new NPCManager(this.gameState) as NpcManagerApi;\r\n    this.npcManager.ensureDefaultNPCs?.();\r\n    this.renderer = new Renderer(canvas, this.gameState, this.tileManager, this.npcManager, this) as RendererApi;\r\n    this.dialogManager = new DialogManager(this.gameState, this.renderer) as DialogManagerApi;\r\n    this.interactionManager = new InteractionManager(this.gameState, this.dialogManager, {\r\n      onPlayerVictory: () => this.handleGameCompletion(),\r\n    }) as InteractionManagerApi;\r\n    this.enemyManager = new EnemyManager(this.gameState, this.renderer, this.tileManager, {\r\n      onPlayerDefeated: () => this.handlePlayerDefeat(),\r\n      dialogManager: this.dialogManager,\r\n    }) as EnemyManagerApi;\r\n    this.movementManager = new MovementManager({\r\n      gameState: this.gameState,\r\n      tileManager: this.tileManager,\r\n      renderer: this.renderer,\r\n      dialogManager: this.dialogManager,\r\n      interactionManager: this.interactionManager,\r\n      enemyManager: this.enemyManager,\r\n    }) as MovementManagerApi;\r\n    this.inputManager = new InputManager(this) as InputManagerApi;\r\n    this.awaitingRestart = false;\r\n    this.introVisible = false;\r\n    this.introStartTime = 0;\r\n    this.introData = { title: 'Tiny RPG Studio', author: '' };\r\n    this.canDismissIntroScreen = false;\r\n    this.timeToResetAfterIntro = 2000;\r\n    this.setupIntroScreen();\r\n\r\n    // Ensure there is at least a ground layer\r\n    this.tileManager.ensureDefaultTiles();\r\n\r\n    // Draw the first frame\r\n    this.syncDocumentTitle();\r\n    this.renderer.draw();\r\n    this.showIntroScreen();\r\n    this.startEnemyLoop();\r\n  }\r\n\r\n  // Movement and interaction handling\r\n  tryMove(dx: number, dy: number): void {\r\n    this.movementManager.tryMove(dx, dy);\r\n  }\r\n\r\n  checkInteractions(): void {\r\n    this.interactionManager.handlePlayerInteractions();\r\n  }\r\n\r\n  showDialog(text: string, options: Record<string, unknown> = {}): void {\r\n    this.dialogManager.showDialog(text, options);\r\n  }\r\n\r\n  completeDialog(): void {\r\n    this.dialogManager.completeDialog();\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogManager.closeDialog();\r\n  }\r\n\r\n  isPickupOverlayActive(): boolean | undefined {\r\n    return this.gameState.isPickupOverlayActive?.();\r\n  }\r\n\r\n  dismissPickupOverlay(): void {\r\n    if (!this.gameState.isPickupOverlayActive?.()) return;\r\n    this.gameState.hidePickupOverlay?.();\r\n    this.renderer.draw();\r\n  }\r\n\r\n  isLevelUpCelebrationActive(): boolean {\r\n    return this.gameState.isLevelUpCelebrationActive?.();\r\n  }\r\n\r\n  dismissLevelUpCelebration(): void {\r\n    if (!this.gameState.isLevelUpCelebrationActive?.()) return;\r\n    this.gameState.hideLevelUpCelebration?.();\r\n    this.renderer.draw();\r\n  }\r\n\r\n  isLevelUpOverlayActive(): boolean {\r\n    return this.gameState.isLevelUpOverlayActive?.();\r\n  }\r\n\r\n  moveLevelUpCursor(delta = 0): void {\r\n    if (!this.isLevelUpOverlayActive()) return;\r\n    this.gameState.moveLevelUpCursor?.(delta);\r\n    this.renderer.draw();\r\n  }\r\n\r\n  confirmLevelUpSelection(): void {\r\n    if (!this.isLevelUpOverlayActive()) return;\r\n    const overlay = this.gameState.getLevelUpOverlay?.();\r\n    const selection = Number.isFinite(overlay?.cursor) ? overlay.cursor : 0;\r\n    this.chooseLevelUpSkill(selection);\r\n  }\r\n\r\n  chooseLevelUpSkill(index: number | null = null): void {\r\n    if (!this.isLevelUpOverlayActive()) return;\r\n    const choice = this.gameState.selectLevelUpSkill?.(index);\r\n    if (choice) {\r\n      const name = this.getSkillDisplayName(choice);\r\n      const message =\r\n        TextResources.format('skills.pickupMessage', { name }, '') ||\r\n        `Voc aprendeu ${name}`;\r\n      this.dialogManager.showDialog?.(message);\r\n    }\r\n    this.renderer.draw();\r\n  }\r\n\r\n  getSkillDisplayName(choice: { nameKey?: string; id?: string } | null = null): string {\r\n    if (!choice) return 'skill';\r\n    if (choice.nameKey) {\r\n      const localized = TextResources.get(choice.nameKey, choice.id || 'skill');\r\n      if (localized) return localized;\r\n    }\r\n    if (choice.id) return choice.id;\r\n    return 'skill';\r\n  }\r\n\r\n  pickLevelUpChoiceFromPointer(clientX: number, clientY: number): number | null {\r\n    const overlay = this.gameState.getLevelUpOverlay?.();\r\n    if (!overlay?.active) return null;\r\n    const choices = Array.isArray(overlay.choices) ? overlay.choices : [];\r\n    if (!choices.length) return null;\r\n    const rect = this.canvas?.getBoundingClientRect?.();\r\n    if (!rect || !Number.isFinite(clientX) || !Number.isFinite(clientY)) {\r\n      return Number.isFinite(overlay.cursor) ? overlay.cursor : 0;\r\n    }\r\n    const scaleX = this.canvas.width / (rect.width || 1);\r\n    const scaleY = this.canvas.height / (rect.height || 1);\r\n    const canvasX = (clientX - rect.left) * scaleX;\r\n    const canvasY = (clientY - rect.top) * scaleY;\r\n    const pending = Math.max(0, this.gameState.getPendingLevelUpChoices?.() || 0);\r\n    const layout = this.renderer?.overlayRenderer?.getLevelUpCardLayout?.({\r\n      width: this.canvas.width,\r\n      height: this.canvas.height,\r\n      choicesLength: choices.length,\r\n      hasPendingText: pending > 0,\r\n    });\r\n    const rects = Array.isArray(layout?.rects) ? layout.rects : [];\r\n    const hitIndex = rects.findIndex(\r\n      (r: { x: number; y: number; width: number; height: number }) =>\r\n        canvasX >= r.x &&\r\n        canvasX <= r.x + r.width &&\r\n        canvasY >= r.y &&\r\n        canvasY <= r.y + r.height,\r\n    );\r\n    if (hitIndex >= 0) {\r\n      return hitIndex;\r\n    }\r\n    if (rects.length) {\r\n      let bestIndex = 0;\r\n      let bestDist = Number.POSITIVE_INFINITY;\r\n      rects.forEach((r: { x: number; y: number; width: number; height: number }, idx: number) => {\r\n        const cx = r.x + r.width / 2;\r\n        const cy = r.y + r.height / 2;\r\n        const dx = canvasX - cx;\r\n        const dy = canvasY - cy;\r\n        const dist = dx * dx + dy * dy;\r\n        if (dist < bestDist) {\r\n          bestDist = dist;\r\n          bestIndex = idx;\r\n        }\r\n      });\r\n      return bestIndex;\r\n    }\r\n    return Number.isFinite(overlay.cursor) ? overlay.cursor : 0;\r\n  }\r\n\r\n  resetGame(): void {\r\n    this.awaitingRestart = false;\r\n    this.gameState.setGameOver?.(false);\r\n    this.gameState.resumeGame?.('game-over');\r\n    this.gameState.resetGame();\r\n    this.startEnemyLoop();\r\n    this.dialogManager.reset();\r\n    this.renderer.draw();\r\n    this.showIntroScreen();\r\n  }\r\n\r\n  // Data helpers\r\n  exportGameData(): unknown {\r\n    return this.gameState.exportGameData();\r\n  }\r\n\r\n  importGameData(data: unknown): void {\r\n    this.gameState.importGameData(data);\r\n    this.npcManager.ensureDefaultNPCs?.();\r\n    this.tileManager.ensureDefaultTiles();\r\n    this.syncDocumentTitle();\r\n    this.startEnemyLoop();\r\n    this.dialogManager.reset();\r\n    this.renderer.draw();\r\n    this.showIntroScreen();\r\n  }\r\n\r\n  getTestSettings(): { startLevel: number; skills: unknown[]; godMode: boolean } {\r\n    return this.gameState.getTestSettings?.() || { startLevel: 1, skills: [], godMode: false };\r\n  }\r\n\r\n  updateTestSettings(settings: Record<string, unknown> = {}): void {\r\n    this.gameState.setTestSettings?.(settings);\r\n    this.resetGame();\r\n  }\r\n\r\n  getMaxPlayerLevel(): number {\r\n    return this.gameState.getMaxPlayerLevel?.() || 1;\r\n  }\r\n\r\n  // Compatibility accessors\r\n  getState(): unknown {\r\n    return this.gameState.getState();\r\n  }\r\n\r\n  getGame(): GameData {\r\n    return this.gameState.getGame();\r\n  }\r\n\r\n  draw(): void {\r\n    this.renderer.draw();\r\n  }\r\n\r\n  // Utility helpers\r\n  clamp(v: number, a: number, b: number): number {\r\n    return Math.max(a, Math.min(b, v));\r\n  }\r\n\r\n  syncDocumentTitle(): void {\r\n    const game = this.gameState.getGame();\r\n    document.title = game.title || 'Tiny RPG Studio';\r\n  }\r\n\r\n  setupIntroScreen(): void {\r\n    if (typeof document === 'undefined') return;\r\n    this.refreshIntroScreen();\r\n  }\r\n\r\n  showIntroScreen(): void {\r\n    this.canDismissIntroScreen = true;\r\n    this.refreshIntroScreen();\r\n    this.introVisible = true;\r\n    this.introStartTime =\r\n      typeof performance !== 'undefined' && performance.now ? performance.now() : Date.now();\r\n    this.gameState.pauseGame?.('intro-screen');\r\n    this.renderer.draw();\r\n  }\r\n\r\n  dismissIntroScreen(): boolean {\r\n    if (!this.introVisible || !this.canDismissIntroScreen) return false;\r\n    this.introVisible = false;\r\n    this.gameState.resumeGame?.('intro-screen');\r\n    this.renderer.draw();\r\n    return true;\r\n  }\r\n\r\n  isIntroVisible(): boolean {\r\n    return Boolean(this.introVisible);\r\n  }\r\n\r\n  refreshIntroScreen(): void {\r\n    const game = this.getGame();\r\n    this.introData = {\r\n      title: game.title || 'Tiny RPG Studio',\r\n      author: (game.author || '').trim(),\r\n    };\r\n    this.renderer.setIntroData(this.introData);\r\n  }\r\n\r\n  getIntroData(): IntroData {\r\n    return this.introData || { title: 'Tiny RPG Studio', author: '' };\r\n  }\r\n\r\n  // Editor-facing helpers\r\n  getTiles(): unknown {\r\n    return this.tileManager.getTiles();\r\n  }\r\n\r\n  getTileMap(roomIndex: number | null = null): unknown {\r\n    const playerRoom = this.gameState.getPlayer()?.roomIndex ?? 0;\r\n    const targetRoom = roomIndex === null || roomIndex === undefined ? playerRoom : roomIndex;\r\n    return this.tileManager.getTileMap(targetRoom);\r\n  }\r\n\r\n  getTilePresetNames(): string[] {\r\n    return this.tileManager.getPresetTileNames();\r\n  }\r\n\r\n  getVariableDefinitions(): unknown {\r\n    return this.gameState.getVariableDefinitions();\r\n  }\r\n\r\n  getRuntimeVariables(): unknown {\r\n    return this.gameState.getVariables();\r\n  }\r\n\r\n  setVariableDefault(variableId: string | number, value: unknown): boolean {\r\n    const [changed] = this.gameState.setVariableValue(variableId, value, true);\r\n    if (changed) {\r\n      this.renderer.draw();\r\n    }\r\n    return changed;\r\n  }\r\n\r\n  isVariableOn(variableId: string | number): boolean {\r\n    return this.gameState.isVariableOn(variableId);\r\n  }\r\n\r\n  getObjects(): unknown {\r\n    return this.gameState.getObjects();\r\n  }\r\n\r\n  getObjectsForRoom(roomIndex: number | null = null): unknown {\r\n    const playerRoom = this.gameState.getPlayer()?.roomIndex ?? 0;\r\n    const targetRoom = roomIndex === null || roomIndex === undefined ? playerRoom : roomIndex;\r\n    return this.gameState.getObjectsForRoom(targetRoom);\r\n  }\r\n\r\n  setObjectPosition(type: string, roomIndex: number, x: number, y: number): unknown {\r\n    const entry = this.gameState.setObjectPosition(type, roomIndex, x, y);\r\n    this.renderer.draw();\r\n    return entry;\r\n  }\r\n\r\n  setObjectVariable(type: string, roomIndex: number, variableId: string | number): unknown {\r\n    const updated = this.gameState.setObjectVariable?.(type, roomIndex, variableId);\r\n    this.renderer.draw();\r\n    return updated;\r\n  }\r\n\r\n  setPlayerEndText(roomIndex: number, text: string): string {\r\n    const normalized = this.gameState.setPlayerEndText?.(roomIndex, text) ?? '';\r\n    this.renderer.draw();\r\n    return normalized;\r\n  }\r\n\r\n  getPlayerEndText(roomIndex: number | null = null): string {\r\n    return this.gameState.getPlayerEndText?.(roomIndex) ?? '';\r\n  }\r\n\r\n  removeObject(type: string, roomIndex: number): void {\r\n    this.gameState.removeObject(type, roomIndex);\r\n    this.renderer.draw();\r\n  }\r\n\r\n  getKeyCount(): number {\r\n    return this.gameState.getKeys();\r\n  }\r\n\r\n  getSprites(): unknown {\r\n    this.npcManager.ensureDefaultNPCs?.();\r\n    return this.npcManager.getNPCs();\r\n  }\r\n\r\n  updateTile(tileId: string | number, data: unknown): void {\r\n    this.tileManager.updateTile(tileId, data);\r\n  }\r\n\r\n  setMapTile(x: number, y: number, tileId: string | number, roomIndex: number | null = null): void {\r\n    const playerRoom = this.gameState.getPlayer()?.roomIndex ?? 0;\r\n    const targetRoom = roomIndex === null || roomIndex === undefined ? playerRoom : roomIndex;\r\n    this.tileManager.setMapTile(x, y, tileId, targetRoom);\r\n  }\r\n\r\n  addSprite(npc: unknown): unknown {\r\n    return this.npcManager.addNPC(npc);\r\n  }\r\n\r\n  // Enemy helpers\r\n  getEnemyDefinitions(): unknown {\r\n    return this.enemyManager.getEnemyDefinitions();\r\n  }\r\n\r\n  getActiveEnemies(): unknown {\r\n    return this.enemyManager.getActiveEnemies();\r\n  }\r\n\r\n  addEnemy(enemy: unknown): unknown {\r\n    return this.enemyManager.addEnemy(enemy);\r\n  }\r\n\r\n  removeEnemy(enemyId: string | number): void {\r\n    this.enemyManager.removeEnemy(enemyId);\r\n  }\r\n\r\n  generateEnemyId(): string {\r\n    return this.enemyManager.generateEnemyId();\r\n  }\r\n\r\n  setEnemyVariable(enemyId: string | number, variableId: string | number | null = null): boolean {\r\n    if (typeof this.gameState.setEnemyVariable !== 'function') {\r\n      return false;\r\n    }\r\n    const changed = this.gameState.setEnemyVariable(enemyId, variableId);\r\n    if (changed) {\r\n      this.renderer.draw();\r\n    }\r\n    return changed;\r\n  }\r\n\r\n  startEnemyLoop(): void {\r\n    this.enemyManager.start();\r\n  }\r\n\r\n  tickEnemies(): void {\r\n    this.enemyManager.tick();\r\n  }\r\n\r\n  handleEnemyCollision(enemyIndex: number): void {\r\n    this.enemyManager.handleEnemyCollision(enemyIndex);\r\n  }\r\n\r\n  checkEnemyCollisionAt(x: number, y: number): void {\r\n    this.enemyManager.checkCollisionAt(x, y);\r\n  }\r\n\r\n  handlePlayerDefeat(): void {\r\n    this.gameState.prepareNecromancerRevive?.();\r\n    this.enemyManager.stop();\r\n    this.gameState.pauseGame?.('game-over');\r\n    this.gameState.setGameOver?.(true, 'defeat');\r\n    this.awaitingRestart = true;\r\n    this.renderer.draw();\r\n  }\r\n\r\n  handleGameCompletion(): void {\r\n    if (this.isGameOver()) return;\r\n    this.enemyManager.stop();\r\n    this.gameState.pauseGame?.('game-over');\r\n    this.gameState.setGameOver?.(true, 'victory');\r\n    this.awaitingRestart = true;\r\n    this.renderer.draw();\r\n  }\r\n\r\n  isGameOver(): boolean {\r\n    return this.gameState.isGameOver();\r\n  }\r\n\r\n  handleGameOverInteraction(): void {\r\n    if (!this.isGameOver() || !this.gameState.canResetAfterGameOver) return;\r\n    if (this.gameState.hasNecromancerReviveReady?.()) {\r\n      const revived = this.gameState.reviveFromNecromancer?.();\r\n      if (revived) {\r\n        this.awaitingRestart = false;\r\n        this.enemyManager.start();\r\n        this.renderer.draw();\r\n        return;\r\n      }\r\n    }\r\n    this.resetGame();\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\services\\NPCManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string | null | undefined`.","line":9,"column":68,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":9,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":18,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":18,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":19,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":19,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":23,"column":15,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":23,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":24,"column":13,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":24,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":25,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":25,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .nameKey on an `any` value.","line":25,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":25,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":25,"column":46,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":25,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":25,"column":50,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":25,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":27,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":27,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":27,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":27,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultTextKey on an `any` value.","line":32,"column":13,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":32,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":33,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":33,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultTextKey on an `any` value.","line":33,"column":37,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":33,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `string`.","line":33,"column":53,"nodeType":"LogicalExpression","messageId":"unsafeArgument","endLine":33,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultText on an `any` value.","line":33,"column":57,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":33,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":35,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":35,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultText on an `any` value.","line":35,"column":16,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":35,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":44,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":44,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":45,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":45,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultTextKey on an `any` value.","line":45,"column":39,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":45,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultTextKey on an `any` value.","line":45,"column":60,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":45,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":48,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":50,"endColumn":13},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":49,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":49,"column":47,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":49,"column":65,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":49,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":52,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":54,"endColumn":15},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":52,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":52,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":52,"column":62,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":52,"endColumn":78},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":52,"column":66,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":52,"endColumn":73},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":53,"column":11,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":53,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .textKey on an `any` value.","line":53,"column":15,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":53,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":58,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":58,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":60,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":60,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":61,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":61,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":61,"column":51,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":61,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":68,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":68,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":69,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":69,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":69,"column":52,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":69,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":76,"column":9,"nodeType":"Property","messageId":"anyAssignment","endLine":76,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":81,"column":34,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":81,"endColumn":50},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":82,"column":21,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":82,"endColumn":24},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":82,"column":35,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":82,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type `any` assigned to a parameter of type `number`.","line":82,"column":40,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":82,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":94,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":94,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":100,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":100,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":113,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":113,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":125,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":125,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":125,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":125,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":129,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":129,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":129,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":129,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":129,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":129,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":129,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":129,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":133,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":133,"endColumn":81},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":133,"column":16,"nodeType":"MemberExpression","messageId":"errorCall","endLine":133,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":133,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":133,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":133,"column":58,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":133,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":141,"column":42,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":141,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`.","line":142,"column":35,"nodeType":"MemberExpression","messageId":"unsafeArgument","endLine":142,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":142,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":142,"endColumn":43},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":143,"column":30,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":143,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":145,"column":26,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":145,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":153,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":153,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":154,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":154,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":154,"column":31,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":154,"endColumn":35},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":158,"column":42,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":158,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":160,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":160,"endColumn":76},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":160,"column":40,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":160,"endColumn":42},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of an `any` typed value.","line":160,"column":58,"nodeType":"MemberExpression","messageId":"unsafeCall","endLine":160,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on an `any` value.","line":160,"column":62,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":160,"endColumn":64},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":165,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":165,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":166,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":166,"endColumn":65},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":167,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":167,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .name on an `any` value.","line":167,"column":26,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":167,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe object destructuring of a property with an error typed value.","line":168,"column":17,"nodeType":"Identifier","messageId":"unsafeObjectPattern","endLine":168,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe object destructuring of a property with an `any` value.","line":168,"column":23,"nodeType":"Identifier","messageId":"unsafeObjectPattern","endLine":168,"endColumn":30},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":169,"column":59,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":169,"endColumn":63},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":170,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":170,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":170,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":170,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":171,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":171,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":171,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":171,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":172,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":172,"endColumn":48},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":172,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":172,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":173,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":173,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialX on an `any` value.","line":173,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":173,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialX on an `any` value.","line":173,"column":59,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":173,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":174,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":174,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialY on an `any` value.","line":174,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":174,"endColumn":38},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialY on an `any` value.","line":174,"column":59,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":174,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":175,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":175,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialRoomIndex on an `any` value.","line":175,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":175,"endColumn":54},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialRoomIndex on an `any` value.","line":175,"column":75,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":175,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placed on an `any` value.","line":176,"column":28,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":176,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placed on an `any` value.","line":176,"column":63,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":176,"endColumn":69},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":177,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":177,"endColumn":92},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionVariableId on an `any` value.","line":177,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":177,"endColumn":55},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalVariableId on an `any` value.","line":177,"column":63,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":177,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":178,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":178,"endColumn":80},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionText on an `any` value.","line":178,"column":38,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":178,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalText on an `any` value.","line":178,"column":59,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":178,"endColumn":74},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":179,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":179,"endColumn":111},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .rewardVariableId on an `any` value.","line":179,"column":33,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":179,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .activateVariableId on an `any` value.","line":179,"column":57,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":179,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .onCompleteVariableId on an `any` value.","line":179,"column":83,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":179,"endColumn":103},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":180,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":180,"endColumn":114},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .conditionalRewardVariableId on an `any` value.","line":180,"column":44,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":180,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .alternativeRewardVariableId on an `any` value.","line":180,"column":79,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":180,"endColumn":106},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":181,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":181,"endColumn":97},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":181,"column":37,"nodeType":"MemberExpression","messageId":"errorCall","endLine":181,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":181,"column":52,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":181,"endColumn":71},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":183,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":183,"endColumn":91},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":183,"column":34,"nodeType":"MemberExpression","messageId":"errorCall","endLine":183,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":183,"column":49,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":183,"endColumn":68},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":184,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":184,"endColumn":113},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":184,"column":45,"nodeType":"MemberExpression","messageId":"errorCall","endLine":184,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .normalizeVariableId on a type that cannot be resolved.","line":184,"column":60,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":184,"endColumn":79},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":187,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":187,"endColumn":15},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":188,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":188,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":188,"column":36,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":188,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":189,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":189,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":190,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":190,"endColumn":17},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":191,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":191,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":192,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":192,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":193,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":193,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":194,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":194,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":195,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":195,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":196,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":196,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":197,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":197,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":199,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":199,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":201,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":201,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":202,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":202,"endColumn":40},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":207,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":207,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .defaultTextKey on an `any` value.","line":207,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":207,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":209,"column":41,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":209,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":210,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":210,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":210,"column":23,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":210,"endColumn":27},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":211,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":211,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":212,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":212,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":213,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":213,"endColumn":20},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":226,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":226,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialX on a type that cannot be resolved.","line":228,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":228,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":229,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":229,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":229,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":229,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialX on a type that cannot be resolved.","line":229,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":229,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialY on a type that cannot be resolved.","line":231,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":231,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":232,"column":17,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":232,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":232,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":232,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialY on a type that cannot be resolved.","line":232,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":232,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialRoomIndex on a type that cannot be resolved.","line":234,"column":21,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":37},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":234,"column":53,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":234,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":234,"column":57,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":66},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialRoomIndex on a type that cannot be resolved.","line":234,"column":73,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":234,"endColumn":89},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":239,"column":27,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":239,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on an `any` value.","line":239,"column":56,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":239,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":244,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":244,"endColumn":53},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":246,"column":79,"nodeType":"Property","messageId":"anyAssignment","endLine":246,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":246,"column":92,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":246,"endColumn":94},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":247,"column":13,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":247,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":247,"column":29,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":247,"endColumn":31},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":253,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":253,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":254,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":254,"endColumn":59},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":254,"column":25,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":254,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .text on an `any` value.","line":255,"column":28,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":255,"endColumn":32},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":256,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":256,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on an `any` value.","line":256,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":256,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":257,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":257,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on an `any` value.","line":257,"column":22,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":257,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":258,"column":13,"nodeType":"Property","messageId":"anyAssignment","endLine":258,"endColumn":44},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on an `any` value.","line":258,"column":30,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":258,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placed on an `any` value.","line":259,"column":35,"nodeType":"Identifier","messageId":"unsafeMemberExpression","endLine":259,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-call","severity":2,"message":"Unsafe call of a type that could not be resolved.","line":262,"column":9,"nodeType":"MemberExpression","messageId":"errorCall","endLine":262,"endColumn":41},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":262,"column":24,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":262,"endColumn":28},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type `any`.","line":263,"column":9,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":263,"endColumn":23},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":267,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":267,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":269,"column":62,"nodeType":"Property","messageId":"anyAssignment","endLine":269,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .id on a type that cannot be resolved.","line":269,"column":70,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":269,"endColumn":72},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":269,"column":74,"nodeType":"Property","messageId":"anyAssignment","endLine":269,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .type on a type that cannot be resolved.","line":269,"column":84,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":269,"endColumn":88},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":274,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":274,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placed on a type that cannot be resolved.","line":276,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":276,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":277,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":277,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":278,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":278,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":279,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":279,"endColumn":22},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":284,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":284,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":287,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":287,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":287,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":287,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":287,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":287,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":288,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":288,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":288,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":288,"endColumn":14},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":288,"column":44,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":288,"endColumn":45},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":289,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":289,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialX on a type that cannot be resolved.","line":289,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":289,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .x on a type that cannot be resolved.","line":289,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":289,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":290,"column":9,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":290,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialY on a type that cannot be resolved.","line":290,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":290,"endColumn":21},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .y on a type that cannot be resolved.","line":290,"column":28,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":290,"endColumn":29},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .game on a type that cannot be resolved.","line":292,"column":63,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":292,"endColumn":67},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":293,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":293,"endColumn":85},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":293,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":293,"endColumn":26},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":293,"column":75,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":293,"endColumn":84},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":294,"column":13,"nodeType":"AssignmentExpression","messageId":"anyAssignment","endLine":294,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .initialRoomIndex on a type that cannot be resolved.","line":294,"column":17,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":294,"endColumn":33},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .roomIndex on a type that cannot be resolved.","line":294,"column":40,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":294,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access .placed on a type that cannot be resolved.","line":296,"column":13,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":296,"endColumn":19},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an `any` value.","line":305,"column":33,"nodeType":"Property","messageId":"anyAssignment","endLine":305,"endColumn":37}],"suppressedMessages":[],"errorCount":205,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { NPCDefinitions } from '../domain/definitions/NPCDefinitions';\r\nimport { TextResources } from '../adapters/TextResources';\r\n\r\n/**\r\n * NPCManager creates and mutates the fixed NPC roster.\r\n */\r\nconst NPC_MANAGER_DEFINITIONS = NPCDefinitions.definitions || [];\r\nconst getNpcDefinition = (type) => NPCDefinitions.getNpcDefinition(type);\r\nconst NPC_ID_PREFIX = 'npc-';\r\nconst TYPE_TO_INDEX = new Map();\r\nfor (let i = 0; i < NPC_MANAGER_DEFINITIONS.length; i++) {\r\n    TYPE_TO_INDEX.set(NPC_MANAGER_DEFINITIONS[i].type, i + 1);\r\n}\r\nlet nextNpcId = NPC_MANAGER_DEFINITIONS.length + 1;\r\n\r\nconst getNpcLocaleText = (key, fallback = '') => {\r\n    const value = TextResources.get(key, fallback);\r\n    return value || fallback || key || '';\r\n};\r\n\r\nconst resolveDefinitionName = (def) => {\r\n    if (!def) return getNpcLocaleText('npc.defaultName', 'NPC');\r\n    if (def.nameKey) {\r\n        return getNpcLocaleText(def.nameKey, def.name || 'NPC');\r\n    }\r\n    return def.name || getNpcLocaleText('npc.defaultName', 'NPC');\r\n};\r\n\r\nconst resolveDefinitionText = (def) => {\r\n    if (!def) return '';\r\n    if (def.defaultTextKey) {\r\n        return getNpcLocaleText(def.defaultTextKey, def.defaultText || '');\r\n    }\r\n    return def.defaultText || '';\r\n};\r\n\r\n/**\r\n * normalizeNpcText decides which text should be shown for an NPC.\r\n * It prioritizes the explicit textKey, falls back to the definition's default textKey,\r\n * and finally uses the custom text or the base definition text.\r\n */\r\nconst normalizeNpcText = (npc, def) => {\r\n    const defaultText = resolveDefinitionText(def);\r\n    const defaultTextKey = def && def.defaultTextKey ? def.defaultTextKey : null;\r\n\r\n    const hasCustomText = Object.prototype.hasOwnProperty.call(npc, 'text');\r\n    const customText = hasCustomText\r\n        ? (typeof npc.text === 'string' ? npc.text : String(npc.text || ''))\r\n        : '';\r\n\r\n    const storedTextKey = typeof npc.textKey === 'string' && npc.textKey.trim()\r\n        ? npc.textKey.trim()\r\n        : null;\r\n\r\n    // If the NPC already has a textKey, just reuse it.\r\n    if (storedTextKey) {\r\n        const fallback = customText || defaultText;\r\n        return {\r\n            textKey: storedTextKey,\r\n            text: getNpcLocaleText(storedTextKey, fallback)\r\n        };\r\n    }\r\n\r\n    // If there is no custom text and the definition has a default text key, reuse it.\r\n    if (!hasCustomText && defaultTextKey) {\r\n        return {\r\n            textKey: defaultTextKey,\r\n            text: getNpcLocaleText(defaultTextKey, defaultText)\r\n        };\r\n    }\r\n\r\n    // Fallback: use the custom text (even empty string) or the default definition text.\r\n    return {\r\n        textKey: null,\r\n        text: hasCustomText ? customText : defaultText\r\n    };\r\n};\r\n\r\nfunction clamp(value, min, max, fallback) {\r\n    if (!Number.isFinite(value)) return fallback;\r\n    return Math.max(min, Math.min(max, value));\r\n}\r\n\r\nfunction parseSequentialId(id) {\r\n    if (typeof id !== 'string') return null;\r\n    if (!id.startsWith(NPC_ID_PREFIX)) return null;\r\n    const value = Number(id.slice(NPC_ID_PREFIX.length));\r\n    return Number.isFinite(value) && value > 0 ? value : null;\r\n}\r\n\r\nfunction ensureCounterAbove(value) {\r\n    if (Number.isFinite(value) && value >= nextNpcId) {\r\n        nextNpcId = value + 1;\r\n    }\r\n}\r\n\r\nfunction sequentialIdForType(type) {\r\n    if (!TYPE_TO_INDEX.has(type)) return null;\r\n    const index = TYPE_TO_INDEX.get(type);\r\n    ensureCounterAbove(index);\r\n    return `${NPC_ID_PREFIX}${index}`;\r\n}\r\n\r\nfunction allocateSequentialId() {\r\n    const id = `${NPC_ID_PREFIX}${nextNpcId}`;\r\n    nextNpcId += 1;\r\n    return id;\r\n}\r\n\r\nclass NPCManager {\r\n    constructor(gameState) {\r\n        this.gameState = gameState;\r\n    }\r\n\r\n    generateId() {\r\n        return allocateSequentialId();\r\n    }\r\n\r\n    getDefinitions() {\r\n        return NPC_MANAGER_DEFINITIONS.slice();\r\n    }\r\n\r\n    getNPCs() {\r\n        return this.gameState.game.sprites;\r\n    }\r\n\r\n    getNPC(npcId) {\r\n        return this.gameState.game.sprites.find((s) => s.id === npcId) || null;\r\n    }\r\n\r\n    getNPCByType(type) {\r\n        return this.gameState.game.sprites.find((s) => s.type === type) || null;\r\n    }\r\n\r\n    ensureDefaultNPCs() {\r\n        const allowedTypes = new Set(NPC_MANAGER_DEFINITIONS.map((def) => def.type));\r\n        const normalized = [];\r\n        const seen = new Set();\r\n\r\n        for (const npc of this.gameState.game.sprites || []) {\r\n            if (!allowedTypes.has(npc.type)) continue;\r\n            if (seen.has(npc.type)) continue;\r\n            normalized.push(this.normalizeNPC(npc));\r\n            seen.add(npc.type);\r\n        }\r\n\r\n        for (const def of NPC_MANAGER_DEFINITIONS) {\r\n            if (seen.has(def.type)) continue;\r\n            normalized.push(this.createFromDefinition(def));\r\n        }\r\n\r\n        this.gameState.game.sprites = normalized;\r\n        return this.gameState.game.sprites;\r\n    }\r\n\r\n    normalizeNPC(npc) {\r\n        const def = getNpcDefinition(npc.type);\r\n        const sequentialId = def ? sequentialIdForType(def.type) : null;\r\n        const existingId = typeof npc?.id === 'string' ? npc.id.trim() : '';\r\n        const parsed = parseSequentialId(existingId);\r\n        if (parsed) {\r\n            ensureCounterAbove(parsed);\r\n        }\r\n        const id = sequentialId || existingId || this.generateId();\r\n        const baseName = def ? resolveDefinitionName(def) : null;\r\n        const name = npc.name || baseName || getNpcLocaleText('npc.defaultName', 'NPC');\r\n        const { text, textKey } = normalizeNpcText(npc, def);\r\n        const maxRoomIndex = Math.max(0, (this.gameState?.game?.rooms?.length ?? 1) - 1);\r\n        const roomIndex = clamp(Number(npc.roomIndex), 0, maxRoomIndex, 0);\r\n        const x = clamp(Number(npc.x), 0, 7, 1);\r\n        const y = clamp(Number(npc.y), 0, 7, 1);\r\n        const initialX = npc.initialX !== undefined ? npc.initialX : x;\r\n        const initialY = npc.initialY !== undefined ? npc.initialY : y;\r\n        const initialRoomIndex = npc.initialRoomIndex !== undefined ? npc.initialRoomIndex : roomIndex;\r\n        const placed = npc.placed !== undefined ? Boolean(npc.placed) : true;\r\n        const rawConditionId = npc.conditionVariableId ?? npc.conditionalVariableId ?? null;\r\n        const rawConditionText = npc.conditionText ?? npc.conditionalText ?? '';\r\n        const rawRewardId = npc.rewardVariableId ?? npc.activateVariableId ?? npc.onCompleteVariableId ?? null;\r\n        const rawConditionalRewardId = npc.conditionalRewardVariableId ?? npc.alternativeRewardVariableId ?? null;\r\n        const conditionVariableId = this.gameState.normalizeVariableId?.(rawConditionId) ?? null;\r\n        const conditionText = typeof rawConditionText === 'string' ? rawConditionText : '';\r\n        const rewardVariableId = this.gameState.normalizeVariableId?.(rawRewardId) ?? null;\r\n        const conditionalRewardVariableId = this.gameState.normalizeVariableId?.(rawConditionalRewardId) ?? null;\r\n\r\n        return {\r\n            id,\r\n            type: def?.type || npc.type || id,\r\n            name,\r\n            text,\r\n            textKey,\r\n            roomIndex,\r\n            x,\r\n            y,\r\n            initialX,\r\n            initialY,\r\n            initialRoomIndex,\r\n            placed,\r\n            conditionVariableId,\r\n            conditionText,\r\n            rewardVariableId,\r\n            conditionalRewardVariableId\r\n        };\r\n    }\r\n\r\n    createFromDefinition(def) {\r\n        const textKey = def?.defaultTextKey || null;\r\n        return {\r\n            id: sequentialIdForType(def.type) || this.generateId(),\r\n            type: def.type,\r\n            name: resolveDefinitionName(def),\r\n            text: resolveDefinitionText(def),\r\n            textKey,\r\n            roomIndex: 0,\r\n            x: 1,\r\n            y: 1,\r\n            placed: false,\r\n            conditionVariableId: null,\r\n            conditionText: '',\r\n            rewardVariableId: null,\r\n            conditionalRewardVariableId: null\r\n        };\r\n    }\r\n\r\n    resetNPCs() {\r\n        const npcs = this.getNPCs();\r\n        for (const npc of npcs) {\r\n            if (npc.initialX !== undefined) {\r\n                npc.x = npc.initialX;\r\n            }\r\n            if (npc.initialY !== undefined) {\r\n                npc.y = npc.initialY;\r\n            }\r\n            if (npc.initialRoomIndex !== undefined) npc.roomIndex = npc.initialRoomIndex;\r\n        }\r\n    }\r\n\r\n    addNPC(data) {\r\n        const def = data?.type ? getNpcDefinition(data.type) : null;\r\n        if (!def) {\r\n            return null;\r\n        }\r\n\r\n        const existing = this.getNPCByType(def.type);\r\n        if (existing) {\r\n            Object.assign(existing, this.normalizeNPC({ ...existing, ...data, id: existing.id, type: def.type }));\r\n            return existing.id;\r\n        }\r\n\r\n        const npc = this.normalizeNPC({\r\n            id: def.id,\r\n            type: def.type,\r\n            name: resolveDefinitionName(def),\r\n            text: data?.text ?? resolveDefinitionText(def),\r\n            textKey: data?.text ? null : (def.defaultTextKey || null),\r\n            x: data?.x ?? 1,\r\n            y: data?.y ?? 1,\r\n            roomIndex: data?.roomIndex ?? 0,\r\n            placed: Boolean(data?.placed)\r\n        });\r\n\r\n        this.gameState.game.sprites.push(npc);\r\n        return npc.id;\r\n    }\r\n\r\n    updateNPC(npcId, data) {\r\n        const npc = this.getNPC(npcId);\r\n        if (!npc) return;\r\n        const updated = this.normalizeNPC({ ...npc, ...data, id: npc.id, type: npc.type });\r\n        Object.assign(npc, updated);\r\n    }\r\n\r\n    removeNPC(npcId) {\r\n        const npc = this.getNPC(npcId);\r\n        if (!npc) return false;\r\n        npc.placed = false;\r\n        npc.x = 1;\r\n        npc.y = 1;\r\n        npc.roomIndex = 0;\r\n        return true;\r\n    }\r\n\r\n    setNPCPosition(npcId, x, y, roomIndex = null) {\r\n        const npc = this.getNPC(npcId);\r\n        if (!npc) return;\r\n\r\n        npc.x = clamp(Number(x), 0, 7, npc.x);\r\n        npc.y = clamp(Number(y), 0, 7, npc.y);\r\n        npc.initialX = npc.x;\r\n        npc.initialY = npc.y;\r\n        if (roomIndex !== null && roomIndex !== undefined) {\r\n            const maxRoomIndex = Math.max(0, (this.gameState?.game?.rooms?.length ?? 1) - 1);\r\n            npc.roomIndex = clamp(Number(roomIndex), 0, maxRoomIndex, npc.roomIndex);\r\n            npc.initialRoomIndex = npc.roomIndex;\r\n        }\r\n        npc.placed = true;\r\n        return true;\r\n    }\r\n\r\n    updateNPCDialog(npcId, text) {\r\n        if (typeof text === 'object' && text !== null) {\r\n            this.updateNPC(npcId, text);\r\n            return;\r\n        }\r\n        this.updateNPC(npcId, { text });\r\n    }\r\n}\r\n\r\nexport { NPCManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\services\\engine\\EnemyManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":103,"column":9,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":103,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":104,"column":3,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":104,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":112,"column":9,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":112,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":113,"column":3,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":113,"endColumn":34}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { EnemyDefinitions } from '../../domain/definitions/EnemyDefinitions';\r\nimport { ITEM_TYPES } from '../../domain/constants/itemTypes';\nimport { TextResources } from '../../adapters/TextResources';\r\n\r\ntype GameStateApi = {\r\n  playing: boolean;\r\n  isEditorModeActive?: () => boolean;\r\n  getEnemyDefinitions: () => unknown;\r\n  getEnemies: () => EnemyState[];\r\n  addEnemy: (enemy: EnemyState) => string | null;\r\n  removeEnemy: (id: string) => void;\r\n  getGame: () => GameData;\r\n  getPlayer: () => PlayerState;\r\n  isPlayerOnDamageCooldown: () => boolean;\r\n  damagePlayer: (amount: number) => number;\r\n  consumeLastDamageReduction: () => number;\r\n  consumeRecentReviveFlag?: () => boolean;\r\n  handleEnemyDefeated: (xp: number) => { leveledUp?: boolean } | null;\r\n  getPendingLevelUpChoices?: () => number;\r\n  startLevelUpSelectionIfNeeded?: () => void;\r\n  prepareNecromancerRevive?: () => void;\r\n  isVariableOn: (id: string) => boolean;\r\n  normalizeVariableId: (id: string | null) => string | null;\r\n  setVariableValue: (id: string, value: boolean, persist?: boolean) => [boolean, boolean?];\r\n  getObjectAt?: (roomIndex: number, x: number, y: number) => GameObjectState | null;\r\n  hasSkill?: (skillId: string) => boolean;\r\n};\r\n\r\ntype RendererApi = {\r\n  draw: () => void;\r\n  flashScreen: (payload: Record<string, unknown>) => void;\r\n  showCombatIndicator: (text: string, options?: Record<string, unknown>) => void;\r\n};\r\n\r\ntype TileManagerApi = {\r\n  getTileMap: (roomIndex: number) => TileMapState | null;\r\n  getTile: (tileId: string | number) => TileDefinition | null;\r\n};\r\n\r\ntype Options = {\r\n  onPlayerDefeated?: () => void;\r\n  interval?: number;\r\n  directions?: number[][];\r\n  dialogManager?: { showDialog?: (text: string) => void } | null;\r\n  missChance?: number;\r\n};\r\n\r\ntype PlayerState = {\r\n  roomIndex: number;\r\n  x: number;\r\n  y: number;\r\n};\r\n\r\ntype RoomState = {\r\n  walls?: boolean[][];\r\n};\r\n\r\ntype GameData = {\r\n  rooms: RoomState[];\r\n};\r\n\r\ntype EnemyState = {\r\n  id?: string;\r\n  type: string;\r\n  roomIndex?: number;\r\n  x: number;\r\n  y: number;\r\n  lastX?: number;\r\n  defeatVariableId?: string | null;\r\n};\r\n\r\ntype GameObjectState = {\r\n  type: string;\r\n  opened?: boolean;\r\n  variableId?: string | null;\r\n};\r\n\r\ntype TileMapState = {\r\n  ground?: (string | number | null)[][];\r\n  overlay?: (string | number | null)[][];\r\n};\r\n\r\ntype TileDefinition = {\r\n  collision?: boolean;\r\n};\r\n\r\ntype DefeatVariableConfig = {\r\n  variableId?: string;\r\n  persist?: boolean;\r\n  message?: string;\r\n  messageKey?: string;\r\n};\r\n\r\ntype EnemyDefinitionData = {\r\n  hasEyes?: boolean;\r\n  damage?: number;\r\n  activateVariableOnDefeat?: DefeatVariableConfig | null;\r\n  defeatActivationMessageKey?: string;\r\n  defeatActivationMessage?: string;\r\n};\r\n\r\nconst getEnemyLocaleText = (key: string, fallback = ''): string => {\r\n  const value = TextResources.get(key, fallback);\r\n  return value || fallback || '';\r\n};\r\n\r\nconst formatEnemyLocaleText = (\r\n  key: string,\r\n  params: Record<string, unknown> = {},\r\n  fallback = '',\r\n): string => {\r\n  const value = TextResources.format(key, params, fallback);\r\n  return value || fallback || '';\r\n};\r\n\r\nclass EnemyManager {\r\n  gameState: GameStateApi;\r\n  renderer: RendererApi;\r\n  tileManager: TileManagerApi;\r\n  onPlayerDefeated: () => void;\r\n  interval: number;\r\n  enemyMoveTimer: ReturnType<typeof setInterval> | null;\r\n  directions: number[][];\r\n  dialogManager: Options['dialogManager'] | null;\r\n  fallbackMissChance: number;\r\n\r\n  constructor(gameState: GameStateApi, renderer: RendererApi, tileManager: TileManagerApi, options: Options = {}) {\r\n    this.gameState = gameState;\r\n    this.renderer = renderer;\r\n    this.tileManager = tileManager;\r\n    this.onPlayerDefeated = options.onPlayerDefeated || (() => {});\r\n    this.interval = options.interval || 600;\r\n    this.enemyMoveTimer = null;\r\n    this.directions = options.directions || this.defaultDirections();\r\n    this.dialogManager = options.dialogManager || null;\r\n    this.fallbackMissChance = this.normalizeMissChance(options.missChance === undefined ? 0.25 : options.missChance);\r\n  }\r\n\r\n  getEnemyDefinitions(): unknown {\r\n    return this.gameState.getEnemyDefinitions();\r\n  }\r\n\r\n  getActiveEnemies(): EnemyState[] {\r\n    return this.gameState.getEnemies();\r\n  }\r\n\r\n  addEnemy(enemy: EnemyState): string | null {\r\n    const id = enemy.id || this.generateEnemyId();\r\n    const type = this.normalizeEnemyType(enemy.type);\r\n    const addedId = this.gameState.addEnemy({\r\n      id,\r\n      type,\r\n      roomIndex: enemy.roomIndex ?? 0,\r\n      x: enemy.x ?? 0,\r\n      y: enemy.y ?? 0,\r\n      lastX: enemy.x ?? 0,\r\n      defeatVariableId: enemy.defeatVariableId ?? null,\r\n    });\r\n    if (!addedId) {\r\n      return null;\r\n    }\r\n    this.renderer.draw();\r\n    return addedId;\r\n  }\r\n\r\n  removeEnemy(enemyId: string): void {\r\n    this.gameState.removeEnemy(enemyId);\r\n    this.renderer.draw();\r\n  }\r\n\r\n  generateEnemyId(): string {\r\n    const cryptoObj = typeof crypto !== 'undefined' ? crypto : globalThis.crypto ?? null;\r\n    if (cryptoObj?.randomUUID) {\r\n      return cryptoObj.randomUUID();\r\n    }\r\n    return `enemy-${Math.random().toString(36).slice(2, 10)}`;\r\n  }\r\n\r\n  start(): void {\r\n    if (this.enemyMoveTimer) {\r\n      clearInterval(this.enemyMoveTimer);\r\n    }\r\n    this.enemyMoveTimer = setInterval(() => this.tick(), this.interval);\r\n  }\r\n\r\n  stop(): void {\r\n    if (this.enemyMoveTimer) {\r\n      clearInterval(this.enemyMoveTimer);\r\n      this.enemyMoveTimer = null;\r\n    }\r\n  }\r\n\r\n  tick(): void {\r\n    if (!this.gameState.playing) return;\r\n    if (this.gameState.isEditorModeActive?.()) return;\r\n\r\n    const enemies = this.gameState.getEnemies();\r\n    if (!this.hasMovableEnemies(enemies)) return;\r\n\r\n    const game = this.gameState.getGame();\r\n    let moved = false;\r\n\r\n    for (let i = 0; i < enemies.length; i++) {\r\n      const result = this.tryMoveEnemy(enemies, i, game);\r\n      if (result === 'moved') {\r\n        moved = true;\r\n      } else if (result === 'collided') {\r\n        moved = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (moved) {\r\n      this.renderer.draw();\r\n    }\r\n  }\r\n\r\n  handleEnemyCollision(enemyIndex: number): void {\r\n    if (this.gameState.isPlayerOnDamageCooldown()) {\r\n      this.renderer.showCombatIndicator(getEnemyLocaleText('combat.cooldown', ''), { duration: 700 });\r\n      return;\r\n    }\r\n\r\n    const enemies = this.gameState.getEnemies();\r\n    const enemy = enemies[enemyIndex];\r\n    if (!enemy) return;\r\n    enemy.type = this.normalizeEnemyType(enemy.type);\r\n    if (this.canAssassinate(enemy)) {\r\n      this.assassinateEnemy(enemyIndex);\r\n      return;\r\n    }\r\n    const missChance = this.getEnemyMissChance(enemy.type);\r\n    const attackMissed = this.attackMissed(missChance);\r\n\r\n    enemies.splice(enemyIndex, 1);\r\n\r\n    if (attackMissed) {\r\n      this.showMissFeedback();\r\n    } else {\r\n      const damage = this.getEnemyDamage(enemy.type);\r\n      const lives = this.gameState.damagePlayer(damage);\r\n      const reduction = this.gameState.consumeLastDamageReduction();\r\n      const revived = this.gameState.consumeRecentReviveFlag?.() || false;\r\n      if (revived) {\r\n        this.renderer.showCombatIndicator(getEnemyLocaleText('skills.necromancer.revive', ''), { duration: 900 });\r\n      }\r\n      if (reduction > 0) {\r\n        const text =\r\n          reduction >= damage\r\n            ? getEnemyLocaleText('combat.block.full', '')\r\n            : formatEnemyLocaleText('combat.block.partial', { value: reduction }, '');\r\n        this.renderer.showCombatIndicator(text, { duration: 700 });\r\n      }\r\n      if (lives <= 0) {\r\n        this.onPlayerDefeated();\r\n        return;\r\n      }\r\n    }\r\n\r\n    const experienceReward = this.getExperienceReward(enemy.type);\r\n    const defeatResult = this.gameState.handleEnemyDefeated(experienceReward);\r\n    if (defeatResult?.leveledUp && this.shouldStartLevelOverlay()) {\r\n      this.gameState.startLevelUpSelectionIfNeeded?.();\r\n    }\r\n\r\n    this.tryTriggerDefeatVariable(enemy);\r\n    this.renderer.flashScreen({ intensity: 0.8, duration: 160 });\r\n\r\n    this.checkAllEnemiesCleared();\r\n    this.renderer.draw();\r\n  }\r\n\r\n  checkCollisionAt(x: number, y: number): void {\r\n    const enemies = this.gameState.getEnemies();\r\n    const playerRoom = this.gameState.getPlayer().roomIndex;\r\n    const index = enemies.findIndex(\r\n      (enemy) => enemy.roomIndex === playerRoom && enemy.x === x && enemy.y === y,\r\n    );\r\n    if (index !== -1) {\r\n      const enemy = enemies[index];\r\n      if (this.canAssassinate(enemy)) {\r\n        this.assassinateEnemy(index);\r\n        return;\r\n      }\r\n      this.handleEnemyCollision(index);\r\n    }\r\n  }\r\n\r\n  clamp(v: number, a: number, b: number): number {\r\n    return Math.max(a, Math.min(b, v));\r\n  }\r\n\r\n  getRoomSize(): number {\r\n    return 8;\r\n  }\r\n\r\n  defaultDirections(): number[][] {\r\n    return [\r\n      [0, 0],\r\n      [1, 0],\r\n      [-1, 0],\r\n      [0, 1],\r\n      [0, -1],\r\n    ];\r\n  }\r\n\r\n  hasMovableEnemies(enemies: EnemyState[]): boolean {\r\n    return Array.isArray(enemies) && enemies.length > 0;\r\n  }\r\n\r\n  tryMoveEnemy(enemies: EnemyState[], index: number, game: GameData): 'none' | 'moved' | 'collided' {\r\n    const enemy = enemies[index];\r\n    if (!enemy) return 'none';\r\n    enemy.type = this.normalizeEnemyType(enemy.type);\r\n\r\n    const dir = this.pickRandomDirection();\r\n    const target = this.getTargetPosition(enemy, dir);\r\n    const roomIndex = enemy.roomIndex ?? 0;\r\n\r\n    if (!this.canEnterTile(roomIndex, target.x, target.y, game, enemies, index)) {\r\n      return 'none';\r\n    }\r\n\r\n    enemy.lastX = enemy.x;\r\n    enemy.x = target.x;\r\n    enemy.y = target.y;\r\n\r\n    return this.resolvePostMove(roomIndex, target.x, target.y, index) ? 'collided' : 'moved';\r\n  }\r\n\r\n  pickRandomDirection(): number[] {\r\n    const base = this.directions;\r\n    return base[Math.floor(Math.random() * base.length)];\r\n  }\r\n\r\n  getTargetPosition(enemy: EnemyState, direction: number[]): { x: number; y: number } {\r\n    const size = this.getRoomSize();\r\n    return {\r\n      x: this.clamp(enemy.x + direction[0], 0, size - 1),\r\n      y: this.clamp(enemy.y + direction[1], 0, size - 1),\r\n    };\r\n  }\r\n\r\n  canEnterTile(roomIndex: number, x: number, y: number, game: GameData, enemies: EnemyState[], movingIndex: number): boolean {\r\n    const room = game.rooms[roomIndex];\r\n    if (!room) return false;\r\n    if (this.isBorderTile(roomIndex, x, y)) return false;\r\n    if (room.walls?.[y]?.[x]) return false;\r\n    if (this.isTileBlocked(roomIndex, x, y)) return false;\r\n    if (this.hasBlockingObject(roomIndex, x, y)) return false;\r\n    return !this.isOccupied(enemies, movingIndex, roomIndex, x, y);\r\n  }\r\n\r\n  isTileBlocked(roomIndex: number, x: number, y: number): boolean {\r\n    const tileMap = this.tileManager.getTileMap(roomIndex);\r\n    const groundId = tileMap?.ground?.[y]?.[x] ?? null;\r\n    const overlayId = tileMap?.overlay?.[y]?.[x] ?? null;\r\n    const candidateId = overlayId ?? groundId;\r\n    if (candidateId === null || candidateId === undefined) return false;\r\n    const tile = this.tileManager.getTile(candidateId);\r\n    return Boolean(tile?.collision);\r\n  }\r\n\r\n  hasBlockingObject(roomIndex: number, x: number, y: number): boolean {\r\n    const OT = ITEM_TYPES;\r\n    const blockingObject = this.gameState.getObjectAt?.(roomIndex, x, y) ?? null;\r\n    if (!blockingObject) return false;\r\n    if (blockingObject.type === OT.DOOR && !blockingObject.opened) return true;\r\n    if (blockingObject.type === OT.DOOR_VARIABLE) {\r\n      const isOpen = blockingObject.variableId ? this.gameState.isVariableOn(blockingObject.variableId) : false;\r\n      return !isOpen;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isOccupied(enemies: EnemyState[], movingIndex: number, roomIndex: number, x: number, y: number): boolean {\r\n    return enemies.some((other, index) => index !== movingIndex && other.roomIndex === roomIndex && other.x === x && other.y === y);\r\n  }\r\n\r\n  isBorderTile(_roomIndex: number, x: number, y: number): boolean {\r\n    const size = this.getRoomSize();\r\n    if (size <= 2) return false;\r\n    return x === 0 || y === 0 || x === size - 1 || y === size - 1;\r\n  }\r\n\r\n  resolvePostMove(roomIndex: number, x: number, y: number, enemyIndex: number): boolean {\r\n    const player = this.gameState.getPlayer();\r\n    if (player.roomIndex === roomIndex && player.x === x && player.y === y) {\r\n      if (this.tryStealthAssassination(enemyIndex)) {\r\n        return true;\r\n      }\r\n      this.handleEnemyCollision(enemyIndex);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  collideAt(roomIndex: number, x: number, y: number): boolean {\r\n    const enemies = this.gameState.getEnemies();\r\n    const index = enemies.findIndex((enemy) => enemy.roomIndex === roomIndex && enemy.x === x && enemy.y === y);\r\n    if (index === -1) return false;\r\n    this.handleEnemyCollision(index);\r\n    return true;\r\n  }\r\n\r\n  normalizeEnemyType(type: string): string {\r\n    return EnemyDefinitions.normalizeType(type);\r\n  }\r\n\r\n  getEnemyDefinition(type: string): EnemyDefinitionData | null {\r\n    return EnemyDefinitions.getEnemyDefinition(type);\r\n  }\r\n\r\n  enemyHasEyes(enemy: EnemyState): boolean {\r\n    if (!enemy) return true;\r\n    const definition = this.getEnemyDefinition(enemy.type);\r\n    if (!definition) return true;\r\n    if (definition.hasEyes === false) return false;\r\n    return true;\r\n  }\r\n\r\n  canAssassinate(enemy: EnemyState): boolean {\r\n    const stealth = this.gameState.hasSkill?.('stealth');\r\n    if (!stealth || !enemy) return false;\r\n    const damage = this.getEnemyDamage(enemy.type);\r\n    return damage <= 2;\r\n  }\r\n\r\n  tryStealthAssassination(enemyIndex: number): boolean {\r\n    const enemies = this.gameState.getEnemies();\r\n    const enemy = enemies?.[enemyIndex];\r\n    if (!this.canAssassinate(enemy)) {\r\n      return false;\r\n    }\r\n    const missed = Math.random() < 0.25;\r\n    if (missed) {\r\n      this.showStealthMissFeedback();\r\n      return false;\r\n    }\r\n    this.assassinateEnemy(enemyIndex);\r\n    return true;\r\n  }\r\n\r\n  assassinateEnemy(enemyIndex: number): void {\r\n    const enemies = this.gameState.getEnemies();\r\n    const enemy = enemies?.[enemyIndex];\r\n    if (!enemy) return;\r\n    const type = this.normalizeEnemyType(enemy.type);\r\n    enemies.splice(enemyIndex, 1);\r\n\r\n    const experienceReward = this.getExperienceReward(type);\r\n    const defeatResult = this.gameState.handleEnemyDefeated(experienceReward);\r\n    if (defeatResult?.leveledUp && this.shouldStartLevelOverlay()) {\r\n      this.gameState.startLevelUpSelectionIfNeeded?.();\r\n    }\r\n    this.tryTriggerDefeatVariable({ ...enemy, type });\r\n    this.showStealthKillFeedback();\r\n    this.renderer.flashScreen({ intensity: 0.4, duration: 120 });\r\n    this.checkAllEnemiesCleared();\r\n    this.renderer.draw();\r\n  }\r\n\r\n  showStealthKillFeedback(): void {\r\n    const text = getEnemyLocaleText('combat.stealthKill', '');\r\n    if (!text) return;\r\n    this.renderer.showCombatIndicator?.(text, { duration: 800 });\r\n  }\r\n\r\n  showStealthMissFeedback(): void {\r\n    const text = getEnemyLocaleText('combat.stealthMiss', '');\r\n    if (!text) return;\r\n    this.renderer.showCombatIndicator?.(text, { duration: 800 });\r\n  }\r\n\r\n  shouldStartLevelOverlay(): boolean {\r\n    const pendingChoices = this.gameState.getPendingLevelUpChoices?.() ?? 0;\r\n    return pendingChoices > 0;\r\n  }\r\n\r\n  getEnemyDamage(type: string): number {\r\n    const definition = this.getEnemyDefinition(type);\r\n    if (definition && typeof definition.damage === 'number' && Number.isFinite(definition.damage)) {\r\n      return Math.max(1, definition.damage);\r\n    }\r\n    return 1;\r\n  }\r\n\r\n  getExperienceReward(type: string): number {\r\n    return EnemyDefinitions.getExperienceReward(type);\r\n  }\r\n\r\n  getEnemyMissChance(type: string): number {\r\n    const explicit = EnemyDefinitions.getMissChance(type);\r\n    if (explicit !== null && explicit !== undefined) {\r\n      return this.normalizeMissChance(explicit);\r\n    }\r\n    return this.fallbackMissChance;\r\n  }\r\n\r\n  checkAllEnemiesCleared(): void {\r\n    const remaining = this.gameState.getEnemies()?.length ?? 0;\r\n    if (remaining <= 0) {\r\n      const text = getEnemyLocaleText('game.clearAllEnemies', '');\r\n      if (text) {\r\n        this.dialogManager?.showDialog?.(text);\r\n      }\r\n    }\r\n  }\r\n\r\n  normalizeMissChance(value: number): number {\r\n    const numeric = Number(value);\r\n    if (!Number.isFinite(numeric)) {\r\n      return 0.25;\r\n    }\r\n    return Math.max(0, Math.min(1, numeric));\r\n  }\r\n\r\n  attackMissed(chance?: number): boolean {\r\n    let normalized: number;\r\n    if (chance === undefined) {\r\n      normalized = this.normalizeMissChance(this.fallbackMissChance);\r\n      this.fallbackMissChance = normalized;\r\n    } else {\r\n      normalized = this.normalizeMissChance(chance);\r\n    }\r\n    if (normalized <= 0) return false;\r\n    if (normalized >= 1) return true;\r\n    return Math.random() < normalized;\r\n  }\r\n\r\n  getDefeatVariableConfig(enemy: EnemyState): { variableId: string; persist: boolean; message: string | null } | null {\r\n    if (!enemy) return null;\r\n    const definition = this.getEnemyDefinition(enemy.type);\r\n    const baseConfig =\r\n      definition?.activateVariableOnDefeat && typeof definition.activateVariableOnDefeat === 'object'\r\n        ? definition.activateVariableOnDefeat\r\n        : null;\r\n    let variableId = typeof enemy.defeatVariableId === 'string' ? enemy.defeatVariableId : null;\r\n    if (!variableId) {\r\n      const fallbackId = typeof baseConfig?.variableId === 'string' ? baseConfig.variableId : null;\r\n      variableId = fallbackId;\r\n    }\r\n    variableId = this.gameState.normalizeVariableId(variableId);\r\n    if (!variableId) return null;\r\n    const persist = baseConfig?.persist !== undefined ? Boolean(baseConfig.persist) : true;\r\n    let message = null;\r\n    if (typeof baseConfig?.message === 'string' && baseConfig.message.trim().length) {\r\n      message = baseConfig.message.trim();\r\n    } else if (baseConfig?.messageKey) {\r\n      message = getEnemyLocaleText(baseConfig.messageKey, baseConfig.message || '');\r\n    } else if (definition?.defeatActivationMessageKey) {\r\n      message = getEnemyLocaleText(\r\n        definition.defeatActivationMessageKey,\r\n        definition.defeatActivationMessage?.trim() || '',\r\n      );\r\n    } else if (typeof definition?.defeatActivationMessage === 'string' && definition.defeatActivationMessage.trim().length) {\r\n      message = definition.defeatActivationMessage.trim();\r\n    }\r\n    return { variableId, persist, message };\r\n  }\r\n\r\n  tryTriggerDefeatVariable(enemy: EnemyState): boolean {\r\n    const config = this.getDefeatVariableConfig(enemy);\r\n    if (!config) return false;\r\n    const [updated] = this.gameState.setVariableValue(config.variableId, true, config.persist);\r\n    const isActive = this.gameState.isVariableOn(config.variableId);\r\n    if (!updated && !isActive) {\r\n      return false;\r\n    }\r\n\r\n    if (config.message) {\r\n      this.renderer.showCombatIndicator(config.message, { duration: 900 });\r\n    }\r\n    return true;\r\n  }\r\n\r\n  showMissFeedback(): void {\r\n    this.renderer.showCombatIndicator('Miss', { duration: 500 });\r\n  }\r\n}\r\n\r\nexport { EnemyManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\services\\engine\\InteractionManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":245,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":245,"endColumn":93},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":246,"column":22,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":246,"endColumn":39},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":253,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":253,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":254,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":254,"endColumn":36},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":258,"column":11,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":258,"endColumn":62},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":259,"column":5,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":259,"endColumn":36}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ITEM_TYPES, type ItemType } from '../../domain/constants/itemTypes';\nimport { itemCatalog } from '../../domain/services/ItemCatalog';\nimport { TextResources } from '../../adapters/TextResources';\r\n\r\ntype DialogManagerApi = {\r\n  showDialog: (text: string, meta?: Record<string, unknown>) => void;\r\n};\r\n\r\ntype PlayerPosition = {\r\n  roomIndex: number;\r\n  x: number;\r\n  y: number;\r\n};\r\n\r\ntype ItemState = {\r\n  roomIndex: number;\r\n  x: number;\r\n  y: number;\r\n  collected?: boolean;\r\n  text?: string;\r\n};\r\n\r\ntype GameObjectState = {\n  type: ItemType;\n  roomIndex: number;\n  x: number;\n  y: number;\n  collected?: boolean;\r\n  variableId?: string | null;\r\n  on?: boolean;\r\n};\r\n\r\ntype NpcState = {\r\n  placed?: boolean;\r\n  roomIndex: number;\r\n  x: number;\r\n  y: number;\r\n  text?: string;\r\n  conditionText?: string;\r\n  conditionVariableId?: string | null;\r\n  rewardVariableId?: string | null;\r\n  conditionalRewardVariableId?: string | null;\r\n};\r\n\r\ntype ExitState = {\r\n  roomIndex: number;\r\n  x: number;\r\n  y: number;\r\n  targetRoomIndex: number;\r\n  targetX: number;\r\n  targetY: number;\r\n};\r\n\r\ntype RoomState = Record<string, unknown>;\r\n\r\ntype GameStateApi = {\r\n  getGame: () => {\r\n    items: ItemState[];\r\n    sprites: NpcState[];\r\n    exits: ExitState[];\r\n    rooms: RoomState[];\r\n  };\r\n  getPlayer: () => PlayerPosition;\r\n  getObjectsForRoom?: (roomIndex: number) => GameObjectState[];\r\n  getPlayerEndText: (roomIndex: number) => string;\r\n  setActiveEndingText?: (text: string) => void;\r\n  normalizeVariableId?: (id: string | null) => string | null;\r\n  isVariableOn?: (id: string) => boolean;\r\n  setVariableValue?: (id: string, value: boolean, persist?: boolean) => [boolean, boolean?];\r\n  addKeys?: (count: number) => void;\r\n  getLives?: () => number;\r\n  getMaxLives?: () => number;\r\n  hasSkill?: (skillId: string) => boolean;\r\n  healPlayerToFull?: () => void;\r\n  addLife?: (count: number) => void;\r\n  getExperienceToNext?: () => number;\r\n  addExperience?: (amount: number) => void;\r\n  getSwordType?: () => string | null;\r\n  addDamageShield?: (durability: number, type: string) => void;\r\n  showPickupOverlay?: (payload: Record<string, unknown>) => void;\r\n  setPlayerPosition: (x: number, y: number, roomIndex: number) => void;\r\n  getRoomIndex: (row: number, col: number) => number | null;\r\n};\r\n\r\ntype Options = {\r\n  onPlayerVictory?: () => void;\r\n};\r\n\r\nclass InteractionManager {\r\n  gameState: GameStateApi;\r\n  dialogManager: DialogManagerApi;\r\n  options?: Options;\r\n\r\n  constructor(gameState: GameStateApi, dialogManager: DialogManagerApi, options: Options = {}) {\r\n    this.gameState = gameState;\r\n    this.dialogManager = dialogManager;\r\n    this.options = options;\r\n  }\r\n\r\n  get types(): typeof ITEM_TYPES {\n    return ITEM_TYPES;\n  }\n\r\n  handlePlayerInteractions(): void {\r\n    const game = this.gameState.getGame();\r\n    const player = this.gameState.getPlayer();\r\n\r\n    this.checkItems(game.items, player);\r\n    this.checkObjects(player);\r\n    this.checkNpcs(game.sprites, player);\r\n    this.checkRoomExits(game.exits, game.rooms, player);\r\n  }\r\n\r\n  checkItems(items: ItemState[], player: PlayerPosition): void {\r\n    if (!Array.isArray(items)) return;\r\n    for (const item of items) {\r\n      const sameTile = item.roomIndex === player.roomIndex && item.x === player.x && item.y === player.y;\r\n      if (!sameTile || item.collected) continue;\r\n\r\n      item.collected = true;\r\n      const text = typeof item.text === 'string' ? item.text : this.getInteractionText('objects.item.pickup', '');\r\n      if (text) {\r\n        this.dialogManager.showDialog(text);\r\n      }\r\n      break;\r\n    }\r\n  }\r\n\r\n  checkObjects(player: PlayerPosition): void {\r\n    const objects = this.gameState.getObjectsForRoom?.(player.roomIndex) || [];\r\n    for (const object of objects) {\r\n      if (object.x !== player.x || object.y !== player.y) continue;\r\n\r\n      if (this.handleCollectibleObject(object)) break;\r\n      if (this.handleSwitch(object)) break;\r\n      if (this.handlePlayerEnd(object)) break;\r\n    }\r\n  }\r\n\r\n  handleCollectibleObject(object: GameObjectState): boolean {\r\n    if (object.collected) {\r\n      return false;\r\n    }\r\n\r\n    const OT = this.types;\r\n    switch (object.type) {\r\n      case OT.KEY: {\r\n        object.collected = true;\r\n        this.showPickupOverlay(object.type, () => {\r\n          this.gameState.addKeys?.(1);\r\n        });\r\n        return true;\r\n      }\r\n      case OT.LIFE_POTION: {\r\n        const currentLives = this.gameState.getLives?.();\r\n        const maxLives = this.gameState.getMaxLives?.();\r\n        const fullHeal = this.gameState.hasSkill?.('potion-master');\r\n        if (\r\n          typeof currentLives === 'number' &&\r\n          typeof maxLives === 'number' &&\r\n          Number.isFinite(currentLives) &&\r\n          Number.isFinite(maxLives) &&\r\n          currentLives >= maxLives\r\n        ) {\r\n          return false;\r\n        }\r\n        object.collected = true;\r\n        this.showPickupOverlay(object.type, () => {\r\n          if (fullHeal) {\r\n            this.gameState.healPlayerToFull?.();\r\n          } else {\r\n            this.gameState.addLife?.(1);\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n      case OT.XP_SCROLL: {\r\n        object.collected = true;\r\n        this.showPickupOverlay(object.type, () => {\r\n          const xpToNext = this.gameState.getExperienceToNext?.() ?? 0;\r\n          const gain = xpToNext > 0 ? Math.max(1, Math.floor(xpToNext * 0.5)) : 0;\r\n          this.gameState.addExperience?.(gain);\r\n        });\r\n        return true;\r\n      }\r\n      case OT.SWORD:\r\n      case OT.SWORD_BRONZE:\r\n      case OT.SWORD_WOOD: {\r\n        if (!this.shouldPickupSword(object.type)) {\r\n          return false;\r\n        }\r\n        const durability = this.getSwordDurability(object.type);\r\n        object.collected = true;\r\n        this.showPickupOverlay(object.type, () => {\r\n          this.gameState.addDamageShield?.(durability, object.type);\r\n        });\r\n        return true;\r\n      }\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  getSwordDurability(type: string): number {\r\n    const durability = itemCatalog.getSwordDurability(type);\n    if (Number.isFinite(durability)) {\r\n      return Math.max(0, durability);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  getSwordPriority(type: string): number {\r\n    const OT = this.types;\r\n    const priorityMap: Record<string, number> = {\r\n      [OT.SWORD_WOOD]: 1,\r\n      [OT.SWORD_BRONZE]: 2,\r\n      [OT.SWORD]: 3,\r\n    };\r\n    return priorityMap[type] || 0;\r\n  }\r\n\r\n  shouldPickupSword(type: string): boolean {\r\n    const currentType = this.gameState.getSwordType?.() || null;\r\n    const currentPriority = this.getSwordPriority(currentType || '');\r\n    const newPriority = this.getSwordPriority(type);\r\n    return newPriority > currentPriority;\r\n  }\r\n\r\n  showPickupOverlay(type: string, effect: (() => void) | null = null): void {\r\n    const overlayName = this.getObjectDisplayName(type);\r\n    this.gameState.showPickupOverlay?.({\r\n      name: overlayName,\r\n      spriteGroup: 'object',\r\n      spriteType: type,\r\n      effect,\r\n    });\r\n  }\r\n\r\n  getObjectDisplayName(type: string): string {\r\n    const definition = itemCatalog.getItemDefinition(type);\n    if (!definition) {\r\n      return type || '';\r\n    }\r\n    if (definition.nameKey) {\r\n      const localized = TextResources.get(definition.nameKey, definition.name || type || '');\r\n      if (localized) return localized;\r\n    }\r\n    if (definition.name) return definition.name;\r\n    return type || '';\r\n  }\r\n\r\n  getInteractionText(key: string, fallback = ''): string {\r\n    const value = TextResources.get(key, fallback);\r\n    return value || fallback || '';\r\n  }\r\n\r\n  formatInteractionText(key: string, params: Record<string, unknown> = {}, fallback = ''): string {\r\n    const value = TextResources.format(key, params, fallback);\r\n    return value || fallback || '';\r\n  }\r\n\r\n  handleSwitch(object: GameObjectState): boolean {\r\n    const OT = this.types;\r\n    if (object.type !== OT.SWITCH) return false;\r\n    object.on = !object.on;\r\n    const variableId = this.gameState.normalizeVariableId?.(object.variableId ?? null) ?? null;\r\n    if (variableId) {\r\n      this.gameState.setVariableValue?.(variableId, object.on);\r\n    }\r\n    const message = object.on\r\n      ? this.getInteractionText('objects.switch.onMessage', '')\r\n      : this.getInteractionText('objects.switch.offMessage', '');\r\n    if (message) {\r\n      this.dialogManager.showDialog(message);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  handlePlayerEnd(object: GameObjectState): boolean {\r\n    const OT = this.types;\r\n    if (object.type !== OT.PLAYER_END) return false;\r\n    const endingText = this.gameState.getPlayerEndText(object.roomIndex);\r\n    this.gameState.setActiveEndingText?.(endingText || '');\r\n    this.options?.onPlayerVictory?.();\r\n    return true;\r\n  }\r\n\r\n  checkNpcs(npcs: NpcState[], player: PlayerPosition): void {\r\n    for (const npc of npcs) {\r\n      if (!npc.placed) continue;\r\n      const sameTile = npc.roomIndex === player.roomIndex && npc.x === player.x && npc.y === player.y;\r\n      if (!sameTile) continue;\r\n\r\n      const dialogText = this.getNpcDialogText(npc);\r\n      const meta = this.getNpcDialogMeta(npc);\r\n      this.dialogManager.showDialog(dialogText, meta);\r\n      break;\r\n    }\r\n  }\r\n\r\n  getNpcDialogText(npc: NpcState): string {\r\n    const rawConditionId = npc?.conditionVariableId || null;\r\n    const isBardCondition = rawConditionId === 'skill:bard';\r\n    const conditionId = isBardCondition ? null : this.gameState.normalizeVariableId?.(rawConditionId) ?? null;\r\n    const hasConditionText = typeof npc.conditionText === 'string' && npc.conditionText.trim().length > 0;\r\n    const charisma = this.gameState.hasSkill?.('charisma');\r\n    const conditionActive =\r\n      hasConditionText && ((isBardCondition && charisma) || (conditionId && this.gameState.isVariableOn?.(conditionId)));\r\n    const useConditionText = conditionActive && hasConditionText;\r\n\r\n    if (useConditionText) {\r\n      return npc.conditionText ?? '';\r\n    }\r\n\r\n    if (typeof npc.text === 'string' && npc.text.trim()) {\r\n      return npc.text;\r\n    }\r\n\r\n    if (useConditionText) {\r\n      return npc.conditionText ?? '';\r\n    }\r\n\r\n    return npc.text || 'Hello!';\r\n  }\r\n\r\n  getNpcDialogMeta(npc: NpcState): Record<string, unknown> | undefined {\r\n    const rawConditionId = npc?.conditionVariableId || null;\r\n    const isBardCondition = rawConditionId === 'skill:bard';\r\n    const conditionId = isBardCondition ? null : this.gameState.normalizeVariableId?.(rawConditionId) ?? null;\r\n    const rewardId = this.gameState.normalizeVariableId?.(npc.rewardVariableId ?? null) ?? null;\r\n    const conditionalRewardId =\r\n      this.gameState.normalizeVariableId?.(npc.conditionalRewardVariableId ?? null) ?? null;\r\n    const hasConditionText = typeof npc.conditionText === 'string' && npc.conditionText.trim().length > 0;\r\n    const charisma = this.gameState.hasSkill?.('charisma');\r\n    const conditionActive =\r\n      hasConditionText && ((isBardCondition && charisma) || (conditionId && this.gameState.isVariableOn?.(conditionId)));\r\n\r\n    if (conditionActive && conditionalRewardId) {\r\n      return { setVariableId: conditionalRewardId, rewardAllowed: true };\r\n    }\r\n\r\n    if (!conditionActive && rewardId) {\r\n      return { setVariableId: rewardId, rewardAllowed: true };\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  checkRoomExits(exits: ExitState[], rooms: RoomState[], player: PlayerPosition): void {\r\n    if (!Array.isArray(exits)) return;\r\n    for (const exit of exits) {\r\n      const sameTile = exit.roomIndex === player.roomIndex && exit.x === player.x && exit.y === player.y;\r\n      if (!sameTile) continue;\r\n\r\n      if (rooms[exit.targetRoomIndex]) {\r\n        this.gameState.setPlayerPosition(\r\n          this.clamp(exit.targetX, 0, 7),\r\n          this.clamp(exit.targetY, 0, 7),\r\n          exit.targetRoomIndex,\r\n        );\r\n      }\r\n      break;\r\n    }\r\n  }\r\n\r\n  clamp(v: number, a: number, b: number): number {\r\n    return Math.max(a, Math.min(b, v));\r\n  }\r\n}\r\n\r\nexport { InteractionManager };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\repos\\tiny-rpg-maker\\src\\runtime\\services\\engine\\MovementManager.ts","messages":[{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":52,"column":9,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":52,"endColumn":49},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":53,"column":3,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":53,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":57,"column":9,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":57,"endColumn":60},{"ruleId":"@typescript-eslint/no-unsafe-return","severity":2,"message":"Unsafe return of a value of type error.","line":58,"column":3,"nodeType":"ReturnStatement","messageId":"unsafeReturn","endLine":58,"endColumn":34},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `number`.","line":116,"column":36,"nodeType":"BinaryExpression","messageId":"unsafeArgument","endLine":116,"endColumn":51},{"ruleId":"@typescript-eslint/no-unsafe-member-access","severity":2,"message":"Unsafe member access [targetX] on a type that cannot be resolved.","line":188,"column":39,"nodeType":"Identifier","messageId":"errorMemberExpression","endLine":188,"endColumn":46},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":198,"column":13,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":198,"endColumn":52},{"ruleId":"@typescript-eslint/no-unsafe-argument","severity":2,"message":"Unsafe argument of type error typed assigned to a parameter of type `string | number | null | undefined`.","line":199,"column":65,"nodeType":"Identifier","messageId":"unsafeArgument","endLine":199,"endColumn":75},{"ruleId":"@typescript-eslint/no-unsafe-assignment","severity":2,"message":"Unsafe assignment of an error typed value.","line":220,"column":15,"nodeType":"VariableDeclarator","messageId":"anyAssignment","endLine":220,"endColumn":55}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { GameState } from '../../domain/GameState';\r\nimport { TextResources } from '../../adapters/TextResources';\r\n\r\ntype TileManagerApi = {\r\n  getTileMap: (roomIndex: number) => TileMapState | null;\r\n  getTile: (tileId: string | number) => TileDefinition | null;\r\n};\r\n\r\ntype RendererApi = {\r\n  draw: () => void;\r\n  captureGameplayFrame: () => unknown;\r\n  startRoomTransition: (payload: Record<string, unknown>) => boolean;\r\n  flashEdge: (direction: string, payload: Record<string, unknown>) => void;\r\n};\r\n\r\ntype DialogManagerApi = {\r\n  closeDialog: () => void;\r\n  showDialog: (text: string, meta?: Record<string, unknown>) => void;\r\n};\r\n\r\ntype InteractionManagerApi = {\r\n  handlePlayerInteractions: () => void;\r\n  getNpcDialogText?: (npc: NpcState) => string;\r\n  getNpcDialogMeta?: (npc: NpcState) => Record<string, unknown> | undefined;\r\n};\r\n\r\ntype EnemyManagerApi = {\r\n  collideAt: (roomIndex: number, x: number, y: number) => boolean;\r\n  checkCollisionAt: (x: number, y: number) => void;\r\n};\r\n\r\ntype NpcState = {\n  placed?: boolean;\n  roomIndex: number;\n  x: number;\n  y: number;\n  text?: string;\n};\n\ntype TileDefinition = {\n  collision?: boolean;\n  category?: string;\n  name?: string;\r\n};\r\n\r\ntype TileMapState = {\r\n  ground?: (string | number | null)[][];\r\n  overlay?: (string | number | null)[][];\r\n};\r\n\r\nconst getMovementText = (key: string, fallback = ''): string => {\r\n  const value = TextResources.get(key, fallback);\r\n  return value || fallback || '';\r\n};\r\n\r\nconst formatMovementText = (key: string, params: Record<string, unknown> = {}, fallback = ''): string => {\r\n  const value = TextResources.format(key, params, fallback);\r\n  return value || fallback || '';\r\n};\r\n\r\nclass MovementManager {\r\n  gameState: GameState;\r\n  tileManager: TileManagerApi;\r\n  renderer: RendererApi;\r\n  dialogManager: DialogManagerApi;\r\n  interactionManager: InteractionManagerApi;\r\n  enemyManager: EnemyManagerApi;\r\n  transitioning: boolean;\r\n\r\n  constructor({\r\n    gameState,\r\n    tileManager,\r\n    renderer,\r\n    dialogManager,\r\n    interactionManager,\r\n    enemyManager,\r\n  }: {\r\n    gameState: GameState;\r\n    tileManager: TileManagerApi;\r\n    renderer: RendererApi;\r\n    dialogManager: DialogManagerApi;\r\n    interactionManager: InteractionManagerApi;\r\n    enemyManager: EnemyManagerApi;\r\n  }) {\r\n    this.gameState = gameState;\r\n    this.tileManager = tileManager;\r\n    this.renderer = renderer;\r\n    this.dialogManager = dialogManager;\r\n    this.interactionManager = interactionManager;\r\n    this.enemyManager = enemyManager;\r\n    this.transitioning = false;\r\n  }\r\n\r\n  tryMove(dx: number, dy: number): void {\r\n    if (this.transitioning) {\r\n      return;\r\n    }\r\n    if (this.gameState.isGameOver()) {\r\n      return;\r\n    }\r\n    if (this.gameState.isLevelUpCelebrationActive?.()) {\r\n      return;\r\n    }\r\n    if (this.gameState.isLevelUpOverlayActive?.()) {\r\n      return;\r\n    }\r\n    if (this.gameState.isPickupOverlayActive?.()) {\r\n      return;\r\n    }\r\n    const dialog = this.gameState.getDialog();\r\n    if (dialog.active) {\r\n      if (dialog.page >= dialog.maxPages) {\r\n        this.dialogManager.closeDialog();\r\n        return;\r\n      }\r\n      this.gameState.setDialogPage(dialog.page + 1);\r\n      this.renderer.draw();\r\n      return;\r\n    }\r\n\r\n    const player = this.gameState.getPlayer();\r\n    const direction = this.getDirectionFromDelta(dx, dy);\r\n    const roomIndex = player.roomIndex;\r\n    const previousPosition = {\r\n      x: player?.x ?? 0,\r\n      y: player?.y ?? 0,\r\n      roomIndex,\r\n      lastX: player?.lastX ?? player?.x ?? 0,\r\n      facingLeft: (player?.x ?? 0) < (player?.lastX ?? player?.x ?? 0),\r\n    };\r\n    const currentCoords = this.gameState.getRoomCoords(roomIndex);\r\n    const limit = this.gameState.game.roomSize - 1;\r\n\r\n    let targetRoomIndex = roomIndex;\r\n    let targetX = player.x + dx;\r\n    let targetY = player.y + dy;\r\n\r\n    if (targetX < 0) {\r\n      const nextCol = currentCoords.col - 1;\r\n      const neighbor = this.gameState.getRoomIndex(currentCoords.row, nextCol);\r\n      if (neighbor !== null) {\r\n        targetRoomIndex = neighbor;\r\n        targetX = limit;\r\n      } else {\r\n        targetX = 0;\r\n      }\r\n    } else if (targetX > limit) {\r\n      const nextCol = currentCoords.col + 1;\r\n      const neighbor = this.gameState.getRoomIndex(currentCoords.row, nextCol);\r\n      if (neighbor !== null) {\r\n        targetRoomIndex = neighbor;\r\n        targetX = 0;\r\n      } else {\r\n        targetX = limit;\r\n      }\r\n    }\r\n\r\n    if (targetY < 0) {\r\n      const nextRow = currentCoords.row - 1;\r\n      const neighbor = this.gameState.getRoomIndex(nextRow, currentCoords.col);\r\n      if (neighbor !== null) {\r\n        targetRoomIndex = neighbor;\r\n        targetY = limit;\r\n      } else {\r\n        targetY = 0;\r\n      }\r\n    } else if (targetY > limit) {\r\n      const nextRow = currentCoords.row + 1;\r\n      const neighbor = this.gameState.getRoomIndex(nextRow, currentCoords.col);\r\n      if (neighbor !== null) {\r\n        targetRoomIndex = neighbor;\r\n        targetY = 0;\r\n      } else {\r\n        targetY = limit;\r\n      }\r\n    }\r\n\r\n    const enteringNewRoom = targetRoomIndex !== roomIndex;\r\n\r\n    const targetRoom = this.gameState.getGame().rooms?.[targetRoomIndex];\r\n    if (!targetRoom) {\r\n      if (enteringNewRoom) {\r\n        this.flashBlockedEdge(direction, { x: targetX, y: targetY });\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (targetRoom.walls?.[targetY]?.[targetX]) {\r\n      if (enteringNewRoom) {\r\n        this.flashBlockedEdge(direction, { x: targetX, y: targetY });\r\n      }\r\n      return;\r\n    }\r\n\r\n    const objectAtTarget = this.gameState.getObjectAt(targetRoomIndex, targetX, targetY) ?? null;\r\n    const isVariableDoor = Boolean(objectAtTarget?.isVariableDoor);\r\n    if (isVariableDoor) {\r\n      const variableId = objectAtTarget?.variableId;\r\n      const doorOpen = variableId ? this.gameState.isVariableOn(variableId) : false;\r\n      if (!doorOpen) {\r\n        this.dialogManager.showDialog(getMovementText('doors.variableLocked'));\r\n        this.renderer.draw();\r\n        return;\r\n      }\r\n    }\r\n    const isLockedDoor = Boolean(objectAtTarget?.isLockedDoor);\r\n    if (isLockedDoor && !objectAtTarget?.opened) {\r\n      const hasSkill = this.gameState.hasSkill?.('keyless-doors');\r\n      let openedWithSkill = false;\r\n      let consumeKey = false;\r\n      if (hasSkill) {\r\n        openedWithSkill = true;\r\n      } else {\r\n        consumeKey = this.gameState.consumeKey();\r\n      }\r\n      if (openedWithSkill || consumeKey) {\r\n        if (objectAtTarget) {\r\n          objectAtTarget.opened = true;\r\n        }\r\n        const remainingKeys = this.gameState.getKeys();\r\n        const message = openedWithSkill\r\n          ? getMovementText('doors.unlockedSkill', getMovementText('doors.opened', ''))\r\n          : Number.isFinite(remainingKeys)\r\n            ? formatMovementText('doors.openedRemaining', { value: remainingKeys })\r\n            : getMovementText('doors.opened');\r\n        if (message) {\r\n          this.dialogManager.showDialog(message);\r\n        }\r\n      } else {\r\n        this.dialogManager.showDialog(getMovementText('doors.locked'));\r\n        this.renderer.draw();\r\n        return;\r\n      }\r\n    }\r\n\r\n    const tileMap = this.tileManager.getTileMap(targetRoomIndex);\r\n    const overlayId = tileMap?.overlay?.[targetY]?.[targetX] ?? null;\r\n    const groundId = tileMap?.ground?.[targetY]?.[targetX] ?? null;\r\n    const candidateId = overlayId ?? groundId;\r\n    if (candidateId !== null && candidateId !== undefined) {\r\n      const tile = this.tileManager.getTile(candidateId);\r\n      if (tile?.collision && !this.canTraverseCollisionTile(tile)) {\r\n        if (enteringNewRoom) {\r\n          this.flashBlockedEdge(direction, { x: targetX, y: targetY });\r\n        }\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Prevent passing through NPCs: trigger dialog and stay in place.\r\n    const npcAtTarget = this.findNpcAt(targetRoomIndex, targetX, targetY);\r\n    if (npcAtTarget) {\r\n      const dialogText = this.interactionManager.getNpcDialogText\r\n        ? this.interactionManager.getNpcDialogText(npcAtTarget)\r\n        : npcAtTarget.text || '';\r\n      const dialogMeta = this.interactionManager.getNpcDialogMeta\r\n        ? this.interactionManager.getNpcDialogMeta(npcAtTarget)\r\n        : undefined;\r\n      if (dialogText) {\r\n        this.dialogManager.showDialog(dialogText, dialogMeta);\r\n        this.renderer.draw();\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Prevent passing through enemies: resolve collision/combat without moving.\r\n    if (!enteringNewRoom) {\r\n      const enemyHit = this.enemyManager?.collideAt?.(targetRoomIndex, targetX, targetY) || false;\r\n      if (enemyHit) {\r\n        this.renderer.draw();\r\n        return;\r\n      }\r\n    }\r\n\r\n    const supportsTransition = enteringNewRoom;\r\n    const fromFrame = supportsTransition ? this.renderer.captureGameplayFrame() : null;\r\n\r\n    this.gameState.setPlayerPosition(targetX, targetY, targetRoomIndex !== roomIndex ? targetRoomIndex : null);\r\n    if (enteringNewRoom) {\r\n      const updatedPlayer = this.gameState.getPlayer();\r\n      if (updatedPlayer) {\r\n        if (dx !== 0) {\r\n          updatedPlayer.lastX = updatedPlayer.x - Math.sign(dx);\r\n        } else if (previousPosition.lastX !== undefined) {\r\n          updatedPlayer.lastX = previousPosition.lastX;\r\n        }\r\n        updatedPlayer.lastRoomChangeTime = Date.now();\r\n      }\r\n    }\r\n    this.interactionManager.handlePlayerInteractions();\r\n    const currentPlayer = this.gameState.getPlayer();\r\n    this.enemyManager.checkCollisionAt(currentPlayer.x, currentPlayer.y);\r\n\r\n    if (supportsTransition && fromFrame) {\r\n      this.renderer.draw();\r\n      const toFrame = this.renderer.captureGameplayFrame();\r\n      if (toFrame) {\r\n        const started = this.renderer.startRoomTransition({\r\n          direction,\r\n          fromFrame,\r\n          toFrame,\r\n          playerPath: {\r\n            from: previousPosition,\r\n            to: { x: targetX, y: targetY, roomIndex: targetRoomIndex },\r\n            facingLeft: dx < 0 ? true : dx > 0 ? false : previousPosition.facingLeft,\r\n          },\r\n          onComplete: () => {\r\n            this.transitioning = false;\r\n            this.renderer.draw();\r\n          },\r\n        });\r\n        if (started) {\r\n          this.transitioning = true;\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.renderer.draw();\r\n  }\r\n\r\n  getDirectionFromDelta(dx: number, dy: number): string {\r\n    if (dx < 0) return 'left';\r\n    if (dx > 0) return 'right';\r\n    if (dy < 0) return 'up';\r\n    if (dy > 0) return 'down';\r\n    return '';\r\n  }\r\n\r\n  canTraverseCollisionTile(tile: { collision?: boolean; category?: string; name?: string } | null = null): boolean {\r\n    if (!tile?.collision) return true;\r\n    const normalize = (value = '') =>\r\n      value\r\n        .toString()\r\n        .trim()\r\n        .toLowerCase()\r\n        .normalize('NFD')\r\n        .replace(/[\\u0300-\\u036f]/g, '');\r\n    const category = normalize(tile.category || '');\r\n    const name = normalize(tile.name || '');\r\n    const isWater = category === 'agua' || name.includes('agua');\r\n    const isLava = category === 'perigo' || name.includes('lava');\r\n    if (isWater && this.gameState.hasSkill?.('water-walker')) {\r\n      return true;\r\n    }\r\n    if (isLava && this.gameState.hasSkill?.('lava-walker')) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  flashBlockedEdge(direction: string, coords: { x?: number; y?: number } | null = null): void {\r\n    if (!direction) return;\r\n    this.renderer.flashEdge(direction, {\r\n      duration: 240,\r\n      tileX: coords?.x,\r\n      tileY: coords?.y,\r\n    });\r\n    this.renderer.draw();\r\n  }\r\n\r\n  findNpcAt(roomIndex: number, x: number, y: number): NpcState | null {\r\n    const sprites = this.gameState?.getGame()?.sprites || [];\r\n    return (\r\n      sprites.find((npc) => npc.placed && npc.roomIndex === roomIndex && npc.x === x && npc.y === y) ||\r\n      null\r\n    );\r\n  }\r\n}\r\n\r\nexport { MovementManager };\r\n","usedDeprecatedRules":[]}]
